WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.fusesource.jansi.internal.JansiLoader in an unnamed module (file:/C:/MyTools/apache-maven-3.8.5/lib/jansi-2.4.0.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper (file:/C:/MyTools/apache-maven-3.8.5/lib/guava-25.1-android.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< com.retail:retail-backend >----------------------
[INFO] Building Retail Platform Backend 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/jacoco-maven-plugin/0.8.14/jacoco-maven-plugin-0.8.14.pom
Progress (1): 4.1 kBProgress (1): 4.2 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/jacoco-maven-plugin/0.8.14/jacoco-maven-plugin-0.8.14.pom (4.2 kB at 8.6 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.build/0.8.14/org.jacoco.build-0.8.14.pom
Progress (1): 4.1 kBProgress (1): 8.2 kBProgress (1): 12 kB Progress (1): 16 kBProgress (1): 20 kBProgress (1): 25 kBProgress (1): 29 kBProgress (1): 33 kBProgress (1): 37 kBProgress (1): 41 kBProgress (1): 45 kBProgress (1): 46 kB                   Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.build/0.8.14/org.jacoco.build-0.8.14.pom (46 kB at 131 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm-bom/9.9/asm-bom-9.9.pom
Progress (1): 3.3 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm-bom/9.9/asm-bom-9.9.pom (3.3 kB at 8.8 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/jacoco-maven-plugin/0.8.14/jacoco-maven-plugin-0.8.14.jar
Progress (1): 2.3/57 kBProgress (1): 5.0/57 kBProgress (1): 7.7/57 kBProgress (1): 10/57 kB Progress (1): 13/57 kBProgress (1): 16/57 kBProgress (1): 19/57 kBProgress (1): 21/57 kBProgress (1): 24/57 kBProgress (1): 27/57 kBProgress (1): 30/57 kBProgress (1): 34/57 kBProgress (1): 38/57 kBProgress (1): 42/57 kBProgress (1): 46/57 kBProgress (1): 50/57 kBProgress (1): 54/57 kBProgress (1): 56/57 kBProgress (1): 57 kB                      Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/jacoco-maven-plugin/0.8.14/jacoco-maven-plugin-0.8.14.jar (57 kB at 138 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/de/flapdoodle/embed/de.flapdoodle.embed.mongo.spring30x/4.21.0/de.flapdoodle.embed.mongo.spring30x-4.21.0.pom
Progress (1): 4.1 kBProgress (1): 8.2 kBProgress (1): 12 kB Progress (1): 16 kBProgress (1): 20 kBProgress (1): 22 kB                   Downloaded from central: https://repo.maven.apache.org/maven2/de/flapdoodle/embed/de.flapdoodle.embed.mongo.spring30x/4.21.0/de.flapdoodle.embed.mongo.spring30x-4.21.0.pom (22 kB at 53 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/de/flapdoodle/embed/de.flapdoodle.embed.mongo.spring30x/4.21.0/de.flapdoodle.embed.mongo.spring30x-4.21.0.jar
Progress (1): 3.8/29 kBProgress (1): 7.9/29 kBProgress (1): 12/29 kB Progress (1): 16/29 kBProgress (1): 20/29 kBProgress (1): 24/29 kBProgress (1): 28/29 kBProgress (1): 29 kB                      Downloaded from central: https://repo.maven.apache.org/maven2/de/flapdoodle/embed/de.flapdoodle.embed.mongo.spring30x/4.21.0/de.flapdoodle.embed.mongo.spring30x-4.21.0.jar (29 kB at 62 kB/s)
[INFO] 
[INFO] --- maven-clean-plugin:3.3.2:clean (default-clean) @ retail-backend ---
[INFO] Deleting D:\code\retail-agentic\backend\target
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.14:prepare-agent (default) @ retail-backend ---
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.agent/0.8.14/org.jacoco.agent-0.8.14.pom
Progress (1): 3.5 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.agent/0.8.14/org.jacoco.agent-0.8.14.pom (3.5 kB at 12 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.core/0.8.14/org.jacoco.core-0.8.14.pom
Progress (1): 2.1 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.core/0.8.14/org.jacoco.core-0.8.14.pom (2.1 kB at 17 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.report/0.8.14/org.jacoco.report-0.8.14.pom
Progress (1): 1.9 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.report/0.8.14/org.jacoco.report-0.8.14.pom (1.9 kB at 16 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.agent/0.8.14/org.jacoco.agent-0.8.14-runtime.jar
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.core/0.8.14/org.jacoco.core-0.8.14.jar
Downloading from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.report/0.8.14/org.jacoco.report-0.8.14.jar
Progress (1): 3.8/307 kBProgress (1): 7.9/307 kBProgress (1): 12/307 kB Progress (1): 16/307 kBProgress (1): 20/307 kBProgress (1): 24/307 kBProgress (1): 28/307 kBProgress (1): 32/307 kBProgress (1): 37/307 kBProgress (1): 41/307 kBProgress (1): 45/307 kBProgress (1): 49/307 kBProgress (1): 53/307 kBProgress (1): 57/307 kBProgress (1): 61/307 kBProgress (1): 65/307 kBProgress (1): 69/307 kBProgress (1): 73/307 kBProgress (1): 77/307 kBProgress (1): 82/307 kBProgress (1): 86/307 kBProgress (1): 90/307 kBProgress (1): 94/307 kBProgress (1): 98/307 kBProgress (1): 102/307 kBProgress (1): 106/307 kBProgress (1): 110/307 kBProgress (1): 114/307 kBProgress (1): 118/307 kBProgress (1): 123/307 kBProgress (1): 127/307 kBProgress (1): 129/307 kBProgress (1): 133/307 kBProgress (1): 137/307 kBProgress (1): 141/307 kBProgress (1): 145/307 kBProgress (1): 150/307 kBProgress (1): 154/307 kBProgress (1): 158/307 kBProgress (1): 162/307 kBProgress (1): 166/307 kBProgress (1): 170/307 kBProgress (1): 174/307 kBProgress (1): 178/307 kBProgress (1): 182/307 kBProgress (1): 186/307 kBProgress (1): 190/307 kBProgress (1): 195/307 kBProgress (1): 199/307 kBProgress (1): 203/307 kBProgress (1): 207/307 kBProgress (1): 211/307 kBProgress (1): 215/307 kBProgress (1): 219/307 kBProgress (1): 223/307 kBProgress (1): 227/307 kBProgress (1): 231/307 kBProgress (1): 236/307 kBProgress (1): 240/307 kBProgress (1): 244/307 kBProgress (1): 248/307 kBProgress (1): 252/307 kBProgress (1): 256/307 kBProgress (1): 260/307 kBProgress (1): 264/307 kBProgress (1): 268/307 kBProgress (1): 272/307 kBProgress (1): 277/307 kBProgress (1): 281/307 kBProgress (1): 285/307 kBProgress (1): 289/307 kBProgress (1): 293/307 kBProgress (1): 297/307 kBProgress (1): 301/307 kBProgress (1): 305/307 kBProgress (1): 307 kB    Progress (2): 307 kB | 2.7/131 kBProgress (2): 307 kB | 5.5/131 kBProgress (2): 307 kB | 8.2/131 kBProgress (2): 307 kB | 11/131 kB Progress (2): 307 kB | 14/131 kBProgress (2): 307 kB | 16/131 kBProgress (2): 307 kB | 19/131 kBProgress (2): 307 kB | 22/131 kBProgress (2): 307 kB | 25/131 kBProgress (2): 307 kB | 27/131 kBProgress (2): 307 kB | 30/131 kBProgress (2): 307 kB | 33/131 kBProgress (2): 307 kB | 36/131 kBProgress (2): 307 kB | 38/131 kBProgress (2): 307 kB | 41/131 kBProgress (2): 307 kB | 44/131 kBProgress (2): 307 kB | 47/131 kBProgress (2): 307 kB | 49/131 kBProgress (2): 307 kB | 52/131 kBProgress (3): 307 kB | 52/131 kB | 2.3/230 kBProgress (3): 307 kB | 55/131 kB | 2.3/230 kBProgress (3): 307 kB | 57/131 kB | 2.3/230 kBProgress (3): 307 kB | 57/131 kB | 5.1/230 kBProgress (3): 307 kB | 57/131 kB | 7.8/230 kBProgress (3): 307 kB | 57/131 kB | 11/230 kB Progress (3): 307 kB | 61/131 kB | 11/230 kBProgress (3): 307 kB | 61/131 kB | 13/230 kBProgress (3): 307 kB | 61/131 kB | 16/230 kBProgress (3): 307 kB | 61/131 kB | 19/230 kBProgress (3): 307 kB | 61/131 kB | 22/230 kBProgress (3): 307 kB | 61/131 kB | 24/230 kBProgress (3): 307 kB | 61/131 kB | 27/230 kBProgress (3): 307 kB | 61/131 kB | 30/230 kBProgress (3): 307 kB | 61/131 kB | 32/230 kBProgress (3): 307 kB | 61/131 kB | 35/230 kBProgress (3): 307 kB | 61/131 kB | 38/230 kBProgress (3): 307 kB | 61/131 kB | 41/230 kBProgress (3): 307 kB | 61/131 kB | 43/230 kBProgress (3): 307 kB | 61/131 kB | 46/230 kBProgress (3): 307 kB | 61/131 kB | 49/230 kBProgress (3): 307 kB | 61/131 kB | 52/230 kBProgress (3): 307 kB | 61/131 kB | 54/230 kBProgress (3): 307 kB | 61/131 kB | 58/230 kBProgress (3): 307 kB | 61/131 kB | 63/230 kBProgress (3): 307 kB | 66/131 kB | 63/230 kBProgress (3): 307 kB | 70/131 kB | 63/230 kBProgress (3): 307 kB | 74/131 kB | 63/230 kBProgress (3): 307 kB | 78/131 kB | 63/230 kBProgress (3): 307 kB | 82/131 kB | 63/230 kBProgress (3): 307 kB | 86/131 kB | 63/230 kBProgress (3): 307 kB | 90/131 kB | 63/230 kBProgress (3): 307 kB | 94/131 kB | 63/230 kBProgress (3): 307 kB | 98/131 kB | 63/230 kBProgress (3): 307 kB | 102/131 kB | 63/230 kBProgress (3): 307 kB | 106/131 kB | 63/230 kBProgress (3): 307 kB | 111/131 kB | 63/230 kB                                             Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.agent/0.8.14/org.jacoco.agent-0.8.14-runtime.jar (307 kB at 2.0 MB/s)
Progress (2): 115/131 kB | 63/230 kBProgress (2): 119/131 kB | 63/230 kBProgress (2): 119/131 kB | 67/230 kBProgress (2): 123/131 kB | 67/230 kBProgress (2): 125/131 kB | 67/230 kBProgress (2): 125/131 kB | 71/230 kBProgress (2): 125/131 kB | 75/230 kBProgress (2): 125/131 kB | 79/230 kBProgress (2): 125/131 kB | 83/230 kBProgress (2): 125/131 kB | 87/230 kBProgress (2): 125/131 kB | 91/230 kBProgress (2): 125/131 kB | 95/230 kBProgress (2): 125/131 kB | 99/230 kBProgress (2): 125/131 kB | 104/230 kBProgress (2): 125/131 kB | 108/230 kBProgress (2): 125/131 kB | 112/230 kBProgress (2): 125/131 kB | 116/230 kBProgress (2): 125/131 kB | 120/230 kBProgress (2): 125/131 kB | 122/230 kBProgress (2): 125/131 kB | 126/230 kBProgress (2): 129/131 kB | 126/230 kBProgress (2): 131 kB | 126/230 kB    Progress (2): 131 kB | 130/230 kBProgress (2): 131 kB | 134/230 kBProgress (2): 131 kB | 138/230 kBProgress (2): 131 kB | 143/230 kBProgress (2): 131 kB | 147/230 kBProgress (2): 131 kB | 151/230 kBProgress (2): 131 kB | 155/230 kBProgress (2): 131 kB | 159/230 kBProgress (2): 131 kB | 163/230 kBProgress (2): 131 kB | 167/230 kBProgress (2): 131 kB | 171/230 kBProgress (2): 131 kB | 175/230 kBProgress (2): 131 kB | 179/230 kBProgress (2): 131 kB | 183/230 kBProgress (2): 131 kB | 188/230 kBProgress (2): 131 kB | 192/230 kBProgress (2): 131 kB | 196/230 kBProgress (2): 131 kB | 200/230 kBProgress (2): 131 kB | 204/230 kBProgress (2): 131 kB | 208/230 kBProgress (2): 131 kB | 212/230 kBProgress (2): 131 kB | 216/230 kBProgress (2): 131 kB | 220/230 kBProgress (2): 131 kB | 224/230 kBProgress (2): 131 kB | 228/230 kBProgress (2): 131 kB | 230 kB                                 Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.report/0.8.14/org.jacoco.report-0.8.14.jar (131 kB at 591 kB/s)
Downloaded from central: https://repo.maven.apache.org/maven2/org/jacoco/org.jacoco.core/0.8.14/org.jacoco.core-0.8.14.jar (230 kB at 844 kB/s)
[INFO] argLine set to -javaagent:C:\\Users\\codep\\.m2\\repository\\org\\jacoco\\org.jacoco.agent\\0.8.14\\org.jacoco.agent-0.8.14-runtime.jar=destfile=D:\\code\\retail-agentic\\backend\\target\\jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:resources (default-resources) @ retail-backend ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.14.1:compile (default-compile) @ retail-backend ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 129 source files with javac [debug parameters release 21] to target\classes
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/security/JwtService.java: Some input files use or override a deprecated API.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/security/JwtService.java: Recompile with -Xlint:deprecation for details.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/domain/auth/OAuth2Service.java: D:\code\retail-agentic\backend\src\main\java\com\retail\domain\auth\OAuth2Service.java uses unchecked or unsafe operations.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/domain/auth/OAuth2Service.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:testResources (default-testResources) @ retail-backend ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.14.1:testCompile (default-testCompile) @ retail-backend ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 29 source files with javac [debug parameters release 21] to target\test-classes
[INFO] /D:/code/retail-agentic/backend/src/test/java/com/retail/TestRedisConfiguration.java: Some input files use unchecked or unsafe operations.
[INFO] /D:/code/retail-agentic/backend/src/test/java/com/retail/TestRedisConfiguration.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:3.5.4:test (default-test) @ retail-backend ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.retail.controller.AuthControllerTest
WARNING: A Java agent has been loaded dynamically (C:\Users\codep\.m2\repository\net\bytebuddy\byte-buddy-agent\1.15.10\byte-buddy-agent-1.15.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction (file:/C:/Users/codep/.m2/repository/net/bytebuddy/byte-buddy/1.15.10/byte-buddy-1.15.10.jar)
WARNING: Please consider reporting this to the maintainers of class net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
18:46:40.122 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
18:46:40.142 [main] INFO com.retail.controller.AuthController -- Login successful for: test@example.com
18:46:40.170 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: existing@example.com tenant: test-tenant
18:46:40.182 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: newuser@example.com tenant: test-tenant
18:46:40.184 [main] INFO com.retail.controller.AuthController -- Registration successful for: newuser@example.com
18:46:40.195 [main] INFO com.retail.controller.AuthController -- Login attempt for email: nonexistent@example.com tenant: test-tenant
18:46:40.196 [main] WARN com.retail.controller.AuthController -- Login failed for: nonexistent@example.com
18:46:40.200 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
18:46:40.201 [main] WARN com.retail.controller.AuthController -- Login failed for: test@example.com
18:46:40.210 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: shared@example.com tenant: test-tenant
18:46:40.212 [main] INFO com.retail.controller.AuthController -- Registration successful for: shared@example.com
18:46:40.219 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
18:46:40.220 [main] ERROR com.retail.controller.AuthController -- OAuth2 login failed
java.lang.RuntimeException: Invalid token
	at com.retail.controller.AuthControllerTest.oauth2Login_invalidToken_shouldReturnUnauthorized(AuthControllerTest.java:194)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:40.227 [main] INFO com.retail.controller.AuthController -- Login attempt for email: oauth@example.com tenant: test-tenant
18:46:40.229 [main] WARN com.retail.controller.AuthController -- Login failed for: oauth@example.com
18:46:40.234 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.209 s -- in com.retail.controller.AuthControllerTest
[INFO] Running com.retail.controller.HealthControllerTest
18:46:40.351 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.retail.controller.HealthControllerTest]: HealthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:40.520 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.HealthControllerTest
18:46:40.619 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

18:46:40.904 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
18:46:40.923 INFO  c.r.controller.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 13892 (started by codep in D:\code\retail-agentic\backend)
18:46:40.925 INFO  c.r.controller.HealthControllerTest - The following 1 profile is active: "test"
18:46:42.291 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:42.315 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:42.377 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:42.408 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:42.412 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:42.571 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
18:46:42.831 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.831-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
18:46:42.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.833-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
18:46:42.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.834-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
18:46:42.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.836-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
18:46:42.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.836-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
18:46:42.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.836-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
18:46:42.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.836-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
18:46:42.838 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.838-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":26416,"port":54117,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--96feef8a-b2ef-4c18-bdbc-e8a0e2fd37db/mongod-database4899432869986613246","architecture":"64-bit","host":"jon-desktop"}}
18:46:42.838 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.838-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
18:46:42.838 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.838-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
18:46:42.838 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.838-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
18:46:42.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.838-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":54117},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--96feef8a-b2ef-4c18-bdbc-e8a0e2fd37db\\mongod-database4899432869986613246","journal":{"enabled":false},"syncPeriodSecs":0}}}}
18:46:42.842 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.841-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
18:46:42.912 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.913-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":71}}
18:46:42.913 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.913-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:42.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.959-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"b0aaa496-df10-4353-bd51-f35cfdedd8de"}},"options":{"uuid":{"$uuid":"b0aaa496-df10-4353-bd51-f35cfdedd8de"}}}}
18:46:42.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b0aaa496-df10-4353-bd51-f35cfdedd8de"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--8747137415793682878","collectionIdent":"collection-0--8747137415793682878","commitTimestamp":null}}
18:46:42.973 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
18:46:42.973 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
18:46:42.973 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:42.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:42.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.973-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
18:46:42.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.981-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
18:46:42.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:42.981-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
18:46:43.125 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.125-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--96feef8a-b2ef-4c18-bdbc-e8a0e2fd37db/mongod-database4899432869986613246/diagnostic.data"}}
18:46:43.126 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.126-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d97d3a18-42c6-4300-944c-3c439f3926f2"}},"options":{"capped":true,"size":10485760}}}
18:46:43.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.152-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d97d3a18-42c6-4300-944c-3c439f3926f2"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--8747137415793682878","collectionIdent":"collection-2--8747137415793682878","commitTimestamp":null}}
18:46:43.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.152-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
18:46:43.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.152-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
18:46:43.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.154-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
18:46:43.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.155-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bf8eb654-5fe3-4a79-b601-52d0b017c98c"}},"options":{}}}
18:46:43.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.155-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
18:46:43.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.155-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":54117,"ssl":"off"}}
18:46:43.184 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.184-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bf8eb654-5fe3-4a79-b601-52d0b017c98c"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--8747137415793682878","collectionIdent":"collection-4--8747137415793682878","commitTimestamp":null}}
18:46:43.184 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.184-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bf8eb654-5fe3-4a79-b601-52d0b017c98c"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--8747137415793682878","collectionIdent":"collection-4--8747137415793682878","commitTimestamp":null}}
18:46:43.397 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.398-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54119","uuid":"e51528dc-9619-4cda-801d-f08b18f3c0b9","connectionId":1,"connectionCount":1}}
18:46:43.398 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.398-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54120","uuid":"36cc427c-c0e9-475b-8294-46ec5bbdfd2a","connectionId":2,"connectionCount":2}}
18:46:43.437 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.438-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54120","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.437 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.438-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54119","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.649 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
18:46:43.650 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
18:46:43.650 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
18:46:43.650 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
18:46:43.650 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
18:46:43.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
18:46:43.714 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
18:46:43.714 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
18:46:43.714 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
18:46:43.714 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
18:46:43.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.716-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54121","uuid":"a74f4ea3-78e2-45be-8e55-979e1f3df13c","connectionId":3,"connectionCount":3}}
18:46:43.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.716-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54122","uuid":"4736e8a6-0553-43d1-bd02-0400b39c7fdf","connectionId":4,"connectionCount":4}}
18:46:43.716 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
18:46:43.725 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
18:46:43.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.728-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54121","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.728-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54122","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.730 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
18:46:43.732 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
18:46:43.733 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
18:46:43.735 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.735-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54123","uuid":"465b61bc-fc59-4df4-bf17-742abf7c89be","connectionId":5,"connectionCount":5}}
18:46:43.735 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.736-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54124","uuid":"e5c8ca41-014f-4092-ac8c-6cb02610f6d7","connectionId":6,"connectionCount":6}}
18:46:43.735 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
18:46:43.735 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
18:46:43.736 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.737-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54123","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.737-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54124","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.738 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
18:46:43.738 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
18:46:43.738 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
18:46:43.738 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
18:46:43.739 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.740-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54125","uuid":"c6962ee9-5aa8-4fdc-9538-692bd0f55c81","connectionId":7,"connectionCount":7}}
18:46:43.740 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
18:46:43.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.740-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54126","uuid":"586d12d2-0d82-409b-b56c-1479eecc3aef","connectionId":8,"connectionCount":8}}
18:46:43.740 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
18:46:43.741 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
18:46:43.741 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
18:46:43.741 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
18:46:43.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.741-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54125","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.742-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54126","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.743 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
18:46:43.743 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
18:46:43.744 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.745-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54127","uuid":"d0073ee9-335b-41fb-a248-ba8d51face3b","connectionId":9,"connectionCount":9}}
18:46:43.745 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.745-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54128","uuid":"da790df1-5460-4dec-977f-918fe8a9d73a","connectionId":10,"connectionCount":10}}
18:46:43.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.747-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:54128","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.748-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:54127","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.751-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54129","uuid":"70a04b1b-816d-44bf-bac0-46ae85111556","connectionId":11,"connectionCount":11}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f3ddb104-4010-4f1f-82f0-7d8413deb0ba"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c5c93c4e-7779-439a-be49-11e3c76f127f"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"02db9503-d3e9-49e2-a634-19e734e999ba"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"24249437-b1be-454a-9052-4b5e96ddec4f"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bec4fe26-c3a0-46d9-9324-29e7974b24b0"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eefc0df2-c600-49e7-93c5-87cd125824ba"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.752-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f24c8298-f9ea-4071-963d-a8d5ca123ce2"}},"options":{}}}
18:46:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.753-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54130","uuid":"dfe42624-89b3-44b6-9cb5-94f452125625","connectionId":12,"connectionCount":12}}
18:46:43.753 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.754-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:54129","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.753 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.754-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:54130","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.755 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.756-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bff92722-009b-4a8f-b109-4d153d2a44a5"}},"options":{}}}
18:46:43.755 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.756-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}},"options":{}}}
18:46:43.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.756-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54131","uuid":"8fb3727d-3074-4065-a2a1-9fdf45940c95","connectionId":13,"connectionCount":13}}
18:46:43.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.757-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54132","uuid":"cd79c084-75e7-454b-afe4-87c62a6457e1","connectionId":14,"connectionCount":14}}
18:46:43.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.758-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:54131","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.759-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:54132","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.760-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"options":{}}}
18:46:43.760 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.760-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d1d69ed9-0f59-4ce8-a772-1054e78cc7df"}},"options":{}}}
18:46:43.760 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.761-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54133","uuid":"256406a4-e3ea-4ee7-96ed-3ae8eb4fa07e","connectionId":15,"connectionCount":15}}
18:46:43.760 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.761-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54134","uuid":"42a9a037-fc93-4c59-bd7c-0d2d2f1191e5","connectionId":16,"connectionCount":16}}
18:46:43.762 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.762-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:54133","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.762 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.763-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:54134","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.765-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54135","uuid":"c2af1330-ef18-4c12-a000-c87668f32986","connectionId":17,"connectionCount":17}}
18:46:43.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.765-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a467af03-fa40-45af-93dd-572cf0445e7b"}},"options":{}}}
18:46:43.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.766-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54136","uuid":"89cd5612-e948-4e52-b2fd-7cecba17dddc","connectionId":18,"connectionCount":18}}
18:46:43.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.767-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:54136","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.767-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:54135","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.768-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f7b1dcbb-a437-4e0b-8bd1-636922956564"}},"options":{}}}
18:46:43.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.768-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}},"options":{}}}
18:46:43.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.769-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54138","uuid":"5df9183a-528f-4930-870d-31f6984ba988","connectionId":19,"connectionCount":19}}
18:46:43.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.769-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54137","uuid":"f16433c2-988e-4b48-a15a-308d35166db9","connectionId":20,"connectionCount":20}}
18:46:43.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.771-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a3a954ba-5810-4f2b-bd01-f20d60598705"}},"options":{}}}
18:46:43.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.771-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:54138","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.771-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:54137","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.774-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8e660838-86f8-4b58-8ccb-a37211d28cb8"}},"options":{}}}
18:46:43.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.774-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}},"options":{}}}
18:46:43.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.774-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54140","uuid":"fa3c2310-efd5-4297-8e8d-7333874aad36","connectionId":21,"connectionCount":21}}
18:46:43.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.775-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54139","uuid":"64c3fc07-e9da-409a-9987-40c2518c6e1b","connectionId":22,"connectionCount":22}}
18:46:43.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.776-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:54140","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.776-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:54139","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.778 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.778-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5ce08ba7-53d8-41ed-a4eb-a7923f448833"}},"options":{}}}
18:46:43.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.778-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"34924cc5-dee4-4ee1-bec7-eaaf4faedb26"}},"options":{}}}
18:46:43.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.779-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54142","uuid":"2e0af3f7-9d4b-4908-81ab-9ec74abb5cf4","connectionId":23,"connectionCount":23}}
18:46:43.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.779-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54141","uuid":"8c5e8f51-4942-43b0-9262-44636e171be3","connectionId":24,"connectionCount":24}}
18:46:43.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.781-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:54142","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.781-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:54141","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.783 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.783-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"options":{}}}
18:46:43.783 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.783-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6980685a-bff4-4655-95e1-ef265e9431df"}},"options":{}}}
18:46:43.783 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.783-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54143","uuid":"edcd9f30-e006-40c0-8932-3d1ab9e603d7","connectionId":25,"connectionCount":25}}
18:46:43.783 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.783-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54144","uuid":"29933de5-6548-4280-8406-f66a21ca2e23","connectionId":26,"connectionCount":26}}
18:46:43.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.785-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:54143","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.785-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:54144","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.786-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3b886de1-0c23-49da-875b-20ff496f4b82"}},"options":{}}}
18:46:43.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.786-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d4d60c4a-6164-4642-967e-17f5c8368eca"}},"options":{}}}
18:46:43.787 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.787-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54145","uuid":"8399b6bc-4fc4-4069-99f2-3251bd31da26","connectionId":27,"connectionCount":27}}
18:46:43.787 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.787-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54146","uuid":"1c2d9767-ff04-4646-917f-9eaceeec1734","connectionId":28,"connectionCount":28}}
18:46:43.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.789-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:54145","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.789-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:54146","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.790-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1e515cc1-69b5-425d-bd93-864c645c258d"}},"options":{}}}
18:46:43.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.790-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bcd177e5-77bf-408f-97c9-3cfa521433e6"}},"options":{}}}
18:46:43.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.791-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54147","uuid":"ab32d2ba-31e4-4138-8d26-420d4d444898","connectionId":29,"connectionCount":29}}
18:46:43.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.792-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54148","uuid":"d7d4445d-07a2-4763-adb9-6ffeb3c8479e","connectionId":30,"connectionCount":30}}
18:46:43.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.793-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:54148","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.793-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:54147","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.795-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}},"options":{}}}
18:46:43.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.795-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"660b9c1a-a278-4c8d-87b4-346f83626fc8"}},"options":{}}}
18:46:43.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.796-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54150","uuid":"ad7be9c8-c04a-446e-a1a9-8054d47efc55","connectionId":31,"connectionCount":31}}
18:46:43.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.796-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54149","uuid":"908adcc6-3847-4836-bfe2-22240a99649f","connectionId":32,"connectionCount":32}}
18:46:43.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.798-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:54150","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.799-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:54149","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.799-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"options":{}}}
18:46:43.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.800-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2a24801e-515c-4140-b13d-2d08f900f9d0"}},"options":{}}}
18:46:43.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.800-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54151","uuid":"80b1f904-1ad9-4798-a82c-9dd33f7af890","connectionId":33,"connectionCount":33}}
18:46:43.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.801-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54152","uuid":"559c6404-5951-41e2-a1fd-63a36d4ebcc3","connectionId":34,"connectionCount":34}}
18:46:43.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.802-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:54151","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.802-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:54152","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.804-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"40706ac9-a12b-46ef-b496-a7f9eff55c40"}},"options":{}}}
18:46:43.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.804-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e8dd44a6-3611-47b6-b2a1-29e6167babce"}},"options":{}}}
18:46:43.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.804-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54153","uuid":"f59601e0-d91c-4364-a59f-b1b0d1b06e22","connectionId":35,"connectionCount":35}}
18:46:43.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.805-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54154","uuid":"699ed6de-0c5c-4b64-9adb-30e52507f959","connectionId":36,"connectionCount":36}}
18:46:43.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.807-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:54153","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.807-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:54154","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.808 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.808-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"options":{}}}
18:46:43.809 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.808-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2fe60f6f-6a4d-4450-b850-8019cb933b5c"}},"options":{}}}
18:46:43.809 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.810-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54155","uuid":"9ff5d8e7-d375-4185-b86f-d6c721b27722","connectionId":37,"connectionCount":37}}
18:46:43.811 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.811-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:54155","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:43.813 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:43.813-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c888ce0c-3574-4d02-b6fe-b4e9c343549a"}},"options":{}}}
18:46:44.396 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.396-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c5c93c4e-7779-439a-be49-11e3c76f127f"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-25--8747137415793682878","collectionIdent":"collection-8--8747137415793682878","commitTimestamp":null}}
18:46:44.396 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.396-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c5c93c4e-7779-439a-be49-11e3c76f127f"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-58--8747137415793682878","collectionIdent":"collection-8--8747137415793682878","commitTimestamp":null}}
18:46:44.396 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.396-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1076979c-edf9-47d5-926e-f4f5ec3f4140"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54124","protocol":"op_msg","durationMillis":644}}
18:46:44.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.512-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"02db9503-d3e9-49e2-a634-19e734e999ba"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-32--8747137415793682878","collectionIdent":"collection-9--8747137415793682878","commitTimestamp":null}}
18:46:44.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.512-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"02db9503-d3e9-49e2-a634-19e734e999ba"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-67--8747137415793682878","collectionIdent":"collection-9--8747137415793682878","commitTimestamp":null}}
18:46:44.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.513-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fda6a40c-6c47-4ec6-ac12-727d94a7b77a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54122","protocol":"op_msg","durationMillis":760}}
18:46:44.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.627-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
18:46:44.692 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.678-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
18:46:44.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.689-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-46--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:44.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.689-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-81--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:44.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.689-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d060d84e-2d74-4a87-9876-2bbdbffc387e"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54125","protocol":"op_msg","durationMillis":936}}
18:46:44.702 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.702-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:44.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.717-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:44.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.727-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:44.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.740-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-50--8747137415793682878","collectionIdent":"collection-16--8747137415793682878","commitTimestamp":null}}
18:46:44.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.740-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-85--8747137415793682878","collectionIdent":"collection-16--8747137415793682878","commitTimestamp":null}}
18:46:44.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.740-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"160f3d86-5aed-4a92-b79b-9fe4a37c1d49"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54130","protocol":"op_msg","durationMillis":984}}
18:46:44.754 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.754-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn10","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:44.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-52--8747137415793682878","collectionIdent":"collection-17--8747137415793682878","commitTimestamp":null}}
18:46:44.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-87--8747137415793682878","collectionIdent":"collection-17--8747137415793682878","commitTimestamp":null}}
18:46:44.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.766-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d469c012-e130-4d7e-9fe2-1190d2becedd"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54131","protocol":"op_msg","durationMillis":1006}}
18:46:44.780 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.780-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
18:46:44.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.793-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:44.808 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.808-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-55--8747137415793682878","collectionIdent":"collection-21--8747137415793682878","commitTimestamp":null}}
18:46:44.809 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.808-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-90--8747137415793682878","collectionIdent":"collection-21--8747137415793682878","commitTimestamp":null}}
18:46:44.809 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.808-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"817d2dfe-185a-4a65-8945-271caca7e3d6"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54136","protocol":"op_msg","durationMillis":1040}}
18:46:44.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.821-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:44.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.835-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.849-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
18:46:44.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.861-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-60--8747137415793682878","collectionIdent":"collection-24--8747137415793682878","commitTimestamp":null}}
18:46:44.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.861-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-94--8747137415793682878","collectionIdent":"collection-24--8747137415793682878","commitTimestamp":null}}
18:46:44.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.861-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ca97feb0-49ba-44f9-af6d-69a9e75e75e4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54138","protocol":"op_msg","durationMillis":1087}}
18:46:44.873 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.873-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5ce08ba7-53d8-41ed-a4eb-a7923f448833"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-61--8747137415793682878","collectionIdent":"collection-26--8747137415793682878","commitTimestamp":null}}
18:46:44.874 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.873-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5ce08ba7-53d8-41ed-a4eb-a7923f448833"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-95--8747137415793682878","collectionIdent":"collection-26--8747137415793682878","commitTimestamp":null}}
18:46:44.874 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.873-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"024ceea3-b27e-4bcd-9c5f-3c56b7ef2599"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54140","protocol":"op_msg","durationMillis":1094}}
18:46:44.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.884-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
18:46:44.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.895-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-63--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:44.910 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.895-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-97--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:44.910 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.895-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"634dc6dd-d4ab-4731-8622-3afa21f0e1da"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54142","protocol":"op_msg","durationMillis":1112}}
18:46:44.910 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.905-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.915 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.915-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.925 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.925-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn26","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.935 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.936-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.949 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.949-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.963-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-70--8747137415793682878","collectionIdent":"collection-35--8747137415793682878","commitTimestamp":null}}
18:46:44.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.963-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-103--8747137415793682878","collectionIdent":"collection-35--8747137415793682878","commitTimestamp":null}}
18:46:44.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.964-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"306903a6-1b6c-4d4a-9fee-a4ab954d930b"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54148","protocol":"op_msg","durationMillis":1168}}
18:46:44.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.975-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:44.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.988-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-72--8747137415793682878","collectionIdent":"collection-37--8747137415793682878","commitTimestamp":null}}
18:46:44.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.988-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-105--8747137415793682878","collectionIdent":"collection-37--8747137415793682878","commitTimestamp":null}}
18:46:44.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:44.988-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0108e028-12e3-43e5-960a-083060ade553"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54150","protocol":"op_msg","durationMillis":1189}}
18:46:45.004 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.004-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
18:46:45.019 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.018-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:45.033 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.033-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn33","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:45.060 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.060-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-77--8747137415793682878","collectionIdent":"collection-42--8747137415793682878","commitTimestamp":null}}
18:46:45.060 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.060-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-109--8747137415793682878","collectionIdent":"collection-42--8747137415793682878","commitTimestamp":null}}
18:46:45.060 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.060-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6d37d20a-17f9-4cce-99a1-059768ee2b92"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54154","protocol":"op_msg","durationMillis":1251}}
18:46:45.074 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.074-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:45.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.087-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:45.202 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
18:46:45.249 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 0db07a58-620b-4c1d-a812-5c927a9e9d1e

18:46:45.358 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
18:46:45.424 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.424-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1be8d79a-8f54-49cd-8582-3695cb0b6fee"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.442 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
18:46:45.488 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
18:46:45.507 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
18:46:45.613 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.613-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c293d2df-d519-4876-b06a-99b92e9461d7"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"c5c93c4e-7779-439a-be49-11e3c76f127f"}},"indexes":1,"firstIndex":{"name":"tenant_email_idx"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:45.637 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
18:46:45.646 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.646-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3c099ed5-c4f7-481a-b659-d3818d789c36"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"02db9503-d3e9-49e2-a634-19e734e999ba"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.683 INFO  c.r.controller.HealthControllerTest - Started HealthControllerTest in 5.069 seconds (process running for 7.297)
18:46:45.692 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.692-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn16","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b04ecc8a-3956-495b-b6c2-1a613d09b579"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.692 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.692-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn16","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"b04ecc8a-3956-495b-b6c2-1a613d09b579"}},"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}}}}
18:46:45.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.704-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bff5f1b4-0983-4974-bf92-8fc5067bf66d"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.704-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"bff5f1b4-0983-4974-bf92-8fc5067bf66d"}},"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}}}}
18:46:45.714 DEBUG o.s.w.r.f.client.ExchangeFunctions - [145bcb73] HTTP GET /api/v1/health
18:46:45.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.715-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d9b1c3d9-0da4-47f2-b031-06cb55655a0a"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.715-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"d9b1c3d9-0da4-47f2-b031-06cb55655a0a"}},"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}}}}
18:46:45.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.725-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d1f7c3dd-92b3-4c3e-837f-9708d4ceebdb"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.725-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"d1f7c3dd-92b3-4c3e-837f-9708d4ceebdb"}},"collectionUUID":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}}}}
18:46:45.732 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ccc6f4d] HTTP GET "/api/v1/health"
18:46:45.738 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.738-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b785b462-be12-49f4-8682-014a7917aa41"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.738 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.738-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"b785b462-be12-49f4-8682-014a7917aa41"}},"collectionUUID":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}}}}
18:46:45.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.748-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn24","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4a5e7484-498b-4968-9cc8-523429fcce6d"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenant_sku_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:45.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.748-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn24","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"4a5e7484-498b-4968-9cc8-523429fcce6d"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
18:46:45.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.758-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"873aef6e-6a82-460f-87c1-889aaa142c44"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.758-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"873aef6e-6a82-460f-87c1-889aaa142c44"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
18:46:45.760 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:45.761 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ccc6f4d] Completed 404 NOT_FOUND
18:46:45.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.769-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn26","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"559337c3-940f-4447-b848-37dfc1d7610e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.769-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn26","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"559337c3-940f-4447-b848-37dfc1d7610e"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
18:46:45.778 DEBUG o.s.w.r.f.client.ExchangeFunctions - [145bcb73] [59f4efeb] Response 404 NOT_FOUND
18:46:45.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.780-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"15cf0c86-6a63-4229-b317-b205fae20dea"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.780-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"15cf0c86-6a63-4229-b317-b205fae20dea"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
18:46:45.786 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/health
> WebTestClient-Request-Id: [1]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:45.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.789-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3d8f6944-050c-4b60-a060-b5d9441a1aff"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.790-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"3d8f6944-050c-4b60-a060-b5d9441a1aff"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.549 s <<< FAILURE! -- in com.retail.controller.HealthControllerTest
[ERROR] com.retail.controller.HealthControllerTest.health_ShouldReturnStatusUp -- Time elapsed: 0.104 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.HealthControllerTest.health_ShouldReturnStatusUp(HealthControllerTest.java:33)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.controller.ProductControllerIntegrationTest
18:46:45.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.799-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"747019cf-8410-4382-b5c9-8dc76202491b"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.799-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"747019cf-8410-4382-b5c9-8dc76202491b"}},"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}}}}
18:46:45.800 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.controller.ProductControllerIntegrationTest]: ProductControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:45.804 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.ProductControllerIntegrationTest
18:46:45.808 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
18:46:45.810 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.810-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"25ecf3db-5ba5-4f0d-9d49-62d28664a0ac"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.810 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.810-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"25ecf3db-5ba5-4f0d-9d49-62d28664a0ac"}},"collectionUUID":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}}}}
18:46:45.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.823-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn34","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7dd74f38-6a41-4651-b390-039d1ce75d8e"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.823-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn34","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7dd74f38-6a41-4651-b390-039d1ce75d8e"}},"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}}}}
18:46:45.832 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.833-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn33","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e6cacad9-b9dd-4b98-ad61-40d43ae52005"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.832 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.833-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn33","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e6cacad9-b9dd-4b98-ad61-40d43ae52005"}},"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}}}}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

18:46:45.837 INFO  c.r.c.ProductControllerIntegrationTest - Starting ProductControllerIntegrationTest using Java 25.0.1 with PID 13892 (started by codep in D:\code\retail-agentic\backend)
18:46:45.838 INFO  c.r.c.ProductControllerIntegrationTest - The following 1 profile is active: "test"
18:46:45.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.844-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c5c93c4e-7779-439a-be49-11e3c76f127f"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-112--8747137415793682878","collectionIdent":"collection-8--8747137415793682878","commitTimestamp":null}}
18:46:45.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.844-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c293d2df-d519-4876-b06a-99b92e9461d7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.844-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c293d2df-d519-4876-b06a-99b92e9461d7"}}}}
18:46:45.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.844-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b2a6dd81-59bf-4662-b8c1-5bd78344b23a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54123","protocol":"op_msg","durationMillis":2092}}
18:46:45.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.857-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2be2e653-d177-4411-877e-af67c4b45e9c"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"indexes":1,"firstIndex":{"name":"tenant_slug_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:45.858 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.858-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"2be2e653-d177-4411-877e-af67c4b45e9c"}},"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}}}}
18:46:45.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.868-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"01ef57cf-245a-4e4e-8238-8f4155fd87eb"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.868-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"01ef57cf-245a-4e4e-8238-8f4155fd87eb"}},"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}}}}
18:46:45.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.877-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"02db9503-d3e9-49e2-a634-19e734e999ba"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-113--8747137415793682878","collectionIdent":"collection-9--8747137415793682878","commitTimestamp":null}}
18:46:45.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.877-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3c099ed5-c4f7-481a-b659-d3818d789c36"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.877-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3c099ed5-c4f7-481a-b659-d3818d789c36"}}}}
18:46:45.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.877-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c90616b4-e890-4424-9364-e9c2c2a6d9ed"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54121","protocol":"op_msg","durationMillis":2125}}
18:46:45.903 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.903-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn14","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3578178e-196d-4292-a51b-47c65d700e82"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
18:46:45.903 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.903-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn14","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"3578178e-196d-4292-a51b-47c65d700e82"}},"collectionUUID":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}}}}
18:46:45.915 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.916-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-114--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:45.916 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.916-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn24","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4a5e7484-498b-4968-9cc8-523429fcce6d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.916 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.916-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn24","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4a5e7484-498b-4968-9cc8-523429fcce6d"}}}}
18:46:45.916 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.916-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"02ad57ee-b4b0-4729-9047-4991a2efadb6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54141","protocol":"op_msg","durationMillis":2133}}
18:46:45.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-115--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1be8d79a-8f54-49cd-8582-3695cb0b6fee"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1be8d79a-8f54-49cd-8582-3695cb0b6fee"}}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"054c5a6f-368c-4546-8623-9bd767148808"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn10","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"72533519-6471-487b-b76b-d0f940f9ca0f"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"43260c34-daa7-4864-ad66-bca5d3673319"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2e9a7cf2-5b66-457b-ac52-31266fcf1c3e"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":466276}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54127","protocol":"op_msg","durationMillis":2179}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"054c5a6f-368c-4546-8623-9bd767148808"}},"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn10","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"72533519-6471-487b-b76b-d0f940f9ca0f"}},"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}}}}
18:46:45.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.931-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn8","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"43260c34-daa7-4864-ad66-bca5d3673319"}},"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}}}}
18:46:45.942 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.943-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-117--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:45.942 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.943-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"15cf0c86-6a63-4229-b317-b205fae20dea"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.942 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.943-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"15cf0c86-6a63-4229-b317-b205fae20dea"}}}}
18:46:45.942 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.943-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4e8a97dd-e929-4fc4-8535-4bded9074581"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":38765}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54145","protocol":"op_msg","durationMillis":2152}}
18:46:45.955 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.956-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-116--8747137415793682878","collectionIdent":"collection-17--8747137415793682878","commitTimestamp":null}}
18:46:45.955 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.956-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn16","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b04ecc8a-3956-495b-b6c2-1a613d09b579"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.955 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.956-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn16","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b04ecc8a-3956-495b-b6c2-1a613d09b579"}}}}
18:46:45.955 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.956-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e89f3523-e84e-4f3b-aecc-336c5ad5891c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54134","protocol":"op_msg","durationMillis":2190}}
18:46:45.968 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.968-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-118--8747137415793682878","collectionIdent":"collection-17--8747137415793682878","commitTimestamp":null}}
18:46:45.968 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.969-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bff5f1b4-0983-4974-bf92-8fc5067bf66d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.968 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.969-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bff5f1b4-0983-4974-bf92-8fc5067bf66d"}}}}
18:46:45.968 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.969-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8ff0a2dc-5e6f-4903-992e-5fabbf2d18f1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":24601}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54135","protocol":"op_msg","durationMillis":2200}}
18:46:45.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.982-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8592003-d995-4ae0-9379-378c150386eb"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-119--8747137415793682878","collectionIdent":"collection-21--8747137415793682878","commitTimestamp":null}}
18:46:45.983 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.982-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d1f7c3dd-92b3-4c3e-837f-9708d4ceebdb"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.983 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.982-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d1f7c3dd-92b3-4c3e-837f-9708d4ceebdb"}}}}
18:46:45.983 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.983-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2343609a-aec5-48c7-afb0-560debae4629"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54137","protocol":"op_msg","durationMillis":2208}}
18:46:45.996 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.996-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6d9b82e5-f772-4eb1-b522-48090b7eb4ac"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-120--8747137415793682878","collectionIdent":"collection-24--8747137415793682878","commitTimestamp":null}}
18:46:45.997 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.996-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b785b462-be12-49f4-8682-014a7917aa41"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:45.997 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.996-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b785b462-be12-49f4-8682-014a7917aa41"}}}}
18:46:45.997 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:45.997-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"08d3d310-d557-48c6-a5fe-5f5af66ea9a6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54139","protocol":"op_msg","durationMillis":2218}}
18:46:46.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.010-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"df48589d-48ff-4530-9cf9-094d34f676c0"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-121--8747137415793682878","collectionIdent":"collection-17--8747137415793682878","commitTimestamp":null}}
18:46:46.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.010-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d9b1c3d9-0da4-47f2-b031-06cb55655a0a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.010-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d9b1c3d9-0da4-47f2-b031-06cb55655a0a"}}}}
18:46:46.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.010-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5d4a5f52-1d40-4153-a520-2b2bef467b97"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":25575}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54133","protocol":"op_msg","durationMillis":2239}}
18:46:46.023 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.023-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-122--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:46.023 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.023-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"873aef6e-6a82-460f-87c1-889aaa142c44"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.023 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.023-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"873aef6e-6a82-460f-87c1-889aaa142c44"}}}}
18:46:46.023 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.023-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ca212297-332f-4997-aa07-ea0bcb67be32"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54143","protocol":"op_msg","durationMillis":2237}}
18:46:46.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.037-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-123--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:46.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.037-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn26","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"559337c3-940f-4447-b848-37dfc1d7610e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.037-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn26","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"559337c3-940f-4447-b848-37dfc1d7610e"}}}}
18:46:46.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.037-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0334a9f9-128e-47c6-a8cd-39cf95e9e8ed"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":26530}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54144","protocol":"op_msg","durationMillis":2250}}
18:46:46.052 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.052-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-125--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:46.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.052-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3d8f6944-050c-4b60-a060-b5d9441a1aff"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.052-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3d8f6944-050c-4b60-a060-b5d9441a1aff"}}}}
18:46:46.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.052-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"803ea0c5-f433-45da-97cb-68d9e7be6e2f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":27073}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54146","protocol":"op_msg","durationMillis":2262}}
18:46:46.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.067-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e1de25a-bb36-4b28-bdd3-17ae169b177d"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-124--8747137415793682878","collectionIdent":"collection-35--8747137415793682878","commitTimestamp":null}}
18:46:46.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.068-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"25ecf3db-5ba5-4f0d-9d49-62d28664a0ac"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.068-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"25ecf3db-5ba5-4f0d-9d49-62d28664a0ac"}}}}
18:46:46.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.068-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5f23d354-a439-4875-a3b4-3cbafcec2359"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54149","protocol":"op_msg","durationMillis":2267}}
18:46:46.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.082-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"36ae6be3-a8de-4a80-a489-80716f4349d9"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-126--8747137415793682878","collectionIdent":"collection-28--8747137415793682878","commitTimestamp":null}}
18:46:46.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.082-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"747019cf-8410-4382-b5c9-8dc76202491b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.082-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"747019cf-8410-4382-b5c9-8dc76202491b"}}}}
18:46:46.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.082-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fae0911b-3bec-4edc-96c9-1e2882228830"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":29274}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54147","protocol":"op_msg","durationMillis":2287}}
18:46:46.096 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.096-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-127--8747137415793682878","collectionIdent":"collection-37--8747137415793682878","commitTimestamp":null}}
18:46:46.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.097-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn34","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7dd74f38-6a41-4651-b390-039d1ce75d8e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.097-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn34","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7dd74f38-6a41-4651-b390-039d1ce75d8e"}}}}
18:46:46.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.097-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6295cfc9-7c1d-4a04-a1c5-13a924cef341"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54152","protocol":"op_msg","durationMillis":2293}}
18:46:46.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.111-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-128--8747137415793682878","collectionIdent":"collection-42--8747137415793682878","commitTimestamp":null}}
18:46:46.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.111-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2be2e653-d177-4411-877e-af67c4b45e9c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.111-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2be2e653-d177-4411-877e-af67c4b45e9c"}}}}
18:46:46.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.111-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"97811494-69bb-48ac-b4c4-60f17d2bf4d6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54153","protocol":"op_msg","durationMillis":2303}}
18:46:46.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.127-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4beda653-fe5b-4c8a-92cd-790cfe89bde2"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-129--8747137415793682878","collectionIdent":"collection-37--8747137415793682878","commitTimestamp":null}}
18:46:46.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.127-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn33","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e6cacad9-b9dd-4b98-ad61-40d43ae52005"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.127-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn33","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e6cacad9-b9dd-4b98-ad61-40d43ae52005"}}}}
18:46:46.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.127-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ac512e63-df88-49ac-b2ee-6c1cb5478fa5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28952}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54151","protocol":"op_msg","durationMillis":2323}}
18:46:46.142 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.142-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"93011270-3a74-474e-9009-a3a0234bf2d3"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-130--8747137415793682878","collectionIdent":"collection-42--8747137415793682878","commitTimestamp":null}}
18:46:46.142 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.142-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"01ef57cf-245a-4e4e-8238-8f4155fd87eb"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.142 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.142-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"01ef57cf-245a-4e4e-8238-8f4155fd87eb"}}}}
18:46:46.143 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.143-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ee359abe-bcd9-4009-91db-1dd21c11d172"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":14686}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54155","protocol":"op_msg","durationMillis":2329}}
18:46:46.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.159-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"147f7809-b9c3-429c-beb2-9d88c714907a"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-131--8747137415793682878","collectionIdent":"collection-16--8747137415793682878","commitTimestamp":null}}
18:46:46.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.159-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn14","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3578178e-196d-4292-a51b-47c65d700e82"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.159-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn14","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3578178e-196d-4292-a51b-47c65d700e82"}}}}
18:46:46.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.159-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e1240147-7fb0-42f3-892a-4a8999f07f27"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54132","protocol":"op_msg","durationMillis":2398}}
18:46:46.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.175-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-132--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:46.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.175-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"43260c34-daa7-4864-ad66-bca5d3673319"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.175-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"43260c34-daa7-4864-ad66-bca5d3673319"}}}}
18:46:46.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.175-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"27da145c-8baa-4f6a-9d70-81eaa5d344cd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":40708}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54126","protocol":"op_msg","durationMillis":2423}}
18:46:46.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.189-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-133--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:46.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.189-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn10","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"72533519-6471-487b-b76b-d0f940f9ca0f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.189-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn10","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"72533519-6471-487b-b76b-d0f940f9ca0f"}}}}
18:46:46.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.189-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7919f118-340d-4aeb-917c-7d6152012faf"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":477111,"W":32688}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54128","protocol":"op_msg","durationMillis":2436}}
18:46:46.202 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.202-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c3f08eb-6c7b-4099-8014-61ba632b6680"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-134--8747137415793682878","collectionIdent":"collection-10--8747137415793682878","commitTimestamp":null}}
18:46:46.202 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.202-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"054c5a6f-368c-4546-8623-9bd767148808"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:46.202 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.202-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"054c5a6f-368c-4546-8623-9bd767148808"}}}}
18:46:46.202 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.202-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"75981c6f-bfa2-4024-bf4f-cac10afb3b00"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":262518,"W":30020}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54129","protocol":"op_msg","durationMillis":2446}}
18:46:46.320 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:46.325 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:46.330 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:46.333 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:46.334 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:46.366 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
18:46:46.433 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.433-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
18:46:46.469 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.470-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
18:46:46.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.470-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
18:46:46.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.471-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
18:46:46.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.471-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
18:46:46.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.471-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
18:46:46.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.471-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
18:46:46.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.472-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":38516,"port":54156,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--d0d60b7a-f664-4514-8ef5-cd6d490b496d/mongod-database13979483013585709705","architecture":"64-bit","host":"jon-desktop"}}
18:46:46.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.472-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
18:46:46.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.472-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
18:46:46.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.472-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
18:46:46.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.472-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":54156},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--d0d60b7a-f664-4514-8ef5-cd6d490b496d\\mongod-database13979483013585709705","journal":{"enabled":false},"syncPeriodSecs":0}}}}
18:46:46.473 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.473-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
18:46:46.516 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.515-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":42}}
18:46:46.516 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.516-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:46.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.554-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"4634b362-9c51-42cf-9b10-dd41ec45e8fe"}},"options":{"uuid":{"$uuid":"4634b362-9c51-42cf-9b10-dd41ec45e8fe"}}}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4634b362-9c51-42cf-9b10-dd41ec45e8fe"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1-5784382446282309044","collectionIdent":"collection-0-5784382446282309044","commitTimestamp":null}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:46.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.569-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
18:46:46.578 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.577-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
18:46:46.578 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.578-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
18:46:46.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.729-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--d0d60b7a-f664-4514-8ef5-cd6d490b496d/mongod-database13979483013585709705/diagnostic.data"}}
18:46:46.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.730-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6522572d-eb9e-4604-a0d8-7803cd56edfa"}},"options":{"capped":true,"size":10485760}}}
18:46:46.755 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.755-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6522572d-eb9e-4604-a0d8-7803cd56edfa"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3-5784382446282309044","collectionIdent":"collection-2-5784382446282309044","commitTimestamp":null}}
18:46:46.755 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.755-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
18:46:46.755 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.755-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
18:46:46.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.757-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
18:46:46.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.757-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f2421db7-8dda-4660-a20d-15a722d3de9f"}},"options":{}}}
18:46:46.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.757-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
18:46:46.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.757-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":54156,"ssl":"off"}}
18:46:46.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.798-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54158","uuid":"1cc7a39a-bb97-424c-86b1-a14d80cee4ba","connectionId":1,"connectionCount":1}}
18:46:46.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.798-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54157","uuid":"23fefbbe-e6bc-4f9c-8de3-201b170f8002","connectionId":2,"connectionCount":2}}
18:46:46.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.798-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54158","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.799-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54157","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.822-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f2421db7-8dda-4660-a20d-15a722d3de9f"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5-5784382446282309044","collectionIdent":"collection-4-5784382446282309044","commitTimestamp":null}}
18:46:46.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.822-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f2421db7-8dda-4660-a20d-15a722d3de9f"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6-5784382446282309044","collectionIdent":"collection-4-5784382446282309044","commitTimestamp":null}}
18:46:46.838 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
18:46:46.838 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
18:46:46.838 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
18:46:46.838 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
18:46:46.838 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
18:46:46.840 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
18:46:46.841 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
18:46:46.841 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
18:46:46.841 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.842-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54160","uuid":"e64da7eb-3d91-435f-a2b6-4a90b4e146a9","connectionId":3,"connectionCount":3}}
18:46:46.841 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.842-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54159","uuid":"9b1ad166-8e10-4472-9dd6-b326cf21e5ba","connectionId":4,"connectionCount":4}}
18:46:46.842 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.842-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54160","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.842 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.842-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54159","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.842 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
18:46:46.842 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
18:46:46.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.844-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ebf3b096-d4ca-4af5-9ec8-80f0e5ebb017"}},"options":{}}}
18:46:46.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.844-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a5009bd4-4a09-4df2-8d17-9f844d4e2975"}},"options":{}}}
18:46:46.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.844-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54161","uuid":"e39d7ea1-f319-4c35-9021-3c8e6e80b097","connectionId":5,"connectionCount":5}}
18:46:46.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.844-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54162","uuid":"262c07c7-61a6-4793-9233-d9bbf71a1837","connectionId":6,"connectionCount":6}}
18:46:46.844 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
18:46:46.844 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
18:46:46.844 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
18:46:46.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.845-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54161","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.845 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.845-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54162","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.845 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
18:46:46.845 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.846-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"651e7c24-4dff-427a-88b8-20a163568d0d"}},"options":{}}}
18:46:46.845 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.846-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"58d28ef6-773e-4ddd-aa3a-6bd46223a2f9"}},"options":{}}}
18:46:46.846 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
18:46:46.846 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
18:46:46.846 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
18:46:46.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54164","uuid":"0c220638-aa22-4b3a-8682-0b7293d31cdd","connectionId":7,"connectionCount":7}}
18:46:46.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54163","uuid":"08f98d1f-5375-49f9-bf84-85d5d15f4281","connectionId":8,"connectionCount":8}}
18:46:46.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.847-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54164","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.847-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54163","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.847 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
18:46:46.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.848-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e3df3936-df13-41e6-bd94-1e4d1e765be6"}},"options":{}}}
18:46:46.848 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
18:46:46.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.849-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54166","uuid":"d0b4c116-cea6-4e03-82e6-f11fda29960f","connectionId":9,"connectionCount":9}}
18:46:46.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.849-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4a6dc5d7-eefd-41e4-af9b-2b5f1334bf3d"}},"options":{}}}
18:46:46.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.849-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54165","uuid":"ef652ea9-4aa5-42c4-84ae-cacf6da3f112","connectionId":10,"connectionCount":10}}
18:46:46.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.850-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:54166","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.850-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:54165","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.850 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.851-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"options":{}}}
18:46:46.850 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.851-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"94c9b919-e770-4aba-a216-c76ac46656f5"}},"options":{}}}
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
18:46:46.851 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
18:46:46.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.852-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54167","uuid":"848bf382-7869-41fd-871c-ed2c79cdf3d7","connectionId":11,"connectionCount":11}}
18:46:46.852 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
18:46:46.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.852-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54168","uuid":"a19417fc-f06d-4e7a-9b15-8e8dff21b17c","connectionId":12,"connectionCount":12}}
18:46:46.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.852-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:54167","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.853 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.853-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:54168","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.853 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.854-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0d22ac9f-e11e-4993-9f27-256cbbba595c"}},"options":{}}}
18:46:46.854 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.854-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2bf67c54-ada0-4f32-913c-a075cbcb0d48"}},"options":{}}}
18:46:46.854 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.854-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54169","uuid":"bd87876a-cca7-4bd2-81e7-7e5a4871075b","connectionId":13,"connectionCount":13}}
18:46:46.854 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.855-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54170","uuid":"ab0ea5e4-c53c-4c78-9ffa-c8415f7e7453","connectionId":14,"connectionCount":14}}
18:46:46.855 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.855-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:54169","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.855 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.855-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:54170","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.855 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
18:46:46.856 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.856-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}},"options":{}}}
18:46:46.856 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.856-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ffaf7778-fbd0-4005-a692-27fa501e8456"}},"options":{}}}
18:46:46.856 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.856-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54171","uuid":"388cf58b-ef33-4b92-851b-e94e539c30cf","connectionId":15,"connectionCount":15}}
18:46:46.856 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.857-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54172","uuid":"aea53835-8683-4ddd-8568-fe830d3d9c55","connectionId":16,"connectionCount":16}}
18:46:46.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.857-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:54171","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.857-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:54172","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.858 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
18:46:46.858 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.858-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cc2c1efe-3c0e-46c0-baf8-39e5182f7b93"}},"options":{}}}
18:46:46.858 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.858-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"options":{}}}
18:46:46.858 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.859-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54173","uuid":"5351511d-f92f-46f0-a846-156758148fb6","connectionId":17,"connectionCount":17}}
18:46:46.859 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.859-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54174","uuid":"079641cb-eb6d-4602-b736-f1d45dd9817e","connectionId":18,"connectionCount":18}}
18:46:46.859 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.859-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:54173","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.859 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.859-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:54174","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.859 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.860-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd3a1b93-d7ae-444e-8dc7-760b86349ee3"}},"options":{}}}
18:46:46.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.860-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54175","uuid":"a9395fce-164e-4c42-83c6-8fa470ea1f95","connectionId":19,"connectionCount":19}}
18:46:46.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.860-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ef71b7fb-9fdf-4b51-9932-10879cfe9a68"}},"options":{}}}
18:46:46.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.861-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54176","uuid":"e35ca537-e9ac-4335-86cc-df791e62dcb1","connectionId":20,"connectionCount":20}}
18:46:46.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.861-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:54175","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.861-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:54176","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.862-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"options":{}}}
18:46:46.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.862-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"53517eeb-cfe4-486c-b5ee-a0df1c933eeb"}},"options":{}}}
18:46:46.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.863-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54177","uuid":"832518a4-f7fd-43f2-995e-ce8d1511f179","connectionId":21,"connectionCount":21}}
18:46:46.864 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.863-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54178","uuid":"3ed5672e-799f-44be-9fa2-61ecb7ab3bdd","connectionId":22,"connectionCount":22}}
18:46:46.864 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.865-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:54177","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.865 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.865-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:54178","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.866 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.866-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cb403484-2bf7-4c94-b59c-f4010488ee1f"}},"options":{}}}
18:46:46.866 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.866-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}},"options":{}}}
18:46:46.867 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.867-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54179","uuid":"68beebf6-251a-4e9a-83f4-93f5842623a0","connectionId":23,"connectionCount":23}}
18:46:46.867 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.868-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54180","uuid":"61e56469-6026-4f3c-8729-a227cf682292","connectionId":24,"connectionCount":24}}
18:46:46.867 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.868-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:54179","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.868-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:54180","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.869-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8ced574-618f-4134-b202-2102835c0010"}},"options":{}}}
18:46:46.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.869-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}},"options":{}}}
18:46:46.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.869-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54181","uuid":"ce3a8760-9060-4f07-92c2-a0e532f3f5e9","connectionId":25,"connectionCount":25}}
18:46:46.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.870-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54182","uuid":"c185a26c-713f-452c-ba25-9f16c9137104","connectionId":26,"connectionCount":26}}
18:46:46.870 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.870-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:54181","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.870 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.870-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:54182","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.871-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"31ca37d0-0d0d-4314-ab39-fa5493387e97"}},"options":{}}}
18:46:46.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.871-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bca07d7d-ccf9-454e-ad4d-b06f88853628"}},"options":{}}}
18:46:46.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.872-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54183","uuid":"036abef9-9d6d-411e-be8b-ccde7e5baba0","connectionId":27,"connectionCount":27}}
18:46:46.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.872-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54184","uuid":"815c7302-616e-4a9e-b1f4-acb5f1e553bd","connectionId":28,"connectionCount":28}}
18:46:46.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.873-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:54183","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.873-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:54184","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.873 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.874-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"options":{}}}
18:46:46.873 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.874-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fe0bccba-480b-4c59-9351-efe25cb388b5"}},"options":{}}}
18:46:46.874 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.874-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54185","uuid":"47a8ae32-75f7-4746-ab58-0f76c4bdec22","connectionId":29,"connectionCount":29}}
18:46:46.875 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.875-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:54185","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.875 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.875-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54186","uuid":"82f4932f-5197-41ab-abc7-635ba89d3b6e","connectionId":30,"connectionCount":30}}
18:46:46.875 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.875-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:54186","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.876-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba98a2ea-590e-4bcf-9f6e-28a0d516ebaf"}},"options":{}}}
18:46:46.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.876-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"40a6465a-690d-4890-9212-90c1262e5045"}},"options":{}}}
18:46:46.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.876-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54187","uuid":"7e373ee5-a380-4fc5-ac7b-74aa688a8681","connectionId":31,"connectionCount":31}}
18:46:46.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.877-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54188","uuid":"53305e15-36dc-4c8e-bba8-6b7a9aa36556","connectionId":32,"connectionCount":32}}
18:46:46.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.877-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:54187","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.877-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:54188","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.878-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1044e1c7-d8d0-4ebb-bfb2-ccf6e442a289"}},"options":{}}}
18:46:46.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.878-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bef279e5-f00c-4bd1-9288-ff01e41d6e04"}},"options":{}}}
18:46:46.879 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.879-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54190","uuid":"a128f2e2-72cd-4367-8041-3e7ab8d9a7e6","connectionId":33,"connectionCount":33}}
18:46:46.879 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.879-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54189","uuid":"c4719c8e-6209-4cb1-9a40-1ebb4d70c451","connectionId":34,"connectionCount":34}}
18:46:46.879 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.880-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:54190","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.880 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.880-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:54189","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.880 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.881-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"options":{}}}
18:46:46.880 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.881-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"251aa3ec-4762-428f-9c55-05c9e1d9cdee"}},"options":{}}}
18:46:46.880 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.881-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54191","uuid":"5ee1b16f-2880-445c-a647-e521cb0173d0","connectionId":35,"connectionCount":35}}
18:46:46.881 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.882-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54192","uuid":"09de6b10-88de-41bc-81a4-f3764a57bf85","connectionId":36,"connectionCount":36}}
18:46:46.881 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.882-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:54191","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.881 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.882-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:54192","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.882 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.882-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6c78636e-01b2-4b3e-921b-8d8c7e4bdb89"}},"options":{}}}
18:46:46.882 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.883-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54193","uuid":"d3a4b33b-a0ca-45d0-891a-50c42e9905f7","connectionId":37,"connectionCount":37}}
18:46:46.883 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.883-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"718ca6bd-e8b5-419d-99a7-0e208cd98fd2"}},"options":{}}}
18:46:46.883 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.884-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:54193","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:46.884 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:46.885-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"084cc67f-88af-48b4-b9d7-43323b728156"}},"options":{}}}
18:46:47.099 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
18:46:47.108 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: e4d608bf-e964-44a9-bd50-6562603a75d8

18:46:47.130 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
18:46:47.147 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
18:46:47.156 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
18:46:47.160 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
18:46:47.197 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
18:46:47.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.319-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ebf3b096-d4ca-4af5-9ec8-80f0e5ebb017"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-15-5784382446282309044","collectionIdent":"collection-7-5784382446282309044","commitTimestamp":null}}
18:46:47.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.319-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ebf3b096-d4ca-4af5-9ec8-80f0e5ebb017"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-50-5784382446282309044","collectionIdent":"collection-7-5784382446282309044","commitTimestamp":null}}
18:46:47.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.319-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"54d64e53-87b5-4bb8-a617-3ce5d64dfdbb"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54159","protocol":"op_msg","durationMillis":475}}
18:46:47.372 INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 54194
18:46:47.378 INFO  c.r.c.ProductControllerIntegrationTest - Started ProductControllerIntegrationTest in 1.57 seconds (process running for 8.993)
18:46:47.409 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:47.426 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:47.387Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:47.387Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:47.427 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:47.448 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.448-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
18:46:47.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.451-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ec833504-2f1a-4366-a101-54acc772bdc1"}},"options":{}}}
18:46:47.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.583-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"651e7c24-4dff-427a-88b8-20a163568d0d"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-39-5784382446282309044","collectionIdent":"collection-9-5784382446282309044","commitTimestamp":null}}
18:46:47.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.583-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"651e7c24-4dff-427a-88b8-20a163568d0d"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-74-5784382446282309044","collectionIdent":"collection-9-5784382446282309044","commitTimestamp":null}}
18:46:47.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.583-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e094de1e-83f9-4d0b-b4cf-abcbe32ae919"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54162","protocol":"op_msg","durationMillis":737}}
18:46:47.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.643-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
18:46:47.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.653-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e3df3936-df13-41e6-bd94-1e4d1e765be6"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-46-5784382446282309044","collectionIdent":"collection-11-5784382446282309044","commitTimestamp":null}}
18:46:47.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.653-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e3df3936-df13-41e6-bd94-1e4d1e765be6"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-81-5784382446282309044","collectionIdent":"collection-11-5784382446282309044","commitTimestamp":null}}
18:46:47.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.653-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"dc0064dd-9406-4ef5-ad2c-9e45d1c5a084"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54164","protocol":"op_msg","durationMillis":805}}
18:46:47.664 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.665-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
18:46:47.673 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.674-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-48-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:47.674 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.674-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-83-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:47.674 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.674-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b0253866-2a61-422a-bbdf-08e3c3b500aa"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54166","protocol":"op_msg","durationMillis":823}}
18:46:47.686 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.686-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn10","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:47.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.693-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:47.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.704-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:47.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.712-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-53-5784382446282309044","collectionIdent":"collection-18-5784382446282309044","commitTimestamp":null}}
18:46:47.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.712-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-87-5784382446282309044","collectionIdent":"collection-18-5784382446282309044","commitTimestamp":null}}
18:46:47.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.712-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4eca648a-77e7-499d-9f24-4b3fede97fa4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54170","protocol":"op_msg","durationMillis":856}}
18:46:47.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.722-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:47.731 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.732-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
18:46:47.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.741-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-56-5784382446282309044","collectionIdent":"collection-21-5784382446282309044","commitTimestamp":null}}
18:46:47.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.741-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-90-5784382446282309044","collectionIdent":"collection-21-5784382446282309044","commitTimestamp":null}}
18:46:47.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.742-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"80631bce-b54f-4afe-b46e-3f0f81c7f886"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54172","protocol":"op_msg","durationMillis":883}}
18:46:47.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.750-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:47.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.759-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:47.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.768-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-59-5784382446282309044","collectionIdent":"collection-24-5784382446282309044","commitTimestamp":null}}
18:46:47.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.768-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-93-5784382446282309044","collectionIdent":"collection-24-5784382446282309044","commitTimestamp":null}}
18:46:47.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.769-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"34b8803e-4288-481a-a687-9c81cf944c94"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54175","protocol":"op_msg","durationMillis":906}}
18:46:47.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.778-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:47.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.805-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:47.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.816-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-63-5784382446282309044","collectionIdent":"collection-28-5784382446282309044","commitTimestamp":null}}
18:46:47.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.816-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-97-5784382446282309044","collectionIdent":"collection-28-5784382446282309044","commitTimestamp":null}}
18:46:47.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.816-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"319b3c6f-0527-4dc7-b418-fc049f12b244"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54178","protocol":"op_msg","durationMillis":949}}
18:46:47.829 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.829-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
18:46:47.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.839-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-65-5784382446282309044","collectionIdent":"collection-30-5784382446282309044","commitTimestamp":null}}
18:46:47.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.839-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-99-5784382446282309044","collectionIdent":"collection-30-5784382446282309044","commitTimestamp":null}}
18:46:47.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.839-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2c4142ec-9670-427e-8145-40d69eef288c"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54180","protocol":"op_msg","durationMillis":970}}
18:46:47.850 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.850-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
18:46:47.859 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.860-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bca07d7d-ccf9-454e-ad4d-b06f88853628"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-67-5784382446282309044","collectionIdent":"collection-32-5784382446282309044","commitTimestamp":null}}
18:46:47.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.860-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bca07d7d-ccf9-454e-ad4d-b06f88853628"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-101-5784382446282309044","collectionIdent":"collection-32-5784382446282309044","commitTimestamp":null}}
18:46:47.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.860-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6afc9791-3f23-4280-954b-d7f3dea8ee56"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54182","protocol":"op_msg","durationMillis":988}}
18:46:47.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.871-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-68-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:47.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.871-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-102-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:47.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.871-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"871de72d-8c53-4df2-8915-2b5609be0f65"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54183","protocol":"op_msg","durationMillis":997}}
18:46:47.881 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.882-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.892 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.892-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.901 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.902-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.911 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.912-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.919 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.920-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.927 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.928-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-75-5784382446282309044","collectionIdent":"collection-40-5784382446282309044","commitTimestamp":null}}
18:46:47.927 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.928-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-108-5784382446282309044","collectionIdent":"collection-40-5784382446282309044","commitTimestamp":null}}
18:46:47.927 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.928-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"53f83343-9176-490a-b710-421dc32d4fb4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54190","protocol":"op_msg","durationMillis":1047}}
18:46:47.937 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.938-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:47.947 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.947-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:47.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.957-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:47.966 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:47.966-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:48.096 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.097-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:48.333 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.333-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b31d46cb-6505-456f-8ca2-b898ce01c55a"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"ebf3b096-d4ca-4af5-9ec8-80f0e5ebb017"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.478 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.479-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"49bb32ad-5593-4317-8205-6519e902e551"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"651e7c24-4dff-427a-88b8-20a163568d0d"}},"indexes":1,"firstIndex":{"name":"tenant_product_idx"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:48.489 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.489-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5a2b80db-81e5-43ea-9114-e1f208a7fa85"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"e3df3936-df13-41e6-bd94-1e4d1e765be6"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.500 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.500-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn10","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cd2d9447-f594-44b6-9354-6bc8bcad59fc"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"indexes":1,"firstIndex":{"name":"tenant_timestamp_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.500 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.500-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn10","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"cd2d9447-f594-44b6-9354-6bc8bcad59fc"}},"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}}}}
18:46:48.509 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.509-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"736b9ecc-7ec7-4c2e-a7cf-f061147a24c6"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.509 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.509-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"736b9ecc-7ec7-4c2e-a7cf-f061147a24c6"}},"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}}}}
18:46:48.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.519-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1f10c4bb-948a-4c96-b4f0-ed6ea63f411e"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.519-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn12","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"1f10c4bb-948a-4c96-b4f0-ed6ea63f411e"}},"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}}}}
18:46:48.529 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.529-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7aa4dfb6-bfcc-4936-8f86-99aa5acebd19"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.530 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.529-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"7aa4dfb6-bfcc-4936-8f86-99aa5acebd19"}},"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}}}}
18:46:48.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.538-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"09acd37d-4e9b-40f0-a172-7d05a67aa053"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
18:46:48.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.538-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"09acd37d-4e9b-40f0-a172-7d05a67aa053"}},"collectionUUID":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}}}}
18:46:48.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.548-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"51c92e18-220f-4c8d-9d1a-b27cc6368d65"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.548-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"51c92e18-220f-4c8d-9d1a-b27cc6368d65"}},"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}}}}
18:46:48.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.558-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5ea619d1-5b73-4ae9-9164-f1b5a0f4d41c"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.558-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn18","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"5ea619d1-5b73-4ae9-9164-f1b5a0f4d41c"}},"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}}}}
18:46:48.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.568-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"abaf44ca-d3a6-40b8-b658-88d4a5eb4de1"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.568-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"abaf44ca-d3a6-40b8-b658-88d4a5eb4de1"}},"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}}}}
18:46:48.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.580-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ebf3b096-d4ca-4af5-9ec8-80f0e5ebb017"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-114-5784382446282309044","collectionIdent":"collection-7-5784382446282309044","commitTimestamp":null}}
18:46:48.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.580-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b31d46cb-6505-456f-8ca2-b898ce01c55a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.580-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b31d46cb-6505-456f-8ca2-b898ce01c55a"}}}}
18:46:48.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.580-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9d90a598-e220-483f-9251-67f5ee55468b"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54160","protocol":"op_msg","durationMillis":1736}}
18:46:48.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.591-06:00"},"s":"I",  "c":"WRITE",    "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"update","ns":"test-retail-db.products","command":{"q":{"_id":"test-prod-001"},"u":{"_id":"test-prod-001","tenantId":"test-tenant-001","name":"Test Wireless Headphones","sku":"TEST-HP-001","description":"Test product: Test Wireless Headphones","price":"99.99","currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":50,"status":"ACTIVE","createdAt":{"$date":"2025-12-04T00:46:47.387Z"},"updatedAt":{"$date":"2025-12-04T00:46:47.387Z"},"_class":"com.retail.domain.product.Product"},"multi":false,"upsert":true},"planSummary":"IDHACK","keysExamined":0,"docsExamined":0,"nMatched":0,"nModified":0,"nUpserted":1,"keysInserted":2,"writeConflicts":1,"numYields":0,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54159","durationMillis":1140}}
18:46:48.591 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.591-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.$cmd","command":{"update":"products","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"54d64e53-87b5-4bb8-a617-3ce5d64dfdbb"}}},"numYields":0,"reslen":117,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"r":1,"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"r":1,"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54159","protocol":"op_msg","durationMillis":1140}}
18:46:48.596 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.596 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.598 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.602 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.602-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"760dddfe-0d67-427c-a656-411f17cd7edd"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.602 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.602-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"760dddfe-0d67-427c-a656-411f17cd7edd"}},"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}}}}
18:46:48.603 DEBUG o.s.w.r.f.client.ExchangeFunctions - [756d28cb] HTTP GET /api/v1/products?status=active
18:46:48.604 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2b0b6e5] HTTP GET "/api/v1/products?status=active"
18:46:48.606 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.606 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2b0b6e5] Completed 404 NOT_FOUND
18:46:48.607 DEBUG o.s.w.r.f.client.ExchangeFunctions - [756d28cb] [c9d7883] Response 404 NOT_FOUND
18:46:48.608 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?status=active
> WebTestClient-Request-Id: [1]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.613 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.614 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.614-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"73a84ccb-3ea8-4dcb-a791-2b35f89797cd"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.614 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.614-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"73a84ccb-3ea8-4dcb-a791-2b35f89797cd"}},"collectionUUID":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}}}}
18:46:48.625 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.626-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e6829095-51e9-4996-8014-a45cf22b43cc"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.625 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.626-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e6829095-51e9-4996-8014-a45cf22b43cc"}},"collectionUUID":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}}}}
18:46:48.627 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.627 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.626Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.626Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.628 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.631 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.631 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.631 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.633 DEBUG o.s.w.r.f.client.ExchangeFunctions - [12326ccb] HTTP PUT /api/v1/products/non-existent-id
18:46:48.637 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.637-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.637 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.637-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.648-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b0af65e9-0bbb-4d2d-b7d3-31d12d7d3731"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.648-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"b0af65e9-0bbb-4d2d-b7d3-31d12d7d3731"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.660 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.660-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"228f9637-a0f4-4ef0-859d-02682fb41948"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.660 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.660-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"228f9637-a0f4-4ef0-859d-02682fb41948"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.670 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.671-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.671-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.672 DEBUG org.springframework.web.HttpLogging - [12326ccb] Encoding [Product{id='non-existent-id', tenantId='test-tenant-001', name='Test Product', sku='TEST-001', price (truncated)...]
18:46:48.681 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.683-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.683 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.683-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.688 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5947e8f] HTTP PUT "/api/v1/products/non-existent-id"
18:46:48.689 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.689 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5947e8f] Completed 404 NOT_FOUND
18:46:48.690 DEBUG o.s.w.r.f.client.ExchangeFunctions - [12326ccb] [1829d2c6] Response 404 NOT_FOUND
18:46:48.692 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.695 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.695-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn34","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.695 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.695-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn34","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}}}}
18:46:48.705 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.706 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.704Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.704Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.706 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.709-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2c9240b8-d267-46a1-ac3e-452d5a98c6b5"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.709-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"2c9240b8-d267-46a1-ac3e-452d5a98c6b5"}},"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}}}}
18:46:48.710 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.710 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.711 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.712 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3593747f] HTTP GET /api/v1/products/non-existent-id
18:46:48.713 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [60642be7] HTTP GET "/api/v1/products/non-existent-id"
18:46:48.714 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.714 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [60642be7] Completed 404 NOT_FOUND
18:46:48.715 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3593747f] [1e7b9de1] Response 404 NOT_FOUND
18:46:48.716 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.728-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn36","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"adde61dd-13eb-4a78-ba22-1239ff0b06e3"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.728-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn36","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"adde61dd-13eb-4a78-ba22-1239ff0b06e3"}},"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}}}}
18:46:48.729 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.730 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.728Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.728Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.730 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.733 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.733 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.733 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.735 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2ee6196f] HTTP GET /api/v1/products
18:46:48.736 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [267d37be] HTTP GET "/api/v1/products"
18:46:48.736 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.736 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [267d37be] Completed 404 NOT_FOUND
18:46:48.737 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2ee6196f] [5824ce66] Response 404 NOT_FOUND
18:46:48.739 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.742-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bda1f131-1cae-4a2c-b941-9590345e1601"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:48.742 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.742-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"bda1f131-1cae-4a2c-b941-9590345e1601"}},"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}}}}
18:46:48.750 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.751 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.749Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.749Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.751 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.755 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.755 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.755-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"651e7c24-4dff-427a-88b8-20a163568d0d"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-115-5784382446282309044","collectionIdent":"collection-9-5784382446282309044","commitTimestamp":null}}
18:46:48.756 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.756-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"49bb32ad-5593-4317-8205-6519e902e551"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.756-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"49bb32ad-5593-4317-8205-6519e902e551"}}}}
18:46:48.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.756-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"46ff0395-6e46-4855-8fd8-a524324343c4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54161","protocol":"op_msg","durationMillis":1910}}
18:46:48.757 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f75843e] HTTP POST /api/v1/products
18:46:48.758 DEBUG org.springframework.web.HttpLogging - [f75843e] Encoding [Product{id='null', tenantId='test-tenant-001', name='New Smart Watch', sku='NEW-SW-001', price=249.9 (truncated)...]
18:46:48.759 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5abea9d8] HTTP POST "/api/v1/products"
18:46:48.761 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.761 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5abea9d8] Completed 404 NOT_FOUND
18:46:48.763 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f75843e] [241b70c5] Response 404 NOT_FOUND
18:46:48.765 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/products
> WebTestClient-Request-Id: [5]
> X-Tenant-ID: [test-tenant-001]
> Content-Type: [application/json]
> Content-Length: [357]

{"id":null,"tenantId":"test-tenant-001","name":"New Smart Watch","sku":"NEW-SW-001","description":"Test product: New Smart Watch","price":249.99,"currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":30,"status":"ACTIVE","createdAt":"2025-12-04T00:46:48.757063400Z","updatedAt":"2025-12-04T00:46:48.757063400Z","active":true}

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.767 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.769-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e3df3936-df13-41e6-bd94-1e4d1e765be6"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-116-5784382446282309044","collectionIdent":"collection-11-5784382446282309044","commitTimestamp":null}}
18:46:48.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.769-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5a2b80db-81e5-43ea-9114-e1f208a7fa85"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.769-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5a2b80db-81e5-43ea-9114-e1f208a7fa85"}}}}
18:46:48.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.770-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e1cf9701-b35e-4760-b982-d9e287ab2ab9"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54163","protocol":"op_msg","durationMillis":1920}}
18:46:48.776 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.777 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.775Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.775Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.777 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.781 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.781 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.781 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.782 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='low-stock-001', tenantId='test-tenant-001', name='Low Stock Item', sku='LOW-001', price=49.99, currency='USD', stock=5, status=ACTIVE} })
18:46:48.783 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='low-stock-001', tenantId='test-tenant-001', name='Low Stock Item', sku='LOW-001', price=49.99, currency='USD', stock=5, status=ACTIVE} }, { "_id" : "low-stock-001", "tenantId" : "test-tenant-001", "name" : "Low Stock Item", "sku" : "LOW-001", "description" : "Test product: Low Stock Item", "price" : "49.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 5, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.782Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.782Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.784 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.784-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-117-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:48.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.785-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn10","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cd2d9447-f594-44b6-9354-6bc8bcad59fc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.785-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn10","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cd2d9447-f594-44b6-9354-6bc8bcad59fc"}}}}
18:46:48.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.785-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"601a9fd8-562f-498b-839a-a1ace7156f2b"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54165","protocol":"op_msg","durationMillis":1934}}
18:46:48.787 DEBUG c.r.d.product.ProductEventListener - Product saved event: low-stock-001
18:46:48.787 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Low Stock Item (low-stock-001)
18:46:48.787 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: low-stock-001
18:46:48.788 DEBUG o.s.w.r.f.client.ExchangeFunctions - [424ddcb0] HTTP GET /api/v1/products/low-stock?threshold=10
18:46:48.789 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [69c36b5e] HTTP GET "/api/v1/products/low-stock?threshold=10"
18:46:48.790 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.790 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [69c36b5e] Completed 404 NOT_FOUND
18:46:48.791 DEBUG o.s.w.r.f.client.ExchangeFunctions - [424ddcb0] [1755e28b] Response 404 NOT_FOUND
18:46:48.791 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products/low-stock?threshold=10
> WebTestClient-Request-Id: [6]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.792 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.802-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-118-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:48.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.802-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"736b9ecc-7ec7-4c2e-a7cf-f061147a24c6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.802-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"736b9ecc-7ec7-4c2e-a7cf-f061147a24c6"}}}}
18:46:48.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.802-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4f5b3e40-8c95-4043-8edf-936d64120e14"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28973}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54167","protocol":"op_msg","durationMillis":1948}}
18:46:48.803 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.804 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.802Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.802Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.804 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.807 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.807 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.807 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.808 DEBUG o.s.w.r.f.client.ExchangeFunctions - [592e7718] HTTP PUT /api/v1/products/test-prod-001
18:46:48.809 DEBUG org.springframework.web.HttpLogging - [592e7718] Encoding [Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-H (truncated)...]
18:46:48.810 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [dcc0dbf] HTTP PUT "/api/v1/products/test-prod-001"
18:46:48.810 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.811 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [dcc0dbf] Completed 404 NOT_FOUND
18:46:48.811 DEBUG o.s.w.r.f.client.ExchangeFunctions - [592e7718] [733eeb8a] Response 404 NOT_FOUND
18:46:48.812 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> PUT /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [7]
> X-Tenant-ID: [test-tenant-001]
> Content-Type: [application/json]
> Content-Length: [386]

{"id":"test-prod-001","tenantId":"test-tenant-001","name":"Test Wireless Headphones","sku":"TEST-HP-001","description":"Test product: Test Wireless Headphones","price":89.99,"currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":60,"status":"ACTIVE","createdAt":"2025-12-04T00:46:48.802578200Z","updatedAt":"2025-12-04T00:46:48.802578200Z","active":true}

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.813 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.817-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-119-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:48.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.817-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1f10c4bb-948a-4c96-b4f0-ed6ea63f411e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.817-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1f10c4bb-948a-4c96-b4f0-ed6ea63f411e"}}}}
18:46:48.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.818-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"732e112f-3ebd-4700-8a20-b043e7111298"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":32292}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54168","protocol":"op_msg","durationMillis":1963}}
18:46:48.821 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.822 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.821Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.821Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.822 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.826 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.826 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.826 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.828 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-0', tenantId='test-tenant-001', name='Test Product 0', sku='TEST-0', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.829 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-0', tenantId='test-tenant-001', name='Test Product 0', sku='TEST-0', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-0", "tenantId" : "test-tenant-001", "name" : "Test Product 0", "sku" : "TEST-0", "description" : "Test product: Test Product 0", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.827Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.827Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.829 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.829 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.830-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d4a55298-c8b0-4017-b2d7-0974fec4eeff"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-120-5784382446282309044","collectionIdent":"collection-18-5784382446282309044","commitTimestamp":null}}
18:46:48.830 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.830-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"09acd37d-4e9b-40f0-a172-7d05a67aa053"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.830 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.830-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"09acd37d-4e9b-40f0-a172-7d05a67aa053"}}}}
18:46:48.830 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.830-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f8ce9be0-0276-4810-a024-fdf197bcfa41"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54171","protocol":"op_msg","durationMillis":1972}}
18:46:48.831 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-0
18:46:48.831 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 0 (test-prod-0)
18:46:48.832 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-0
18:46:48.833 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-1', tenantId='test-tenant-001', name='Test Product 1', sku='TEST-1', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.833 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-1', tenantId='test-tenant-001', name='Test Product 1', sku='TEST-1', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-1", "tenantId" : "test-tenant-001", "name" : "Test Product 1", "sku" : "TEST-1", "description" : "Test product: Test Product 1", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.832Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.832Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.833 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.836 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-1
18:46:48.836 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 1 (test-prod-1)
18:46:48.837 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-1
18:46:48.838 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-2', tenantId='test-tenant-001', name='Test Product 2', sku='TEST-2', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.838 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-2', tenantId='test-tenant-001', name='Test Product 2', sku='TEST-2', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-2", "tenantId" : "test-tenant-001", "name" : "Test Product 2", "sku" : "TEST-2", "description" : "Test product: Test Product 2", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.837Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.837Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.838 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.842 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-2
18:46:48.842 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 2 (test-prod-2)
18:46:48.842 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-2
18:46:48.843 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-3', tenantId='test-tenant-001', name='Test Product 3', sku='TEST-3', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.844 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-3', tenantId='test-tenant-001', name='Test Product 3', sku='TEST-3', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-3", "tenantId" : "test-tenant-001", "name" : "Test Product 3", "sku" : "TEST-3", "description" : "Test product: Test Product 3", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.842Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.842Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.844 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.845 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.846-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a041b2c0-f9ef-4202-8909-3995f3c68bc4"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-122-5784382446282309044","collectionIdent":"collection-13-5784382446282309044","commitTimestamp":null}}
18:46:48.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.846-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7aa4dfb6-bfcc-4936-8f86-99aa5acebd19"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.846-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7aa4dfb6-bfcc-4936-8f86-99aa5acebd19"}}}}
18:46:48.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.846-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"98ea76ae-de5f-4692-bb7b-415f1f53eb14"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":32800}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54169","protocol":"op_msg","durationMillis":1990}}
18:46:48.847 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-3
18:46:48.847 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 3 (test-prod-3)
18:46:48.847 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-3
18:46:48.848 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-4', tenantId='test-tenant-001', name='Test Product 4', sku='TEST-4', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.849 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-4', tenantId='test-tenant-001', name='Test Product 4', sku='TEST-4', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-4", "tenantId" : "test-tenant-001", "name" : "Test Product 4", "sku" : "TEST-4", "description" : "Test product: Test Product 4", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.848Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.848Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.849 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.853 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-4
18:46:48.853 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 4 (test-prod-4)
18:46:48.853 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-4
18:46:48.854 DEBUG o.s.w.r.f.client.ExchangeFunctions - [27447e9f] HTTP GET /api/v1/products?page=0&size=3
18:46:48.854 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [691ad250] HTTP GET "/api/v1/products?page=0&size=3"
18:46:48.855 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.855 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [691ad250] Completed 404 NOT_FOUND
18:46:48.855 DEBUG o.s.w.r.f.client.ExchangeFunctions - [27447e9f] [170c0ae6] Response 404 NOT_FOUND
18:46:48.856 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?page=0&size=3
> WebTestClient-Request-Id: [8]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.856 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.862-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-121-5784382446282309044","collectionIdent":"collection-21-5784382446282309044","commitTimestamp":null}}
18:46:48.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.862-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"51c92e18-220f-4c8d-9d1a-b27cc6368d65"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.862-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"51c92e18-220f-4c8d-9d1a-b27cc6368d65"}}}}
18:46:48.862 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.862-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d613ce63-2a3a-4b47-b0ad-ad730a874c31"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54173","protocol":"op_msg","durationMillis":2002}}
18:46:48.866 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.867 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.865Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.865Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.867 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.871 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.871 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.871 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.872 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4e853286] HTTP GET /api/v1/products/test-prod-001
18:46:48.873 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [49680808] HTTP GET "/api/v1/products/test-prod-001"
18:46:48.874 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.874 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [49680808] Completed 404 NOT_FOUND
18:46:48.875 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4e853286] [37de0608] Response 404 NOT_FOUND
18:46:48.875 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [9]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.877-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-123-5784382446282309044","collectionIdent":"collection-24-5784382446282309044","commitTimestamp":null}}
18:46:48.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.877-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"abaf44ca-d3a6-40b8-b658-88d4a5eb4de1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.876 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.877-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"abaf44ca-d3a6-40b8-b658-88d4a5eb4de1"}}}}
18:46:48.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.877-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fdaee6da-1133-4521-bf8b-ee6e7a2a30b0"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54176","protocol":"op_msg","durationMillis":2015}}
18:46:48.877 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.887 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.888 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.885Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.885Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.888 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.891 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.891 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.892 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.893 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.893-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"311374c6-0be0-4ba6-b029-dfeadf9f6f73"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-124-5784382446282309044","collectionIdent":"collection-21-5784382446282309044","commitTimestamp":null}}
18:46:48.893 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.893-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5ea619d1-5b73-4ae9-9164-f1b5a0f4d41c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.893 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f406ea2] HTTP GET /api/v1/products?page=0&size=10
18:46:48.893 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.893-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5ea619d1-5b73-4ae9-9164-f1b5a0f4d41c"}}}}
18:46:48.893 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.893-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c035c431-a9c4-4142-974a-33b64c4d86ba"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":31938}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54174","protocol":"op_msg","durationMillis":2033}}
18:46:48.894 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [32544011] HTTP GET "/api/v1/products?page=0&size=10"
18:46:48.895 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.895 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [32544011] Completed 404 NOT_FOUND
18:46:48.895 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f406ea2] [4c198e1a] Response 404 NOT_FOUND
18:46:48.896 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?page=0&size=10
> WebTestClient-Request-Id: [10]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.897 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.905 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.906 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.904Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.904Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.906 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.910-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"775a325e-5a1c-4487-a7f6-0ba0d7643813"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-126-5784382446282309044","collectionIdent":"collection-28-5784382446282309044","commitTimestamp":null}}
18:46:48.909 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.909 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.910-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"73a84ccb-3ea8-4dcb-a791-2b35f89797cd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.910-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"73a84ccb-3ea8-4dcb-a791-2b35f89797cd"}}}}
18:46:48.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.910-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"171b90e9-0ff0-4fb7-aee4-a16483494bb3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54179","protocol":"op_msg","durationMillis":2041}}
18:46:48.910 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.911 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3ac5a623] HTTP DELETE /api/v1/products/test-prod-001
18:46:48.912 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [38c769e6] HTTP DELETE "/api/v1/products/test-prod-001"
18:46:48.913 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.913 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [38c769e6] Completed 404 NOT_FOUND
18:46:48.915 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3ac5a623] [4600bf15] Response 404 NOT_FOUND
18:46:48.916 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> DELETE /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [11]
> X-Tenant-ID: [test-tenant-001]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:48.917 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:48.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.923-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1e583f6a-8aa9-458c-b1f4-8c7aa199ff9e"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-125-5784382446282309044","collectionIdent":"collection-24-5784382446282309044","commitTimestamp":null}}
18:46:48.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.923-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"760dddfe-0d67-427c-a656-411f17cd7edd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.923-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"760dddfe-0d67-427c-a656-411f17cd7edd"}}}}
18:46:48.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.923-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c3cc2d86-aa05-4793-96c1-31cfba5883cb"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":14821}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54177","protocol":"op_msg","durationMillis":2056}}
18:46:48.934 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.935-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0f1ae3f1-70f3-41dd-9433-a647146b61d8"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-127-5784382446282309044","collectionIdent":"collection-30-5784382446282309044","commitTimestamp":null}}
18:46:48.934 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.935-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e6829095-51e9-4996-8014-a45cf22b43cc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.934 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.935-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e6829095-51e9-4996-8014-a45cf22b43cc"}}}}
18:46:48.934 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.935-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a7b9cd6b-8f75-472f-95e1-22b60dc99913"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54181","protocol":"op_msg","durationMillis":2063}}
18:46:48.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.963-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-128-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","maxTemporaryMemoryUsageMB":200}}
18:46:48.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.963-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.970 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:48.971 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:48.969Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:48.969Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:48.971 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:48.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.976-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-130-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:48.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.976-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b0af65e9-0bbb-4d2d-b7d3-31d12d7d3731"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.976-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b0af65e9-0bbb-4d2d-b7d3-31d12d7d3731"}}}}
18:46:48.975 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.976-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3539abc3-a8fc-4348-ba0e-c80974054f68"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":40570}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54185","protocol":"op_msg","durationMillis":2099}}
18:46:48.992 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.992-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-131-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:48.992 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.992-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"228f9637-a0f4-4ef0-859d-02682fb41948"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:48.992 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.992-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"228f9637-a0f4-4ef0-859d-02682fb41948"}}}}
18:46:48.992 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.992-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","totalRecords":0,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:48.992 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.992-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"aae8438c-92c2-42b0-80bc-f0c2facef1fd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":41002}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54186","protocol":"op_msg","durationMillis":2115}}
18:46:48.993 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:48.993 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:48.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:48.994-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_status_idx","keysInserted":0,"durationMillis":0}}
18:46:48.994 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:48.995 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5d869991] HTTP GET /api/v1/products?category=Electronics
18:46:48.996 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33a8242e] HTTP GET "/api/v1/products?category=Electronics"
18:46:48.997 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:48.998 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [33a8242e] Completed 404 NOT_FOUND
18:46:48.998 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5d869991] [4d649f9a] Response 404 NOT_FOUND
18:46:48.999 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?category=Electronics
> WebTestClient-Request-Id: [12]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:49.001 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:49.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.031-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-132-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","maxTemporaryMemoryUsageMB":200}}
18:46:49.032 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.032-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.054 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.054-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-134-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","maxTemporaryMemoryUsageMB":200}}
18:46:49.054 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.054-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.054 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.054-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:49.054 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.054-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:49.054 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.054-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_status_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":2,"totalInserted":1,"totalDeleted":1,"durationMillis":58}}
18:46:49.055 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.055-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_stock_idx","keysInserted":1,"durationMillis":0}}
18:46:49.056 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.056-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_price_idx","keysInserted":1,"durationMillis":0}}
18:46:49.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.058-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_status_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":0}}
18:46:49.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.058-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}}}}
18:46:49.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.058-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}},"action":"Single-phase commit"}}
18:46:49.060 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
18:46:49.061 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:49.059Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:49.059Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:49.061 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:49.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.069-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-128-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:49.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_status_idx"],"numIndexesBefore":2,"numIndexesAfter":7}}
18:46:49.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenant_stock_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":11}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":11}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5767dd41-d652-4f5d-9e34-e019eab87429"}}}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"15c1abfa-6a48-4d90-ac3b-b4566ba7fa58"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54184","protocol":"op_msg","durationMillis":2196}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenant_stock_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":1,"totalDeleted":0,"durationMillis":0}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}}}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}},"action":"Single-phase commit"}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":1,"totalDeleted":0,"durationMillis":0}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}}}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}},"action":"Single-phase commit"}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-134-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_stock_idx"],"numIndexesBefore":5,"numIndexesAfter":7}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3e3d10eb-dfcf-4a9f-bf77-9652307d9504"}}}}
18:46:49.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.070-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e82e12b8-11f7-439f-b3ad-d0ab33681dcc"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":3425}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54187","protocol":"op_msg","durationMillis":2191}}
18:46:49.070 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
18:46:49.070 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
18:46:49.071 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
18:46:49.071 DEBUG o.s.w.r.f.client.ExchangeFunctions - [605694dc] HTTP GET /api/v1/products/test-prod-001
18:46:49.072 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5d91323f] HTTP GET "/api/v1/products/test-prod-001"
18:46:49.073 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:49.073 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5d91323f] Completed 404 NOT_FOUND
18:46:49.073 DEBUG o.s.w.r.f.client.ExchangeFunctions - [605694dc] [23b35b7b] Response 404 NOT_FOUND
18:46:49.074 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:49.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.089-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-137-5784382446282309044","collectionIdent":"collection-40-5784382446282309044","commitTimestamp":null}}
18:46:49.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.089-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2c9240b8-d267-46a1-ac3e-452d5a98c6b5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.089-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2c9240b8-d267-46a1-ac3e-452d5a98c6b5"}}}}
18:46:49.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.089-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c7bb001b-7558-42cc-bce2-3de365117719"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54191","protocol":"op_msg","durationMillis":2206}}
18:46:49.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1},"name":"tenantId"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-136-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","maxTemporaryMemoryUsageMB":200}}
18:46:49.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn34","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-132-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:49.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_price_idx"],"numIndexesBefore":5,"numIndexesAfter":8}}
18:46:49.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bf940aaf-08b1-44ca-999b-25b292d636e3"}}}}
18:46:49.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:49.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.099-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"70fac91d-99c9-441f-866a-e3ad95965806"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":19295}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54188","protocol":"op_msg","durationMillis":2221}}
[ERROR] Tests run: 13, Failures: 9, Errors: 0, Skipped: 0, Time elapsed: 3.303 s <<< FAILURE! -- in com.retail.controller.ProductControllerIntegrationTest
[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithStatusFilter -- Time elapsed: 1.242 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProductsWithStatusFilter(ProductControllerIntegrationTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testCreateProduct -- Time elapsed: 0.026 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201 CREATED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isCreated(StatusAssertions.java:75)
	at com.retail.controller.ProductControllerIntegrationTest.testCreateProduct(ProductControllerIntegrationTest.java:147)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetLowStockProducts -- Time elapsed: 0.024 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testGetLowStockProducts(ProductControllerIntegrationTest.java:234)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testUpdateProduct -- Time elapsed: 0.018 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testUpdateProduct(ProductControllerIntegrationTest.java:169)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testPagination -- Time elapsed: 0.043 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testPagination(ProductControllerIntegrationTest.java:289)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetProductById -- Time elapsed: 0.019 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testGetProductById(ProductControllerIntegrationTest.java:110)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProducts -- Time elapsed: 0.019 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProducts(ProductControllerIntegrationTest.java:68)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testDeleteProduct -- Time elapsed: 0.064 s <<< FAILURE!
java.lang.AssertionError: Status expected:<204 NO_CONTENT> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isNoContent(StatusAssertions.java:89)
	at com.retail.controller.ProductControllerIntegrationTest.testDeleteProduct(ProductControllerIntegrationTest.java:203)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithCategoryFilter -- Time elapsed: 0.089 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProductsWithCategoryFilter(ProductControllerIntegrationTest.java:86)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.analytics.AdminDashboardServiceTest
18:46:49.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.111-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-139-5784382446282309044","collectionIdent":"collection-40-5784382446282309044","commitTimestamp":null}}
18:46:49.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.111-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn36","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"adde61dd-13eb-4a78-ba22-1239ff0b06e3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.111-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn36","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"adde61dd-13eb-4a78-ba22-1239ff0b06e3"}}}}
18:46:49.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.111-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f7d52a23-9120-4885-a5ea-1e070907f0d3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54192","protocol":"op_msg","durationMillis":2228}}
18:46:49.112 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.112-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenantId","keysInserted":1,"durationMillis":0}}
18:46:49.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.122-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fe4029c3-7c41-4609-a1db-475ed6b9439a"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-140-5784382446282309044","collectionIdent":"collection-40-5784382446282309044","commitTimestamp":null}}
18:46:49.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.122-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bda1f131-1cae-4a2c-b941-9590345e1601"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:49.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.122-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bda1f131-1cae-4a2c-b941-9590345e1601"}}}}
18:46:49.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.122-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5b41b77d-14a6-4737-ac62-9a97b13b197c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":12122}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54193","protocol":"op_msg","durationMillis":2237}}
18:46:49.135 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.135-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenantId","collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":12}}
18:46:49.135 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.135-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}}}}
18:46:49.136 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.135-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}},"action":"Single-phase commit"}}
18:46:49.136 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.136-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-136-5784382446282309044","collectionIdent":"collection-33-5784382446282309044","commitTimestamp":null}}
18:46:49.136 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.136-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}},"collectionUUID":{"uuid":{"$uuid":"dc6ecb48-f3d5-4aa1-adc5-ed3a718b49f3"}},"namespace":"test-retail-db.products","indexesBuilt":["tenantId"],"numIndexesBefore":7,"numIndexesAfter":8}}
18:46:49.136 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.136-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn34","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7655a028-f6c3-42e7-b4ea-0b3e99e74d2f"}}}}
18:46:49.136 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.136-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c0d6bdd1-106f-4ebd-a68c-4f89acbd31e5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":221}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54189","protocol":"op_msg","durationMillis":2255}}
[ERROR] Tests run: 8, Failures: 5, Errors: 0, Skipped: 0, Time elapsed: 0.493 s <<< FAILURE! -- in com.retail.domain.analytics.AdminDashboardServiceTest
[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate -- Time elapsed: 0.413 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.511077400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.510073900Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:249)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.511077400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.510073900Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold -- Time elapsed: 0.005 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:168)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8777)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:177)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:163)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview -- Time elapsed: 0.003 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:99)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics -- Time elapsed: 0.002 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.592918400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.591918600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:225)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.592918400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.591918600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully -- Time elapsed: 0.003 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.594918800Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.593918500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:273)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.594918800Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.593918500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[INFO] Running com.retail.domain.analytics.ReportingServiceTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 s -- in com.retail.domain.analytics.ReportingServiceTest
[INFO] Running com.retail.domain.audit.AuditLogServiceTest
18:46:49.675 WARN  c.r.domain.audit.AuditLogService - Audit (FAILED): USER_LOGIN_FAILED - Login attempt failed - User: testuser - Error: Invalid credentials
18:46:49.680 INFO  c.r.domain.audit.AuditLogService - Audit: SUSPICIOUS_ACTIVITY - Multiple failed login attempts - User: null - Entity: null/null
18:46:49.684 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Updated product details - User: testuser - Entity: Product/product-123
18:46:49.687 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Price changed - User: testuser - Entity: Product/product-123
18:46:49.692 INFO  c.r.domain.audit.AuditLogService - Audit: USER_LOGIN - null - User: testuser - Entity: null/null
18:46:49.700 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_CREATED - Test description - User: null - Entity: null/null
18:46:49.702 INFO  c.r.domain.audit.AuditLogService - Cleaning up audit events older than 90 days for tenant tenant-123
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 s -- in com.retail.domain.audit.AuditLogServiceTest
[INFO] Running com.retail.domain.auth.OAuth2ServiceTest
18:46:49.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.758-06:00"},"s":"I",  "c":"STORAGE",  "id":22260,   "ctx":"TimestampMonitor","msg":"Removing drop-pending idents with drop timestamps before timestamp","attr":{"timestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:49.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.758-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-129-5784382446282309044","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:49.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.762-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-135-5784382446282309044","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:49.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.782-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-133-5784382446282309044","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:49.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:49.794-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-138-5784382446282309044","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:49.924 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: FACEBOOK tenant: test-tenant
18:46:49.925 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: fbuser@example.com provider: FACEBOOK
18:46:49.926 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
18:46:49.929 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
18:46:49.929 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: test@example.com provider: GOOGLE
18:46:49.929 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
18:46:49.935 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
18:46:49.938 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
18:46:49.939 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Email not provided by OAuth2 provider
	at com.retail.domain.auth.OAuth2Service.findOrCreateUser(OAuth2Service.java:108)
	at com.retail.domain.auth.OAuth2Service.lambda$authenticateWithOAuth2$1(OAuth2Service.java:53)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_noEmailProvided_shouldFail(OAuth2ServiceTest.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:49.942 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
18:46:49.942 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
18:46:49.947 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
18:46:49.947 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
18:46:49.947 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Failed to fetch user info from GOOGLE: 401 Unauthorized
	at com.retail.domain.auth.OAuth2Service.lambda$fetchUserInfo$2(OAuth2Service.java:88)
	at reactor.core.publisher.Mono.lambda$onErrorMap$28(Mono.java:3799)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_providerReturnsError_shouldFail(OAuth2ServiceTest.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 8, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.244 s <<< FAILURE! -- in com.retail.domain.auth.OAuth2ServiceTest
[ERROR] com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail -- Time elapsed: 0.002 s <<< ERROR!
java.lang.IllegalArgumentException: Unsupported OAuth2 provider: INVALID_PROVIDER
	at com.retail.domain.auth.OAuth2Provider.fromString(OAuth2Provider.java:17)
	at com.retail.domain.auth.OAuth2Service.authenticateWithOAuth2(OAuth2Service.java:46)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail(OAuth2ServiceTest.java:202)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running Cart Entity Tests
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s -- in Cart Entity Tests
[INFO] Running com.retail.domain.cart.SavedCartServiceTest
[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.113 s <<< FAILURE! -- in com.retail.domain.cart.SavedCartServiceTest
[ERROR] com.retail.domain.cart.SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart -- Time elapsed: 0.001 s <<< FAILURE!
java.lang.AssertionError: expectation "assertNext" failed (expected: onNext(); actual: onError(java.lang.NullPointerException: other))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.cart.SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart(SavedCartServiceTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: java.lang.NullPointerException: other
		at java.base/java.util.Objects.requireNonNull(Objects.java:246)
		at reactor.core.publisher.MonoSwitchIfEmpty.<init>(MonoSwitchIfEmpty.java:35)
		at reactor.core.publisher.Mono.switchIfEmpty(Mono.java:4594)
		at com.retail.domain.cart.SavedCartService.lambda$getSavedCart$0(SavedCartService.java:41)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[INFO] Running com.retail.domain.notification.NotificationServiceTest
18:46:50.126 INFO  c.r.d.n.NotificationService - Creating notification: type=ORDER_CONFIRMATION, channel=EMAIL, userId=user-123
18:46:50.129 INFO  c.r.d.n.NotificationService - Scheduling notification: type=PROMOTIONAL, scheduledFor=2025-12-04T01:46:50.129999400Z, userId=user-123
18:46:50.131 INFO  c.r.d.n.NotificationService - Notification cancelled: id=notification-123
18:46:50.134 INFO  c.r.d.n.NotificationService - Creating notification from template: type=ORDER_CONFIRMATION, template=order-confirmation-template, userId=user-123
18:46:50.135 INFO  c.r.d.n.NotificationService - Cleaning up notifications older than 90 days for tenant tenant-123
18:46:50.141 INFO  c.r.d.n.NotificationService - Notification sent: id=notification-123, externalId=external-456
18:46:50.141 WARN  c.r.d.n.NotificationService - Notification failed: id=notification-123, error=SMTP connection failed, retryCount=1
18:46:50.143 INFO  c.r.d.n.NotificationService - Notification delivered: id=notification-123
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.064 s -- in com.retail.domain.notification.NotificationServiceTest
[INFO] Running com.retail.domain.order.OrderServiceUnitTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 s -- in com.retail.domain.order.OrderServiceUnitTest
[INFO] Running Order Entity Tests
[INFO] Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s -- in Order Entity Tests
[INFO] Running com.retail.domain.payment.gateway.PayPalGatewayServiceTest
18:46:50.189 INFO  c.r.d.p.gateway.PayPalGatewayService - Refunding PayPal payment: CAPTURE-test-123 for amount: 50.00
18:46:50.189 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal refund processed: REFUND-de70f8f8-c56f-4819-8c9d-acf64449e9b5
18:46:50.190 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: false
18:46:50.192 INFO  c.r.d.p.gateway.PayPalGatewayService - Capturing PayPal payment: PAYPAL-test-123 for amount: 100.00
18:46:50.193 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment captured: CAPTURE-4137663f-7aee-4ee6-bf72-a5450ed4f050
18:46:50.194 INFO  c.r.d.p.gateway.PayPalGatewayService - Authorizing PayPal payment for amount: 100.00 USD
18:46:50.194 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment authorized: PAYPAL-b46e2d00-7182-4ccb-8d8b-834e28cf602c
18:46:50.195 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: true
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 s -- in com.retail.domain.payment.gateway.PayPalGatewayServiceTest
[INFO] Running com.retail.domain.payment.PaymentProcessingServiceTest
18:46:50.352 INFO  c.r.d.p.PaymentProcessingService - Capturing payment: tx-123 amount: 100.00
18:46:50.356 INFO  c.r.d.p.PaymentProcessingService - Processing refund: tx-123 amount: 50.00 reason: Customer request
18:46:50.358 INFO  c.r.d.p.PaymentProcessingService - Processing payment for order: order-123 amount: 100.00 USD
[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.163 s <<< FAILURE! -- in com.retail.domain.payment.PaymentProcessingServiceTest
[ERROR] com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment -- Time elapsed: 0.002 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'createTransaction' method:
    paymentService.createTransaction(
    "order-123",
    100.00,
    "USD",
    PAYPAL,
    null
);
    -> at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
 - has following stubbing(s) with different arguments:
    1. paymentService.createTransaction(
    null,
    null,
    null,
    null,
    ""
);
      -> at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:57)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.retail.domain.payment.PaymentService.createTransaction(PaymentService.java:36)
	at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
	at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:69)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.product.ProductServiceTest
18:46:50.362 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.domain.product.ProductServiceTest]: ProductServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:50.376 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.domain.product.ProductServiceTest
18:46:50.379 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

18:46:50.395 INFO  c.r.d.product.ProductServiceTest - Starting ProductServiceTest using Java 25.0.1 with PID 13892 (started by codep in D:\code\retail-agentic\backend)
18:46:50.395 DEBUG c.r.d.product.ProductServiceTest - Running with Spring Boot v3.2.1, Spring v6.1.2
18:46:50.395 INFO  c.r.d.product.ProductServiceTest - The following 1 profile is active: "test"
18:46:50.626 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:50.630 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:50.638 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:50.641 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:50.642 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:50.653 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
18:46:50.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.705-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
18:46:50.734 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.735-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
18:46:50.735 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.736-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.737-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.737-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.737-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.737-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.738-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":32400,"port":54197,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--26b48ae4-f076-4691-949e-516e5415b398/mongod-database10268872607651847509","architecture":"64-bit","host":"jon-desktop"}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.738-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.738-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.738-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
18:46:50.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.738-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":54197},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--26b48ae4-f076-4691-949e-516e5415b398\\mongod-database10268872607651847509","journal":{"enabled":false},"syncPeriodSecs":0}}}}
18:46:50.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.741-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
18:46:50.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.771-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":30}}
18:46:50.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.771-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:50.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.798-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"5a896614-33bc-4674-b114-bba9e4368ab0"}},"options":{"uuid":{"$uuid":"5a896614-33bc-4674-b114-bba9e4368ab0"}}}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5a896614-33bc-4674-b114-bba9e4368ab0"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--7014810649055883179","collectionIdent":"collection-0--7014810649055883179","commitTimestamp":null}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:50.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.812-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
18:46:50.819 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.819-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
18:46:50.819 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.819-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
18:46:50.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.964-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--26b48ae4-f076-4691-949e-516e5415b398/mongod-database10268872607651847509/diagnostic.data"}}
18:46:50.964 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.964-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a8ed48ea-8d4c-4c38-b7d1-1ba4af93fda9"}},"options":{"capped":true,"size":10485760}}}
18:46:50.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.988-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a8ed48ea-8d4c-4c38-b7d1-1ba4af93fda9"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--7014810649055883179","collectionIdent":"collection-2--7014810649055883179","commitTimestamp":null}}
18:46:50.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.989-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
18:46:50.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
18:46:50.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.990-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
18:46:50.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.990-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c5d631f6-d087-4899-9e5a-f03382fcec10"}},"options":{}}}
18:46:50.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.990-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
18:46:50.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:50.990-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":54197,"ssl":"off"}}
18:46:51.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.030-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54199","uuid":"b1d020a0-690c-4624-82d4-24ce31234acc","connectionId":1,"connectionCount":1}}
18:46:51.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.030-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54198","uuid":"bc77be75-02dc-413e-aba0-4cd417430ac8","connectionId":2,"connectionCount":2}}
18:46:51.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.030-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54199","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.030-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54198","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.041 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.041-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c5d631f6-d087-4899-9e5a-f03382fcec10"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--7014810649055883179","collectionIdent":"collection-4--7014810649055883179","commitTimestamp":null}}
18:46:51.041 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.041-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c5d631f6-d087-4899-9e5a-f03382fcec10"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--7014810649055883179","collectionIdent":"collection-4--7014810649055883179","commitTimestamp":null}}
18:46:51.055 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
18:46:51.057 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
18:46:51.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.058-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54200","uuid":"bf6ad5dc-5ae8-4720-bcd7-b5c5a2e3437b","connectionId":3,"connectionCount":3}}
18:46:51.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.059-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54201","uuid":"caa1c77e-200a-497a-abb6-5e51652bc477","connectionId":4,"connectionCount":4}}
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
18:46:51.058 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
18:46:51.059 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
18:46:51.059 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
18:46:51.059 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.060-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54201","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.059 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.060-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54200","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.060 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
18:46:51.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.061-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0d35c927-5426-4db5-8050-948504ebd0a6"}},"options":{}}}
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
18:46:51.061 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
18:46:51.062 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.062-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a35c3508-2b21-4f04-9c28-f88e6f1acdfe"}},"options":{}}}
18:46:51.062 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
18:46:51.062 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.062-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54202","uuid":"2f94f7aa-41ba-4dbb-bf7b-9f638fe9109e","connectionId":5,"connectionCount":5}}
18:46:51.062 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.062-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54202","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.063 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
18:46:51.063 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
18:46:51.063 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
18:46:51.063 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
18:46:51.064 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.064-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54203","uuid":"52f82019-b2db-4945-83a7-a5a11de27755","connectionId":6,"connectionCount":6}}
18:46:51.064 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.064-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"options":{}}}
18:46:51.064 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.064-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54203","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.064 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.065-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54204","uuid":"48df3c9b-a9a8-47f5-a6a9-3b308adf6b80","connectionId":7,"connectionCount":7}}
18:46:51.065 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.065-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54204","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.065 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.065-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"766d745a-efcd-43a6-9f21-9f94765ef3d6"}},"options":{}}}
18:46:51.065 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
18:46:51.065 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
18:46:51.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.066-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54205","uuid":"ed02a1c0-ef5e-4e7a-8c9b-bd138edca7bb","connectionId":8,"connectionCount":8}}
18:46:51.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.066-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b0c9c4f7-44ab-425f-86f3-cf7c04543b71"}},"options":{}}}
18:46:51.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.066-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54205","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.066-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54206","uuid":"03115282-4f3a-43e8-9369-9b9c3c5fb4e7","connectionId":9,"connectionCount":9}}
18:46:51.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.067-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:54206","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.067 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
18:46:51.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.067-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ef7cd440-0a65-4fc0-9f38-dc8ea256fb48"}},"options":{}}}
18:46:51.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.067-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54207","uuid":"e41df244-15a1-4b39-adf7-0bf70ad3f5ca","connectionId":10,"connectionCount":10}}
18:46:51.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.068-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"05c13605-2adf-4c52-89df-fd9de4d87089"}},"options":{}}}
18:46:51.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.068-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:54207","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.069-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}},"options":{}}}
18:46:51.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.070-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54209","uuid":"229e3303-e9c6-4732-99cc-0e37b956a332","connectionId":11,"connectionCount":11}}
18:46:51.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.070-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54208","uuid":"d303e243-12ac-4c58-9208-0f46c082558c","connectionId":12,"connectionCount":12}}
18:46:51.070 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.070-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:54209","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.071 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.071-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:54208","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.071 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.071-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3f5c27a7-0572-4c3f-86a8-0df1146353b8"}},"options":{}}}
18:46:51.072 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.072-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54210","uuid":"2cf35f35-92b4-4962-ae17-640fd2768a1b","connectionId":13,"connectionCount":13}}
18:46:51.072 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.072-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:54210","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.073 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.073-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}},"options":{}}}
18:46:51.073 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.073-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"051b8c9a-5a21-473a-a171-1344a53f5928"}},"options":{}}}
18:46:51.074 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.074-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54211","uuid":"0057c006-f5fa-41ee-a4ff-599854a4a963","connectionId":14,"connectionCount":14}}
18:46:51.074 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.074-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:54211","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.074 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.074-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54212","uuid":"4231ad8f-7e2b-45e8-b086-f106737aa6dd","connectionId":15,"connectionCount":15}}
18:46:51.075 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.075-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:54212","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.076-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54213","uuid":"01c004ce-d2fa-4017-9942-b628a3e29afb","connectionId":16,"connectionCount":16}}
18:46:51.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.076-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8844a78e-afa8-4a15-8f21-1fe31b353d6a"}},"options":{}}}
18:46:51.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.076-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:54213","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.077 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.077-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"options":{}}}
18:46:51.078 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.078-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aed2c7c8-ada3-49c3-9c7e-fec2e35c9c0c"}},"options":{}}}
18:46:51.079 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.079-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54214","uuid":"c0142b5c-d5b6-438f-9fef-d2266db3e28c","connectionId":17,"connectionCount":17}}
18:46:51.079 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.080-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54215","uuid":"be4d6f22-dcf6-4ce4-93ee-9a2e2fab6195","connectionId":18,"connectionCount":18}}
18:46:51.080 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.080-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:54214","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.080 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.080-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:54215","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.080 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.081-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e70e2273-3282-4994-a25f-56476f789851"}},"options":{}}}
18:46:51.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.082-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54216","uuid":"39f082c5-a111-4213-af9f-6f320559f8b4","connectionId":19,"connectionCount":19}}
18:46:51.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.082-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:54216","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.082-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ac7a1fa0-2449-4805-9ae5-92a175d29ef6"}},"options":{}}}
18:46:51.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.083-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54217","uuid":"e30a6250-d0aa-4cfb-8cb2-dbf569ab3a7b","connectionId":20,"connectionCount":20}}
18:46:51.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.083-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"83db7756-fa09-49f8-b148-eb3398dd32aa"}},"options":{}}}
18:46:51.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.083-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:54217","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.084-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54218","uuid":"c67d0681-c723-4713-9cd2-b0d83133f1c0","connectionId":21,"connectionCount":21}}
18:46:51.084 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.084-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:54218","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.084 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.084-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d7831db8-2938-4e2e-996e-221d2e3f128b"}},"options":{}}}
18:46:51.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.085-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4bdf9323-5754-4d56-86eb-c7951195c669"}},"options":{}}}
18:46:51.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.085-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54219","uuid":"b7cf1de3-c3aa-4edf-b9b8-94b64a96d566","connectionId":22,"connectionCount":22}}
18:46:51.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.086-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:54219","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.086-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54220","uuid":"5dfb7e59-9257-4297-a7eb-950d765a3230","connectionId":23,"connectionCount":23}}
18:46:51.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.086-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:54220","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.087-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}},"options":{}}}
18:46:51.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.088-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"32cbcaef-503a-4680-b969-65e07209a883"}},"options":{}}}
18:46:51.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.088-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54221","uuid":"c432896b-24fb-48a9-ad22-d3fba8dbeab6","connectionId":24,"connectionCount":24}}
18:46:51.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.088-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54222","uuid":"c30ffe94-b6ad-4dd4-8275-2d89c06a0c24","connectionId":25,"connectionCount":25}}
18:46:51.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.088-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:54221","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.089-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:54222","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.089 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.089-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"options":{}}}
18:46:51.089 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.090-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"736d4393-d07b-4c2a-8698-e8e10293d1c2"}},"options":{}}}
18:46:51.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.091-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54224","uuid":"2cb2d896-1873-40f3-9ec6-cee6e11beac3","connectionId":26,"connectionCount":26}}
18:46:51.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.091-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54223","uuid":"adc23d48-8ce9-4def-bff1-4a41d9f6159e","connectionId":27,"connectionCount":27}}
18:46:51.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.091-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:54224","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.091 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.091-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:54223","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.091 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.092-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"options":{}}}
18:46:51.092 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.093-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5d37141b-cf9e-4135-a4a1-6d9cdbb8a5dc"}},"options":{}}}
18:46:51.092 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.093-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54225","uuid":"e30d1618-534a-4a3a-b903-c23377c302c1","connectionId":28,"connectionCount":28}}
18:46:51.093 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.093-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54226","uuid":"8bff81ef-bef7-4d7e-a2f5-9c75222c0dce","connectionId":29,"connectionCount":29}}
18:46:51.093 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.094-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:54225","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.093 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.094-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:54226","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.095-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"be22a543-522c-4b5a-bf76-02b24d57ae9d"}},"options":{}}}
18:46:51.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.095-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54227","uuid":"d56ba7eb-9d7b-49c8-9e9f-4057a712a11d","connectionId":30,"connectionCount":30}}
18:46:51.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.096-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54228","uuid":"5e627d5e-dd50-4583-9113-1ad42d263554","connectionId":31,"connectionCount":31}}
18:46:51.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.096-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"options":{}}}
18:46:51.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.096-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:54227","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.096-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:54228","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.097-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3cacdbea-5f05-4681-a274-7f2b4c3f3703"}},"options":{}}}
18:46:51.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.098-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bc35dd4e-b9db-468f-8848-0cd5960cfc0c"}},"options":{}}}
18:46:51.097 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.098-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54229","uuid":"65ce094e-f3c6-48ba-838b-0af03ab5b95d","connectionId":32,"connectionCount":32}}
18:46:51.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.099-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54230","uuid":"d93a5caf-5447-4314-9cd1-6630bb6cb064","connectionId":33,"connectionCount":33}}
18:46:51.098 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.099-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:54229","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.100-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:54230","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.100-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"options":{}}}
18:46:51.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.100-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"366cb9de-e72a-4045-ae9e-e2c960048a96"}},"options":{}}}
18:46:51.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.101-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54231","uuid":"eb516be6-921b-404e-930f-d5100e52dc78","connectionId":34,"connectionCount":34}}
18:46:51.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.101-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:54231","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.101-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54232","uuid":"1748aae8-12bc-4177-94f5-3430a6c17ba2","connectionId":35,"connectionCount":35}}
18:46:51.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.101-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:54232","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.102-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7140a019-1bac-45ac-ba95-bbe834d39501"}},"options":{}}}
18:46:51.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.102-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54233","uuid":"d642417b-87a5-4059-b94f-161653530d71","connectionId":36,"connectionCount":36}}
18:46:51.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.103-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:54233","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.103-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c1def058-4b18-440b-93c7-40b0a0dd0ec2"}},"options":{}}}
18:46:51.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.103-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54234","uuid":"7d8579d8-ef3a-4853-92d3-67990b976287","connectionId":37,"connectionCount":37}}
18:46:51.103 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.103-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}},"options":{}}}
18:46:51.103 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.104-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:54234","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.104 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.104-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"89f738c6-aa82-422b-8244-e2456e035e69"}},"options":{}}}
18:46:51.273 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
18:46:51.279 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 772babe6-2e61-4d5f-9c6b-0636379f3061

18:46:51.292 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
18:46:51.310 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
18:46:51.317 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
18:46:51.320 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
18:46:51.366 INFO  c.r.d.product.ProductServiceTest - Started ProductServiceTest in 0.988 seconds (process running for 12.981)
18:46:51.371 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:51.373 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.373-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54235","uuid":"6de80366-0560-4500-894a-8bf2743b43a4","connectionId":38,"connectionCount":38}}
18:46:51.374 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.374-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn38","msg":"client metadata","attr":{"remote":"127.0.0.1:54235","client":"conn38","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:51.376 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
18:46:51.384 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:51.386 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.386-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn38","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7d227d2b-d178-4705-978c-bd2b27658477"}},"options":{}}}
18:46:51.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.502-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0d35c927-5426-4db5-8050-948504ebd0a6"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-14--7014810649055883179","collectionIdent":"collection-7--7014810649055883179","commitTimestamp":null}}
18:46:51.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.503-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0d35c927-5426-4db5-8050-948504ebd0a6"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-49--7014810649055883179","collectionIdent":"collection-7--7014810649055883179","commitTimestamp":null}}
18:46:51.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.503-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6c74008f-db24-453f-8798-a9df6c9d7f26"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54200","protocol":"op_msg","durationMillis":442}}
18:46:51.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.580-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
18:46:51.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.723-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-34--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:51.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.723-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-69--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:51.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.723-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1a509f5e-1b32-4de0-9a49-3cc8506e410a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54202","protocol":"op_msg","durationMillis":658}}
18:46:51.844 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.844-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:51.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.853-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:51.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.861-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:51.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.870-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
18:46:51.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.878-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-50--7014810649055883179","collectionIdent":"collection-15--7014810649055883179","commitTimestamp":null}}
18:46:51.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.878-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-85--7014810649055883179","collectionIdent":"collection-15--7014810649055883179","commitTimestamp":null}}
18:46:51.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.879-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6ca3cf9c-b79d-4ba2-ac8a-5f2469f57438"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54207","protocol":"op_msg","durationMillis":809}}
18:46:51.886 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.887-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"3f5c27a7-0572-4c3f-86a8-0df1146353b8"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-51--7014810649055883179","collectionIdent":"collection-16--7014810649055883179","commitTimestamp":null}}
18:46:51.887 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.887-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"3f5c27a7-0572-4c3f-86a8-0df1146353b8"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-86--7014810649055883179","collectionIdent":"collection-16--7014810649055883179","commitTimestamp":null}}
18:46:51.887 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.887-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"24489e46-d5f0-4601-8d7b-2ef4754beab5"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54209","protocol":"op_msg","durationMillis":816}}
18:46:51.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.896-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-52--7014810649055883179","collectionIdent":"collection-17--7014810649055883179","commitTimestamp":null}}
18:46:51.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.896-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-87--7014810649055883179","collectionIdent":"collection-17--7014810649055883179","commitTimestamp":null}}
18:46:51.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.896-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0508f926-3bb1-4469-985d-d64a0adf156a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54210","protocol":"op_msg","durationMillis":823}}
18:46:51.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.905-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
18:46:51.913 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.913-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
18:46:51.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.921-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-55--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:51.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.921-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-90--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:51.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.922-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0eb17322-b552-4ece-944d-dc25eaa3e7a0"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54213","protocol":"op_msg","durationMillis":844}}
18:46:51.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.930-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.947 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.947-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.956-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.965-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.974-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.983 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.983-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:51.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.991-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-63--7014810649055883179","collectionIdent":"collection-28--7014810649055883179","commitTimestamp":null}}
18:46:51.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.991-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-97--7014810649055883179","collectionIdent":"collection-28--7014810649055883179","commitTimestamp":null}}
18:46:51.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:51.991-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"38be99f6-e1db-4aac-9940-594c2e344f04"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54220","protocol":"op_msg","durationMillis":904}}
18:46:51.999 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.000-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
18:46:52.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.010-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-65--7014810649055883179","collectionIdent":"collection-30--7014810649055883179","commitTimestamp":null}}
18:46:52.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.010-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-99--7014810649055883179","collectionIdent":"collection-30--7014810649055883179","commitTimestamp":null}}
18:46:52.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.010-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1d0fd2e5-3c6c-44fe-ba58-452ca5b48b10"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54221","protocol":"op_msg","durationMillis":920}}
18:46:52.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.018-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:52.026 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.027-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-67--7014810649055883179","collectionIdent":"collection-32--7014810649055883179","commitTimestamp":null}}
18:46:52.026 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.027-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-101--7014810649055883179","collectionIdent":"collection-32--7014810649055883179","commitTimestamp":null}}
18:46:52.026 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.027-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"82b77cfd-e114-4335-9740-53ea3ced56f5"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54224","protocol":"op_msg","durationMillis":935}}
18:46:52.036 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.036-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:52.044 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.044-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
18:46:52.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.053-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn38","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
18:46:52.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.061-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-72--7014810649055883179","collectionIdent":"collection-36--7014810649055883179","commitTimestamp":null}}
18:46:52.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.061-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-105--7014810649055883179","collectionIdent":"collection-36--7014810649055883179","commitTimestamp":null}}
18:46:52.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.061-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"22f5a600-ca47-4a9f-9cf5-3a9c714bc62f"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54226","protocol":"op_msg","durationMillis":965}}
18:46:52.069 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.070-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:52.078 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.078-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:52.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.088-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-75--7014810649055883179","collectionIdent":"collection-39--7014810649055883179","commitTimestamp":null}}
18:46:52.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.088-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-108--7014810649055883179","collectionIdent":"collection-39--7014810649055883179","commitTimestamp":null}}
18:46:52.088 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.088-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8503b1bc-e2ea-4289-82d9-31b4e2bd29d8"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54229","protocol":"op_msg","durationMillis":987}}
18:46:52.096 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.096-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn33","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:52.105 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.105-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:52.114 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.114-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:52.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.123-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-79--7014810649055883179","collectionIdent":"collection-43--7014810649055883179","commitTimestamp":null}}
18:46:52.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.123-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-112--7014810649055883179","collectionIdent":"collection-43--7014810649055883179","commitTimestamp":null}}
18:46:52.122 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.123-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e0fe2030-f658-4c1d-9615-b334c42c6a0c"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54233","protocol":"op_msg","durationMillis":1019}}
18:46:52.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.131-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
18:46:52.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.358-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e5bb1742-6963-4ad4-929a-9db0de04a186"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.402 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.403-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"745addaa-8e11-44a1-a8d5-7755659f98fd"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"0d35c927-5426-4db5-8050-948504ebd0a6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.429-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d96ef325-b546-426e-8511-b631b72289fc"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.490 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.491-06:00"},"s":"I",  "c":"WRITE",    "id":51803,   "ctx":"conn38","msg":"Slow query","attr":{"type":"update","ns":"test-retail-db.tenants","command":{"q":{"_id":"tenant-a-test"},"u":{"_id":"tenant-a-test","subdomain":"tenant-a","name":"Test Store tenant-a","contactEmail":"test@tenant-a.com","branding":{"primaryColor":"#1E40AF","secondaryColor":"#9333EA","accentColor":"#F59E0B","fontFamily":"Inter"},"settings":{"currency":"USD","taxRate":0.09,"freeShippingThreshold":50,"lowStockThreshold":10},"createdAt":{"$date":"2025-12-04T00:46:51.378Z"},"updatedAt":{"$date":"2025-12-04T00:46:51.378Z"},"_class":"com.retail.domain.tenant.Tenant"},"multi":false,"upsert":true},"planSummary":"IDHACK","keysExamined":0,"docsExamined":0,"nMatched":0,"nModified":0,"nUpserted":1,"keysInserted":2,"writeConflicts":1,"numYields":0,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54235","durationMillis":1104}}
18:46:52.490 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.491-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn38","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.$cmd","command":{"update":"tenants","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"a18c8db3-1fcb-4eb9-9484-1975b0905c1b"}}},"numYields":0,"reslen":117,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"r":1,"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"r":1,"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54235","protocol":"op_msg","durationMillis":1104}}
18:46:52.493 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.498 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.500 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.496Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.496Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.501 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.519-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"233c79e4-4826-42c4-8315-37ad04531008"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.519-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"233c79e4-4826-42c4-8315-37ad04531008"}},"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}}}}
18:46:52.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.580-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8831d479-68b5-40c3-b11a-253e5bfb17c9"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.580-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn12","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"8831d479-68b5-40c3-b11a-253e5bfb17c9"}},"collectionUUID":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}}}}
18:46:52.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.589-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn14","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f3b83b69-ee36-467e-ad2d-0e8db735705a"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.589-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn14","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"f3b83b69-ee36-467e-ad2d-0e8db735705a"}},"collectionUUID":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}}}}
18:46:52.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.606-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0d35c927-5426-4db5-8050-948504ebd0a6"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-114--7014810649055883179","collectionIdent":"collection-7--7014810649055883179","commitTimestamp":null}}
18:46:52.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.606-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"745addaa-8e11-44a1-a8d5-7755659f98fd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.606-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"745addaa-8e11-44a1-a8d5-7755659f98fd"}}}}
18:46:52.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.607-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c6ae8fd4-896b-4d31-bcc4-475f6d30b1ee"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54201","protocol":"op_msg","durationMillis":1544}}
18:46:52.647 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.647-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"dbd8cf60-ded0-4222-a156-15c248593726"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.647 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.647-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"dbd8cf60-ded0-4222-a156-15c248593726"}},"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}}}}
18:46:52.655 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.655-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"84f683f0-1d5e-4aa7-bf8f-8db1171d047f"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.655 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.655-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"84f683f0-1d5e-4aa7-bf8f-8db1171d047f"}},"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}}}}
18:46:52.663 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.663-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
18:46:52.663 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.663-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}},"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}}}}
18:46:52.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.688-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn34","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bf1e4345-1b26-4f32-8527-9fb36507bc80"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.688 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.688-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn34","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"bf1e4345-1b26-4f32-8527-9fb36507bc80"}},"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}}}}
18:46:52.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.697-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d66f9be8-308e-4047-90c8-6a5e6c149d2d"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.697-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"d66f9be8-308e-4047-90c8-6a5e6c149d2d"}},"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}}}}
18:46:52.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.705-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"075c6c4f-049f-495b-8620-93989401a87b"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.705-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"075c6c4f-049f-495b-8620-93989401a87b"}},"collectionUUID":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}}}}
18:46:52.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.731-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"180ae2f9-c9c8-4af7-89f7-0e0a2e1d5308"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.731-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"180ae2f9-c9c8-4af7-89f7-0e0a2e1d5308"}},"collectionUUID":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}}}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-115--7014810649055883179","collectionIdent":"collection-36--7014810649055883179","commitTimestamp":null}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"233c79e4-4826-42c4-8315-37ad04531008"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"233c79e4-4826-42c4-8315-37ad04531008"}}}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f4db0733-39ea-49c2-9ce9-8b05161b164a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":64893}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54228","protocol":"op_msg","durationMillis":1643}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d59689ed-1648-4233-aaba-c171fe169ea4"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.741-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"d59689ed-1648-4233-aaba-c171fe169ea4"}},"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}}}}
18:46:52.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.756-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn33","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b2555ac7-2084-4b75-93be-40a4746a0aa1"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.756-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn33","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"b2555ac7-2084-4b75-93be-40a4746a0aa1"}},"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-116--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e5bb1742-6963-4ad4-929a-9db0de04a186"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e5bb1742-6963-4ad4-929a-9db0de04a186"}}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"96ca966d-9ef7-41ee-bf52-ef2477d63237"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5945d2da-ccf9-4d37-9cec-95f605abc3b1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":355236}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54204","protocol":"op_msg","durationMillis":1700}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8a54cd93-ebc9-4fcc-bc4b-e6301d52835b"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"da23c694-c1fa-42d3-a2a8-b840422d4671"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn9","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"8a54cd93-ebc9-4fcc-bc4b-e6301d52835b"}},"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}}}}
18:46:52.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.766-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn8","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"da23c694-c1fa-42d3-a2a8-b840422d4671"}},"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}}}}
18:46:52.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-117--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d96ef325-b546-426e-8511-b631b72289fc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d96ef325-b546-426e-8511-b631b72289fc"}}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e3342a2d-b3a0-43d4-b275-41db4bca853e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenant_sku_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4f7c56ed-03d4-4350-a331-112e3a8e1e77"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"87cb0ce4-aada-4172-b8ff-4f14d257bdd1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":292431}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54215","protocol":"op_msg","durationMillis":1693}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn38","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"insert":"products","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"a18c8db3-1fcb-4eb9-9484-1975b0905c1b"}}},"ninserted":1,"keysInserted":3,"numYields":0,"reslen":45,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":1}},"FeatureCompatibilityVersion":{"acquireCount":{"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":1}},"Global":{"acquireCount":{"w":1}},"Database":{"acquireCount":{"w":1}},"Collection":{"acquireCount":{"w":1},"acquireWaitCount":{"w":1},"timeAcquiringMicros":{"w":268803}},"Mutex":{"acquireCount":{"r":1}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54235","protocol":"op_msg","durationMillis":268}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"4f7c56ed-03d4-4350-a331-112e3a8e1e77"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}}}}
18:46:52.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.775-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"e3342a2d-b3a0-43d4-b275-41db4bca853e"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}}}}
18:46:52.776 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da2e
18:46:52.776 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (6930d9fcee139b7ee1a4da2e)
18:46:52.777 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da2e
18:46:52.780 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:52.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.786-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-118--7014810649055883179","collectionIdent":"collection-30--7014810649055883179","commitTimestamp":null}}
18:46:52.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.786-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"dbd8cf60-ded0-4222-a156-15c248593726"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.786-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"dbd8cf60-ded0-4222-a156-15c248593726"}}}}
18:46:52.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.786-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b3e1eae8-703f-467e-943d-11cfd0184ade"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54222","protocol":"op_msg","durationMillis":1696}}
18:46:52.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.804-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-119--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:52.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.804-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"96ca966d-9ef7-41ee-bf52-ef2477d63237"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.804-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"96ca966d-9ef7-41ee-bf52-ef2477d63237"}}}}
18:46:52.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.804-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4241f7d5-19a4-45fc-9df6-a85c74cd9fd2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":209902,"W":21}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2},"storage":{},"remote":"127.0.0.1:54203","protocol":"op_msg","durationMillis":1738}}
18:46:52.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.823-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bc739cfe-acd6-471f-86dc-4aa85c7019e8"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-121--7014810649055883179","collectionIdent":"collection-17--7014810649055883179","commitTimestamp":null}}
18:46:52.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.823-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn14","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f3b83b69-ee36-467e-ad2d-0e8db735705a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.823-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn14","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f3b83b69-ee36-467e-ad2d-0e8db735705a"}}}}
18:46:52.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.823-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4498142a-ee30-4b0d-af0a-085320e55e3f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54211","protocol":"op_msg","durationMillis":1747}}
18:46:52.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.836-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5849642c-5788-4edc-9807-7cbf2ed40f81"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-122--7014810649055883179","collectionIdent":"collection-43--7014810649055883179","commitTimestamp":null}}
18:46:52.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.836-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"075c6c4f-049f-495b-8620-93989401a87b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.836-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"075c6c4f-049f-495b-8620-93989401a87b"}}}}
18:46:52.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.836-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c7d81d6c-eb34-41f2-8224-b155b95f04a3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54234","protocol":"op_msg","durationMillis":1731}}
18:46:52.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.848-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-120--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","maxTemporaryMemoryUsageMB":200}}
18:46:52.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.848-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.848-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:52.850 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
18:46:52.852 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.854 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.856 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.856 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.856 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.857-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"2cc498e0-9909-4673-8fbd-5c4557edd600"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-124--7014810649055883179","collectionIdent":"collection-28--7014810649055883179","commitTimestamp":null}}
18:46:52.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.857-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"180ae2f9-c9c8-4af7-89f7-0e0a2e1d5308"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.857-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"180ae2f9-c9c8-4af7-89f7-0e0a2e1d5308"}}}}
18:46:52.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.857-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e5ce368e-db37-4d36-8eb1-44357f7e09fb"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54219","protocol":"op_msg","durationMillis":1769}}
18:46:52.858 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da2f
18:46:52.858 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A1 (6930d9fcee139b7ee1a4da2f)
18:46:52.858 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da2f
18:46:52.858 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.859 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.859 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.860 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da30
18:46:52.860 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A2 (6930d9fcee139b7ee1a4da30)
18:46:52.860 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da30
18:46:52.861 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.861 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.861 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.863 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da31
18:46:52.863 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B1 (6930d9fcee139b7ee1a4da31)
18:46:52.863 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da31
18:46:52.863 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.864 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.864 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.866 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da32
18:46:52.866 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B2 (6930d9fcee139b7ee1a4da32)
18:46:52.866 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da32
18:46:52.871 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
18:46:52.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.872-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"8fe6d6e9-78c4-47b7-ae4e-b82a20adc299"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-125--7014810649055883179","collectionIdent":"collection-36--7014810649055883179","commitTimestamp":null}}
18:46:52.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.872-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d59689ed-1648-4233-aaba-c171fe169ea4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.872-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d59689ed-1648-4233-aaba-c171fe169ea4"}}}}
18:46:52.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.872-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f0d1719e-87d2-412a-bf99-42eb880592a0"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":69793}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54227","protocol":"op_msg","durationMillis":1774}}
18:46:52.873 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.873-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_price_idx","keysInserted":1,"durationMillis":0}}
18:46:52.876 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:52.885 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.885-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"af973eb7-cd3e-4aa3-b8d2-ecd0362ac5ca"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-126--7014810649055883179","collectionIdent":"collection-30--7014810649055883179","commitTimestamp":null}}
18:46:52.885 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.885-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"84f683f0-1d5e-4aa7-bf8f-8db1171d047f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.885 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.885-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"84f683f0-1d5e-4aa7-bf8f-8db1171d047f"}}}}
18:46:52.885 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.885-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1440e39a-d35d-4b3f-9586-8fc9681a8bed"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54223","protocol":"op_msg","durationMillis":1792}}
18:46:52.900 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da2f"}, "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.905 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da2f"}, "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.856Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da2f', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.905 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da30"}, "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.905 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da30"}, "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.858Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da30', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.906 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
18:46:52.906 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:52.908 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da31"}, "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.909 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da31"}, "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.86Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da31', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.909 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da32"}, "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.909 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da32"}, "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.863Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da32', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.913 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:52.915 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
18:46:52.918 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.919-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"77bc4ec6-10be-408d-806a-1927474d580e"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-128--7014810649055883179","collectionIdent":"collection-15--7014810649055883179","commitTimestamp":null}}
18:46:52.919 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.919-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8831d479-68b5-40c3-b11a-253e5bfb17c9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.919 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.919-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8831d479-68b5-40c3-b11a-253e5bfb17c9"}}}}
18:46:52.919 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.919-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1b479301-af9b-4a7f-abf8-55e86f1d3074"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54208","protocol":"op_msg","durationMillis":1845}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","numApplied":9,"totalInserted":4,"totalDeleted":5,"durationMillis":32}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}}}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}},"action":"Single-phase commit"}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-120--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_price_idx"],"numIndexesBefore":3,"numIndexesAfter":4}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a28cb1e6-f178-4eb9-99ed-daaa9d4c4c48"}}}}
18:46:52.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.931-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ed544264-2f13-4834-b697-9b69f75d184f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":144380}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54217","protocol":"op_msg","durationMillis":1847}}
18:46:52.940 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.940-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-130--7014810649055883179","collectionIdent":"collection-39--7014810649055883179","commitTimestamp":null}}
18:46:52.940 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.940-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn34","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bf1e4345-1b26-4f32-8527-9fb36507bc80"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.940 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.940-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn34","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bf1e4345-1b26-4f32-8527-9fb36507bc80"}}}}
18:46:52.940 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.940-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"04c40ddf-cbae-4630-9270-86fde4e004ba"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54231","protocol":"op_msg","durationMillis":1838}}
18:46:52.952 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.952-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","properties":{"v":2,"unique":true,"key":{"customDomain":1},"name":"customDomain","sparse":true},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-127--7014810649055883179","collectionIdent":"collection-32--7014810649055883179","maxTemporaryMemoryUsageMB":200}}
18:46:52.952 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.952-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.952 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.952-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","totalRecords":2,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:52.954 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.956 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.957 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.958 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.957Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.957Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.958 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.959 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da33
18:46:52.959 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (6930d9fcee139b7ee1a4da33)
18:46:52.959 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da33
18:46:52.960 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da33", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
18:46:52.961 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da33"}, "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:52.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.965-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-132--7014810649055883179","collectionIdent":"collection-39--7014810649055883179","commitTimestamp":null}}
18:46:52.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.965-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d66f9be8-308e-4047-90c8-6a5e6c149d2d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.965-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d66f9be8-308e-4047-90c8-6a5e6c149d2d"}}}}
18:46:52.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.965-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ce75fc11-5d0c-437c-afa3-eb53bfe228fd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":8607}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54232","protocol":"op_msg","durationMillis":1862}}
18:46:52.966 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.966-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.tenants","index":"customDomain","keysInserted":0,"durationMillis":0}}
18:46:52.966 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:52.968 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
18:46:52.970 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.972 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.973 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.973 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.973 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:52.974 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da34
18:46:52.974 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (6930d9fcee139b7ee1a4da34)
18:46:52.975 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da34
18:46:52.976 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da34", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
18:46:52.976 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da34"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:52.978 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da34"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.978 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da34"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da34', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.978 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.978-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-133--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:52.978 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.978-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"da23c694-c1fa-42d3-a2a8-b840422d4671"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.978 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.978-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"da23c694-c1fa-42d3-a2a8-b840422d4671"}}}}
18:46:52.978 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.978-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d727ad2f-f545-4499-9569-9fc3468563c6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":52808}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54205","protocol":"op_msg","durationMillis":1911}}
18:46:52.979 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='6930d9fcee139b7ee1a4da34', tenantId='tenant-a-test', name='Product A Updated', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.979 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='6930d9fcee139b7ee1a4da34', tenantId='tenant-a-test', name='Product A Updated', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da34"}, "tenantId" : "tenant-a-test", "name" : "Product A Updated", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.973Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.979Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.979 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:52.981 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da34
18:46:52.981 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A Updated (6930d9fcee139b7ee1a4da34)
18:46:52.982 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da34
18:46:52.982 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da34", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
18:46:52.982 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da34"}, "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:52.987 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:52.988 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
18:46:52.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22260,   "ctx":"TimestampMonitor","msg":"Removing drop-pending idents with drop timestamps before timestamp","attr":{"timestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:52.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-123--7014810649055883179","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:52.990 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.992 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.993-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bea8826e-a099-416b-adb5-99221c780923"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-134--7014810649055883179","collectionIdent":"collection-39--7014810649055883179","commitTimestamp":null}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn33","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b2555ac7-2084-4b75-93be-40a4746a0aa1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn33","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b2555ac7-2084-4b75-93be-40a4746a0aa1"}}}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"060eb50b-5e79-48b6-90df-920a54b8d9b4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":24811}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54230","protocol":"op_msg","durationMillis":1893}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}}}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}},"action":"Single-phase commit"}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-127--7014810649055883179","collectionIdent":"collection-32--7014810649055883179","commitTimestamp":null}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}},"collectionUUID":{"uuid":{"$uuid":"1428c312-a6f5-4ceb-97d3-28896e105e46"}},"namespace":"test-retail-db.tenants","indexesBuilt":["customDomain"],"numIndexesBefore":2,"numIndexesAfter":3}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2ffcfc34-60d1-43e9-bee1-d1fc9457606e"}}}}
18:46:52.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:52.994-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"dcf6e5e7-66d0-4e81-b2ea-45a2be817271"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54225","protocol":"op_msg","durationMillis":1899}}
18:46:52.995 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:52.995 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:52.995 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
18:46:53.006 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.007-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"39ac770e-a079-451a-9ee6-56821820f800"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-135--7014810649055883179","collectionIdent":"collection-9--7014810649055883179","commitTimestamp":null}}
18:46:53.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.007-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8a54cd93-ebc9-4fcc-bc4b-e6301d52835b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:53.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.007-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8a54cd93-ebc9-4fcc-bc4b-e6301d52835b"}}}}
18:46:53.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.007-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0e7b1606-889d-44c4-ab91-4abc258432a7"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":194026}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54206","protocol":"op_msg","durationMillis":1939}}
18:46:53.027 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.028-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-136--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:53.027 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.028-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e3342a2d-b3a0-43d4-b275-41db4bca853e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:53.028 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.028-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e3342a2d-b3a0-43d4-b275-41db4bca853e"}}}}
18:46:53.028 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.028-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"219b11ee-525d-4a97-a06a-19a53bc26869"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":176943}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54212","protocol":"op_msg","durationMillis":1950}}
18:46:53.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.037-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-137--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:53.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.037-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4f7c56ed-03d4-4350-a331-112e3a8e1e77"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:53.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.037-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4f7c56ed-03d4-4350-a331-112e3a8e1e77"}}}}
18:46:53.037 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.037-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cb913de2-5b19-430d-abb3-39018ec131e0"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":53598,"W":34058}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54216","protocol":"op_msg","durationMillis":1954}}
18:46:53.037 DEBUG c.r.d.product.ProductEventListener - Product saved event: 6930d9fcee139b7ee1a4da35
18:46:53.037 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (6930d9fcee139b7ee1a4da35)
18:46:53.038 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 6930d9fcee139b7ee1a4da35
18:46:53.038 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da35", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
18:46:53.040 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-b-test"})
18:46:53.040 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-b-test"} in collection: products.
18:46:53.059 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.060-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-138--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","maxTemporaryMemoryUsageMB":200}}
18:46:53.060 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.060-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:53.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.081-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1},"name":"tenantId"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-140--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","maxTemporaryMemoryUsageMB":200}}
18:46:53.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.081-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:53.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.081-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:53.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.081-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
18:46:53.081 DEBUG c.r.d.product.ProductEventListener - Product deleted event: 6930d9fcee139b7ee1a4da35
18:46:53.081 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: 6930d9fcee139b7ee1a4da35
18:46:53.082 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: 6930d9fcee139b7ee1a4da35
18:46:53.082 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.083-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenantId","keysInserted":1,"durationMillis":0}}
18:46:53.083 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da35", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
18:46:53.083 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:53.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.084-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_category_idx","keysInserted":1,"durationMillis":0}}
18:46:53.085 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:53.085 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:52.994Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='6930d9fcee139b7ee1a4da35', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.086-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}}}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.086-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}},"action":"Single-phase commit"}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.086-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-140--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.086-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","indexesBuilt":["tenantId"],"numIndexesBefore":6,"numIndexesAfter":8}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}}}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}},"action":"Single-phase commit"}}
18:46:53.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e21952e6-107a-4682-abca-b58e693c0dc4"}}}}
18:46:53.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-138--7014810649055883179","collectionIdent":"collection-20--7014810649055883179","commitTimestamp":null}}
18:46:53.087 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da35", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
18:46:53.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"221409f2-0252-4c7a-b84e-6bbf4e3d3d8b"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":319842,"W":9519}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54218","protocol":"op_msg","durationMillis":2001}}
18:46:53.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}},"collectionUUID":{"uuid":{"$uuid":"f660de90-881c-439f-985c-dae49096c36e"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_category_idx"],"numIndexesBefore":6,"numIndexesAfter":8}}
18:46:53.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f5832238-2ad3-43c7-bfba-2fd777de0be2"}}}}
18:46:53.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.087-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8287dd88-6ea3-42f4-a0c3-8cf13148ad1a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":160255,"W":30673}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54214","protocol":"op_msg","durationMillis":2006}}
18:46:53.087 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test"})
18:46:53.087 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test"} in collection: products.
18:46:53.104 DEBUG c.r.d.product.ProductEventListener - Product deleted event: 6930d9fcee139b7ee1a4da35
18:46:53.104 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: 6930d9fcee139b7ee1a4da35
18:46:53.104 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: 6930d9fcee139b7ee1a4da35
18:46:53.105 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "6930d9fcee139b7ee1a4da35", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
18:46:53.105 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "6930d9fcee139b7ee1a4da35"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.748 s -- in com.retail.domain.product.ProductServiceTest
[INFO] Running com.retail.domain.product.ProductServiceUnitTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s -- in com.retail.domain.product.ProductServiceUnitTest
[INFO] Running Product Entity Tests
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s -- in Product Entity Tests
[INFO] Running com.retail.domain.shipping.ShippingRateCalculatorTest
18:46:53.131 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.133 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.133 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.134 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.134 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.134 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
18:46:53.136 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.136 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 90001
18:46:53.137 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.137 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
18:46:53.138 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.138 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.140 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.141 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.141 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
18:46:53.143 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.144 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.144 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
18:46:53.145 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.145 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
18:46:53.146 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 10050
18:46:53.147 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
18:46:53.148 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 s -- in com.retail.domain.shipping.ShippingRateCalculatorTest
[INFO] Running com.retail.domain.tax.TaxCalculationServiceTest
18:46:53.149 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
18:46:53.150 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
18:46:53.152 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, PA
18:46:53.152 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.29 for tenant: test-tenant
18:46:53.153 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.153 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
18:46:53.153 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.153 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 9.97 for tenant: test-tenant
18:46:53.154 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, DE
18:46:53.154 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
18:46:53.154 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, IL
18:46:53.154 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.06 for tenant: test-tenant
18:46:53.155 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, FL
18:46:53.155 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
18:46:53.156 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, OR
18:46:53.156 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
18:46:53.157 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in New York, NY
18:46:53.157 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
18:46:53.161 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.161 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 8.26 for tenant: test-tenant
18:46:53.163 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, WA
18:46:53.163 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.85 for tenant: test-tenant
18:46:53.164 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, TX
18:46:53.164 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
18:46:53.164 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.165 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
18:46:53.165 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 2.47 for tenant: test-tenant
18:46:53.166 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.166 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
18:46:53.167 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
18:46:53.167 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
18:46:53.167 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, XX
18:46:53.167 WARN  c.r.domain.tax.TaxCalculationService - Unknown state: XX, applying zero tax
[ERROR] Tests run: 20, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.019 s <<< FAILURE! -- in com.retail.domain.tax.TaxCalculationServiceTest
[ERROR] com.retail.domain.tax.TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware -- Time elapsed: 0.001 s <<< FAILURE!
java.lang.AssertionError: expectation "expectNext(0)" failed (expected value: 0; actual value: 0.00)
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:512)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSubscribe(DefaultStepVerifierBuilder.java:1161)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.tax.TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware(TaxCalculationServiceTest.java:217)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
18:46:53.169 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest]: OrderRepositoryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:53.185 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
18:46:53.187 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

18:46:53.198 INFO  c.r.i.p.OrderRepositoryIntegrationTest - Starting OrderRepositoryIntegrationTest using Java 25.0.1 with PID 13892 (started by codep in D:\code\retail-agentic\backend)
18:46:53.199 DEBUG c.r.i.p.OrderRepositoryIntegrationTest - Running with Spring Boot v3.2.1, Spring v6.1.2
18:46:53.199 INFO  c.r.i.p.OrderRepositoryIntegrationTest - The following 1 profile is active: "test"
18:46:53.317 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
18:46:53.319 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:53.320 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:53.321 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
18:46:53.323 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
18:46:53.438 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.437-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
18:46:53.438 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.438-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
18:46:53.438 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.439-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
18:46:53.439 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.440-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
18:46:53.439 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.440-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
18:46:53.439 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.440-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
18:46:53.439 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.440-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
18:46:53.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.441-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":12920,"port":54237,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--321959d8-998c-43ca-9326-daf2bfb70007/mongod-database15099423064785659792","architecture":"64-bit","host":"jon-desktop"}}
18:46:53.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.441-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
18:46:53.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.441-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
18:46:53.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.441-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
18:46:53.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.441-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":54237},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--321959d8-998c-43ca-9326-daf2bfb70007\\mongod-database15099423064785659792","journal":{"enabled":false},"syncPeriodSecs":0}}}}
18:46:53.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.443-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
18:46:53.493 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.493-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":50}}
18:46:53.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.494-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:53.526 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.526-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"5ec7570a-84fb-4497-a7d1-2648e1fa54a1"}},"options":{"uuid":{"$uuid":"5ec7570a-84fb-4497-a7d1-2648e1fa54a1"}}}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5ec7570a-84fb-4497-a7d1-2648e1fa54a1"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--3304838837356617339","collectionIdent":"collection-0--3304838837356617339","commitTimestamp":null}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
18:46:53.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.542-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
18:46:53.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.547-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
18:46:53.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.548-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
18:46:53.688 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.689-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--321959d8-998c-43ca-9326-daf2bfb70007/mongod-database15099423064785659792/diagnostic.data"}}
18:46:53.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.690-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1e4a8842-82b3-4f7d-983c-f9729544f216"}},"options":{"capped":true,"size":10485760}}}
18:46:53.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.715-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1e4a8842-82b3-4f7d-983c-f9729544f216"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--3304838837356617339","collectionIdent":"collection-2--3304838837356617339","commitTimestamp":null}}
18:46:53.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.715-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
18:46:53.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.715-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
18:46:53.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.717-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
18:46:53.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.717-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6d502e87-41ae-46e9-8d86-f5b4c86b4939"}},"options":{}}}
18:46:53.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.717-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
18:46:53.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.717-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":54237,"ssl":"off"}}
18:46:53.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.747-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54238","uuid":"f072a543-da9a-472e-b63c-053523cca02e","connectionId":1,"connectionCount":1}}
18:46:53.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.747-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54239","uuid":"4d9ff4b1-8d68-4ce9-9d8b-f219284e4030","connectionId":2,"connectionCount":2}}
18:46:53.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.748-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:54238","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.748-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:54239","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.752-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6d502e87-41ae-46e9-8d86-f5b4c86b4939"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--3304838837356617339","collectionIdent":"collection-4--3304838837356617339","commitTimestamp":null}}
18:46:53.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.752-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6d502e87-41ae-46e9-8d86-f5b4c86b4939"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--3304838837356617339","collectionIdent":"collection-4--3304838837356617339","commitTimestamp":null}}
18:46:53.764 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
18:46:53.765 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
18:46:53.765 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
18:46:53.765 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
18:46:53.766 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
18:46:53.766 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
18:46:53.767 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
18:46:53.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.767-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54240","uuid":"bb5d165a-bfa2-4319-8e3d-59621c0a7474","connectionId":3,"connectionCount":3}}
18:46:53.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.768-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:54240","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.768-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54241","uuid":"48babebd-3c3c-4871-8cdb-8616c74c4ad3","connectionId":4,"connectionCount":4}}
18:46:53.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.769-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6a00a5db-912a-41d1-917c-9f46d01523d4"}},"options":{}}}
18:46:53.768 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.769-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:54241","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
18:46:53.769 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
18:46:53.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.770-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d685c9cf-ee88-41e6-a547-84b474b1bdeb"}},"options":{}}}
18:46:53.770 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
18:46:53.770 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
18:46:53.770 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
18:46:53.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.770-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54242","uuid":"7d95e4f7-fd57-4280-a78d-99564dc9b04a","connectionId":5,"connectionCount":5}}
18:46:53.770 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
18:46:53.770 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.771-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54243","uuid":"c939cdc5-e85d-47e9-8d77-9bc1f44b7a84","connectionId":6,"connectionCount":6}}
18:46:53.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.771-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:54242","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.771-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:54243","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.771 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.772-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"options":{}}}
18:46:53.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.772-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c034b683-b7f6-4e4a-82db-91b40b2d17c4"}},"options":{}}}
18:46:53.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.773-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54244","uuid":"98e44069-dfe0-4f8c-a6d9-e7ec1d3d5fb3","connectionId":7,"connectionCount":7}}
18:46:53.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.773-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:54244","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.774-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54245","uuid":"9d40aff3-8d5d-4688-9f90-e9ea685dc930","connectionId":8,"connectionCount":8}}
18:46:53.774 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
18:46:53.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.774-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1546903b-0bba-4052-9373-f55327715346"}},"options":{}}}
18:46:53.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.774-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:54245","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.774 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.775-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54246","uuid":"cebe5230-91e9-4349-9694-abf48d618a73","connectionId":9,"connectionCount":9}}
18:46:53.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.775-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:54246","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.775 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.775-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}},"options":{}}}
18:46:53.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.776-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54247","uuid":"d9d442de-83a9-42ae-90ce-4ab6cc7472bf","connectionId":10,"connectionCount":10}}
18:46:53.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.776-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a75ad565-20b9-4096-9a9c-f6fcdc773b42"}},"options":{}}}
18:46:53.776 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
18:46:53.776 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
18:46:53.776 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
18:46:53.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.776-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54248","uuid":"2e5de693-353e-4acd-8263-fd0734632cd0","connectionId":11,"connectionCount":11}}
18:46:53.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.777-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:54248","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.777-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:54247","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.778-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"options":{}}}
18:46:53.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.778-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ac533efb-3151-4f4a-9bda-d07ef149c313"}},"options":{}}}
18:46:53.778 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
18:46:53.778 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
18:46:53.778 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
18:46:53.778 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
18:46:53.778 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.779-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54249","uuid":"caa23ccb-f583-4de9-948c-91d116cc0a23","connectionId":12,"connectionCount":12}}
18:46:53.778 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.779-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54250","uuid":"b6fb6770-c5b3-4552-800f-03c7f60fc216","connectionId":13,"connectionCount":13}}
18:46:53.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.779-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:54249","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.779-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:54250","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.779 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
18:46:53.779 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
18:46:53.779 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
18:46:53.780 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.780-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ffc8be6d-2ae0-4eed-81b7-1b51d4dd9ee8"}},"options":{}}}
18:46:53.780 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.780-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d195eac5-a82c-41e7-876f-a4531dd67801"}},"options":{}}}
18:46:53.780 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.781-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54251","uuid":"8ad01f89-a0cd-463f-b8bf-f911dd44b244","connectionId":14,"connectionCount":14}}
18:46:53.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.781-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54252","uuid":"5a8f5c58-053b-4f05-8c3c-88b719d163e3","connectionId":15,"connectionCount":15}}
18:46:53.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.781-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:54251","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.782-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:54252","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.782 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.782-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"007d0492-d375-4d34-a1fd-dfdad1e5183f"}},"options":{}}}
18:46:53.782 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.782-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1b0611d9-aa41-430b-8f6e-d473b0aefc23"}},"options":{}}}
18:46:53.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.784-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54253","uuid":"1e2df66b-7055-4552-8863-f5a4cc5da07b","connectionId":16,"connectionCount":16}}
18:46:53.784 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.784-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:54253","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.786-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54254","uuid":"dd12ef4f-41f0-4215-b0b7-1e59158d60f1","connectionId":17,"connectionCount":17}}
18:46:53.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.786-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"69b72891-e6f2-4976-b569-910604afc0b2"}},"options":{}}}
18:46:53.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.786-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54255","uuid":"57bd0f54-55e3-4a00-9abc-2beaf84e00a6","connectionId":18,"connectionCount":18}}
18:46:53.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.787-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:54255","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.787-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:54254","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.788 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.788-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"40c5cd61-a801-495d-a055-bb0107993588"}},"options":{}}}
18:46:53.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.789-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54256","uuid":"b40eec9e-83c2-40aa-a41e-642cb822d845","connectionId":19,"connectionCount":19}}
18:46:53.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.789-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"options":{}}}
18:46:53.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.789-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54257","uuid":"b936ed7b-0b71-4127-9c7f-f558254fd27c","connectionId":20,"connectionCount":20}}
18:46:53.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.790-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:54257","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.790-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:54256","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.791-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4149c8d7-c2ec-487f-abc5-4eca3a8d13f7"}},"options":{}}}
18:46:53.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.791-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ec718b29-369e-4ed1-8d2a-54e6fbda2f72"}},"options":{}}}
18:46:53.792 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.792-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54259","uuid":"bb15fd65-bc5f-474c-a612-68595cc962d0","connectionId":21,"connectionCount":21}}
18:46:53.792 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.792-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54258","uuid":"8b95ba65-8770-4538-bd2d-471887f92017","connectionId":22,"connectionCount":22}}
18:46:53.792 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.793-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:54259","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.792 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.793-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:54258","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.794-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}},"options":{}}}
18:46:53.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.794-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1c541b1a-79ff-4d71-a7b4-0f12d0c77220"}},"options":{}}}
18:46:53.794 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.794-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54260","uuid":"cd2fedb9-6e8c-4992-bf2d-af01435e6b20","connectionId":23,"connectionCount":23}}
18:46:53.794 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.794-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54261","uuid":"5e37dfce-91c8-4aad-a00b-ac6663d89afa","connectionId":24,"connectionCount":24}}
18:46:53.794 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.794-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:54260","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.794 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.795-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:54261","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.795 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.796-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}},"options":{}}}
18:46:53.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.796-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1ce4db08-7b67-462f-b78d-cf96a32dc7fb"}},"options":{}}}
18:46:53.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.797-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54262","uuid":"95089637-de7f-46a1-a157-f0530deccecc","connectionId":25,"connectionCount":25}}
18:46:53.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.797-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:54262","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.798-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54263","uuid":"3f39335e-558f-4c92-8020-1f0a92e99421","connectionId":26,"connectionCount":26}}
18:46:53.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.798-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:54263","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.798-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}},"options":{}}}
18:46:53.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.799-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"09c68ae6-5eae-4a8e-bbef-9644e2990b6a"}},"options":{}}}
18:46:53.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.800-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54264","uuid":"2cf32551-cfdd-46ea-94df-e1356b8279dc","connectionId":27,"connectionCount":27}}
18:46:53.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.801-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54265","uuid":"bb78b639-5280-4474-9ade-0211b6f6b071","connectionId":28,"connectionCount":28}}
18:46:53.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.802-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:54265","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.802-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:54264","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.803-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"options":{}}}
18:46:53.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.803-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b6b7db71-127d-45a0-a91b-3243831e3ee7"}},"options":{}}}
18:46:53.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.804-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54266","uuid":"6f034f28-ed64-4e77-9294-f212e9d5f303","connectionId":29,"connectionCount":29}}
18:46:53.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.804-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54267","uuid":"c56a926b-b352-46e3-948e-d18da1dc371d","connectionId":30,"connectionCount":30}}
18:46:53.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.804-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:54266","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.805-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:54267","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.805-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ce8005d9-b1f3-44a7-89fe-8b3f67a1d7aa"}},"options":{}}}
18:46:53.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.806-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c05b8f1d-6153-498e-b45d-e11a9cd87bc6"}},"options":{}}}
18:46:53.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.806-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54268","uuid":"f5b1ab28-f7f1-43bd-8d22-1373c612980f","connectionId":31,"connectionCount":31}}
18:46:53.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.806-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54269","uuid":"89371323-0dc9-481d-a833-7fbea37d0d8f","connectionId":32,"connectionCount":32}}
18:46:53.807 WARN  o.s.c.a.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryRepository' defined in com.retail.infrastructure.persistence.CategoryRepository defined in @EnableReactiveMongoRepositories declared on MongoReactiveRepositoriesRegistrar.EnableReactiveMongoRepositoriesConfiguration: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
18:46:53.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.807-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:54268","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.808-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:54269","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
18:46:53.808 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.809-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:54239","uuid":"4d9ff4b1-8d68-4ce9-9d8b-f219284e4030","connectionId":2,"connectionCount":31}}
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.data.mongodb.UncategorizedMongoDbException: state should be: server session pool is open
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveAsync(InternalStreamConnection.java:515)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceiveAsync(UsageTrackingInternalConnection.java:157)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceiveAsync(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.CommandProtocolImpl.executeAsync(CommandProtocolImpl.java:83)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.executeAsync(DefaultServer.java:232)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocolAsync(DefaultServerConnection.java:122)
	at com.mongodb.internal.connection.DefaultServerConnection.commandAsync(DefaultServerConnection.java:102)
	at com.mongodb.internal.connection.DefaultServerConnection.commandAsync(DefaultServerConnection.java:93)
	at com.mongodb.internal.connection.DefaultServer$AsyncOperationCountTrackingConnection.commandAsync(DefaultServer.java:361)
	at com.mongodb.internal.operation.AsyncOperationHelper.executeCommandAsync(AsyncOperationHelper.java:207)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$2(CreateIndexesOperation.java:149)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$withAsyncConnectionSourceCallableConnection$4(AsyncOperationHelper.java:146)
	at com.mongodb.internal.connection.DefaultServer.lambda$getConnectionAsync$0(DefaultServer.java:130)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultConnectionPool.lambda$getAsync$0(DefaultConnectionPool.java:222)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.lambda$openAsyncWithConcurrencyLimit$0(DefaultConnectionPool.java:1038)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$openAsync$0(DefaultConnectionPool.java:665)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$openAsync$0(UsageTrackingInternalConnection.java:74)
	at com.mongodb.internal.connection.InternalStreamConnection$1.lambda$completed$0(InternalStreamConnection.java:252)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.completeConnectionDescriptionInitializationAsync(InternalStreamConnectionInitializer.java:223)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshakeAsync(InternalStreamConnectionInitializer.java:111)
	at com.mongodb.internal.connection.InternalStreamConnection$1.lambda$completed$1(InternalStreamConnection.java:244)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.lambda$startHandshakeAsync$0(InternalStreamConnectionInitializer.java:100)
	at com.mongodb.internal.connection.CommandHelper.lambda$executeCommandAsync$0(CommandHelper.java:77)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:849)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:812)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:276)
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:668)
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:98)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:802)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:435)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:432)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoException: state should be: server session pool is open
	at com.mongodb.MongoException.fromThrowableNonNull(MongoException.java:84)
	at com.mongodb.MongoException.fromThrowable(MongoException.java:69)
	at com.mongodb.internal.operation.CreateIndexesOperation.translateException(CreateIndexesOperation.java:250)
	... 69 common frames omitted
Caused by: java.lang.IllegalStateException: state should be: server session pool is open
	at com.mongodb.assertions.Assertions.isTrue(Assertions.java:109)
	at com.mongodb.internal.session.ServerSessionPool.get(ServerSessionPool.java:79)
	at com.mongodb.internal.session.BaseClientSessionImpl.getServerSession(BaseClientSessionImpl.java:127)
	at com.mongodb.internal.session.ClientSessionContext.getSessionId(ClientSessionContext.java:48)
	at com.mongodb.internal.connection.ClusterClockAdvancingSessionContext.getSessionId(ClusterClockAdvancingSessionContext.java:50)
	at com.mongodb.internal.connection.CommandMessage.getExtraElements(CommandMessage.java:230)
	at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:155)
	at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:136)
	at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:59)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveAsync(InternalStreamConnection.java:492)
	... 58 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.data.mongodb.UncategorizedMongoDbException: state should be: server session pool is open
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveAsync(InternalStreamConnection.java:515)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceiveAsync(UsageTrackingInternalConnection.java:157)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceiveAsync(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.CommandProtocolImpl.executeAsync(CommandProtocolImpl.java:83)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.executeAsync(DefaultServer.java:232)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocolAsync(DefaultServerConnection.java:122)
	at com.mongodb.internal.connection.DefaultServerConnection.commandAsync(DefaultServerConnection.java:102)
	at com.mongodb.internal.connection.DefaultServerConnection.commandAsync(DefaultServerConnection.java:93)
	at com.mongodb.internal.connection.DefaultServer$AsyncOperationCountTrackingConnection.commandAsync(DefaultServer.java:361)
	at com.mongodb.internal.operation.AsyncOperationHelper.executeCommandAsync(AsyncOperationHelper.java:207)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$2(CreateIndexesOperation.java:149)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$withAsyncConnectionSourceCallableConnection$4(AsyncOperationHelper.java:146)
	at com.mongodb.internal.connection.DefaultServer.lambda$getConnectionAsync$0(DefaultServer.java:130)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultConnectionPool.lambda$getAsync$0(DefaultConnectionPool.java:222)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.lambda$openAsyncWithConcurrencyLimit$0(DefaultConnectionPool.java:1038)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$openAsync$0(DefaultConnectionPool.java:665)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$openAsync$0(UsageTrackingInternalConnection.java:74)
	at com.mongodb.internal.connection.InternalStreamConnection$1.lambda$completed$0(InternalStreamConnection.java:252)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.completeConnectionDescriptionInitializationAsync(InternalStreamConnectionInitializer.java:223)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshakeAsync(InternalStreamConnectionInitializer.java:111)
	at com.mongodb.internal.connection.InternalStreamConnection$1.lambda$completed$1(InternalStreamConnection.java:244)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.lambda$startHandshakeAsync$0(InternalStreamConnectionInitializer.java:100)
	at com.mongodb.internal.connection.CommandHelper.lambda$executeCommandAsync$0(CommandHelper.java:77)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:849)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:812)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:276)
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:668)
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:98)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:802)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:435)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:432)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoException: state should be: server session pool is open
	at com.mongodb.MongoException.fromThrowableNonNull(MongoException.java:84)
	at com.mongodb.MongoException.fromThrowable(MongoException.java:69)
	at com.mongodb.internal.operation.CreateIndexesOperation.translateException(CreateIndexesOperation.java:250)
	... 69 common frames omitted
Caused by: java.lang.IllegalStateException: state should be: server session pool is open
	at com.mongodb.assertions.Assertions.isTrue(Assertions.java:109)
	at com.mongodb.internal.session.ServerSessionPool.get(ServerSessionPool.java:79)
	at com.mongodb.internal.session.BaseClientSessionImpl.getServerSession(BaseClientSessionImpl.java:127)
	at com.mongodb.internal.session.ClientSessionContext.getSessionId(ClientSessionContext.java:48)
	at com.mongodb.internal.connection.ClusterClockAdvancingSessionContext.getSessionId(ClusterClockAdvancingSessionContext.java:50)
	at com.mongodb.internal.connection.CommandMessage.getExtraElements(CommandMessage.java:230)
	at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:155)
	at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:136)
	at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:59)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveAsync(InternalStreamConnection.java:492)
	... 58 common frames omitted
18:46:53.810 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.data.mongodb.UncategorizedMongoDbException: The server at 127.0.0.1:54237 is no longer available
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$2(CreateIndexesOperation.java:145)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$withAsyncConnectionSourceCallableConnection$4(AsyncOperationHelper.java:144)
	at com.mongodb.internal.connection.DefaultServer.lambda$getConnectionAsync$0(DefaultServer.java:127)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultConnectionPool.lambda$getAsync$0(DefaultConnectionPool.java:224)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openAsyncWithConcurrencyLimit(DefaultConnectionPool.java:1026)
	at com.mongodb.internal.connection.DefaultConnectionPool.lambda$getAsync$1(DefaultConnectionPool.java:247)
	at com.mongodb.internal.connection.DefaultConnectionPool$Task.doComplete(DefaultConnectionPool.java:1445)
	at com.mongodb.internal.connection.DefaultConnectionPool$Task.execute(DefaultConnectionPool.java:1431)
	at com.mongodb.internal.connection.DefaultConnectionPool$AsyncWorkManager.workerRun(DefaultConnectionPool.java:1375)
	at com.mongodb.internal.connection.DefaultConnectionPool$AsyncWorkManager.runAndLogUncaught(DefaultConnectionPool.java:1402)
	at com.mongodb.internal.connection.DefaultConnectionPool$AsyncWorkManager.lambda$initUnlessClosed$1(DefaultConnectionPool.java:1343)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:545)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoServerUnavailableException: The server at 127.0.0.1:54237 is no longer available
	at com.mongodb.internal.connection.ConcurrentPool.poolClosedException(ConcurrentPool.java:302)
	at com.mongodb.internal.connection.DefaultConnectionPool$StateAndGeneration.throwIfClosedOrPaused(DefaultConnectionPool.java:1607)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.acquirePermitOrGetAvailableOpenedConnection(DefaultConnectionPool.java:1082)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openAsyncWithConcurrencyLimit(DefaultConnectionPool.java:1023)
	... 11 common frames omitted
	Suppressed: com.mongodb.MongoInterruptedException: Interrupted waiting for lock
		at com.mongodb.internal.thread.InterruptionUtil.interruptAndCreateMongoInterruptedException(InterruptionUtil.java:41)
		at com.mongodb.internal.Locks.lockInterruptibly(Locks.java:76)
		at com.mongodb.internal.Locks.checkedWithInterruptibleLock(Locks.java:64)
		at com.mongodb.internal.Locks.withInterruptibleLock(Locks.java:59)
		at com.mongodb.internal.Locks.withInterruptibleLock(Locks.java:52)
		at com.mongodb.internal.connection.BaseCluster.withLock(BaseCluster.java:226)
		at com.mongodb.internal.connection.SingleServerCluster.withLock(SingleServerCluster.java:46)
		at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.handleExceptionBeforeHandshake(DefaultSdamServerDescriptionManager.java:87)
		at com.mongodb.internal.connection.DefaultServer.lambda$getConnectionAsync$0(DefaultServer.java:123)
		at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
		at com.mongodb.internal.connection.DefaultConnectionPool.lambda$getAsync$0(DefaultConnectionPool.java:224)
		at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openAsyncWithConcurrencyLimit(DefaultConnectionPool.java:1026)
		... 11 common frames omitted
	Caused by: java.lang.InterruptedException: null
		at java.base/java.util.concurrent.locks.ReentrantLock$Sync.lockInterruptibly(ReentrantLock.java:160)
		at java.base/java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:373)
		at com.mongodb.internal.Locks.lockInterruptibly(Locks.java:74)
		... 21 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.812-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:54268","uuid":"f5b1ab28-f7f1-43bd-8d22-1373c612980f","connectionId":31,"connectionCount":30}}
18:46:53.812 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.811 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
18:46:53.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.812-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:54269","uuid":"89371323-0dc9-481d-a833-7fbea37d0d8f","connectionId":32,"connectionCount":29}}
18:46:53.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.990-06:00"},"s":"I",  "c":"STORAGE",  "id":22260,   "ctx":"TimestampMonitor","msg":"Removing drop-pending idents with drop timestamps before timestamp","attr":{"timestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:53.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.990-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-131--7014810649055883179","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:53.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:53.993-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-129--7014810649055883179","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:54.004 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.004-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-141--7014810649055883179","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:54.028 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.028-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-139--7014810649055883179","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
18:46:54.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.157-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a00a5db-912a-41d1-917c-9f46d01523d4"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-18--3304838837356617339","collectionIdent":"collection-7--3304838837356617339","commitTimestamp":null}}
18:46:54.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.157-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a00a5db-912a-41d1-917c-9f46d01523d4"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-46--3304838837356617339","collectionIdent":"collection-7--3304838837356617339","commitTimestamp":null}}
18:46:54.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.158-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4b75b97d-ac8f-4bcd-9897-d7bbb270bd06"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:54240","protocol":"op_msg","durationMillis":389}}
18:46:54.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.158-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:54240","uuid":"bb5d165a-bfa2-4319-8e3d-59621c0a7474","connectionId":3,"connectionCount":28}}
18:46:54.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.275-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
18:46:54.372 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.372-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-37--3304838837356617339","collectionIdent":"collection-9--3304838837356617339","commitTimestamp":null}}
18:46:54.372 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.372-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-65--3304838837356617339","collectionIdent":"collection-9--3304838837356617339","commitTimestamp":null}}
18:46:54.372 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.373-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6c8088e9-9304-46d3-be41-6e1e1f88d9da"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54242","protocol":"op_msg","durationMillis":600}}
18:46:54.372 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.373-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:54242","uuid":"7d95e4f7-fd57-4280-a78d-99564dc9b04a","connectionId":5,"connectionCount":27}}
18:46:54.381 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.382-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:54.390 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.390-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
18:46:54.398 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.399-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-40--3304838837356617339","collectionIdent":"collection-12--3304838837356617339","commitTimestamp":null}}
18:46:54.398 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.399-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-68--3304838837356617339","collectionIdent":"collection-12--3304838837356617339","commitTimestamp":null}}
18:46:54.399 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.399-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"93ae002b-6f6d-4fa7-b993-c10fd3940c5b"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54246","protocol":"op_msg","durationMillis":623}}
18:46:54.399 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.399-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:54246","uuid":"cebe5230-91e9-4349-9694-abf48d618a73","connectionId":9,"connectionCount":26}}
18:46:54.408 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.408-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
18:46:54.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.418-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-42--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:54.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.418-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-70--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:54.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.418-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0a320f9b-00ea-43cb-9205-316adf3f34bd"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54248","protocol":"op_msg","durationMillis":640}}
18:46:54.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.419-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:54248","uuid":"2e5de693-353e-4acd-8263-fd0734632cd0","connectionId":11,"connectionCount":25}}
18:46:54.428 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.429-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn10","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.438 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.438-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.447 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.448-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.456 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.457-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.465 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.466-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.475 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.476-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
18:46:54.484 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.485-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40c5cd61-a801-495d-a055-bb0107993588"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-50--3304838837356617339","collectionIdent":"collection-22--3304838837356617339","commitTimestamp":null}}
18:46:54.484 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.485-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40c5cd61-a801-495d-a055-bb0107993588"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-77--3304838837356617339","collectionIdent":"collection-22--3304838837356617339","commitTimestamp":null}}
18:46:54.484 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.485-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"63bc0174-8e71-4ae8-98fa-ffdf92947ad1"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54254","protocol":"op_msg","durationMillis":696}}
18:46:54.484 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.485-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:54254","uuid":"dd12ef4f-41f0-4215-b0b7-1e59158d60f1","connectionId":17,"connectionCount":24}}
18:46:54.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.494-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-51--3304838837356617339","collectionIdent":"collection-23--3304838837356617339","commitTimestamp":null}}
18:46:54.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.494-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-78--3304838837356617339","collectionIdent":"collection-23--3304838837356617339","commitTimestamp":null}}
18:46:54.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.494-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"613155f3-1609-4d5f-9bc2-71e634cf4e14"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54255","protocol":"op_msg","durationMillis":705}}
18:46:54.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.494-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:54255","uuid":"57bd0f54-55e3-4a00-9abc-2beaf84e00a6","connectionId":18,"connectionCount":23}}
18:46:54.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.503-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:54.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.512-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
18:46:54.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.521-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-54--3304838837356617339","collectionIdent":"collection-26--3304838837356617339","commitTimestamp":null}}
18:46:54.521 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.521-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-81--3304838837356617339","collectionIdent":"collection-26--3304838837356617339","commitTimestamp":null}}
18:46:54.521 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.521-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f92f9b06-e8c7-41a3-8bee-2d31757b2be3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54258","protocol":"op_msg","durationMillis":726}}
18:46:54.521 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.521-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:54258","uuid":"8b95ba65-8770-4538-bd2d-471887f92017","connectionId":22,"connectionCount":22}}
18:46:54.529 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.529-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
18:46:54.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.548-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-57--3304838837356617339","collectionIdent":"collection-29--3304838837356617339","commitTimestamp":null}}
18:46:54.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.548-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-83--3304838837356617339","collectionIdent":"collection-29--3304838837356617339","commitTimestamp":null}}
18:46:54.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.548-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d52f4318-51c5-454b-b47d-481eca20f1da"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54261","protocol":"op_msg","durationMillis":752}}
18:46:54.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.548-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:54261","uuid":"5e37dfce-91c8-4aad-a00b-ac6663d89afa","connectionId":24,"connectionCount":21}}
18:46:54.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.559-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
18:46:54.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.567-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-59--3304838837356617339","collectionIdent":"collection-31--3304838837356617339","commitTimestamp":null}}
18:46:54.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.568-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-85--3304838837356617339","collectionIdent":"collection-31--3304838837356617339","commitTimestamp":null}}
18:46:54.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.568-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3e96ffd2-8c9d-4a66-bd90-dbbe3f5956a4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54262","protocol":"op_msg","durationMillis":769}}
18:46:54.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.568-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:54262","uuid":"95089637-de7f-46a1-a157-f0530deccecc","connectionId":25,"connectionCount":20}}
18:46:54.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.577-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn26","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
18:46:54.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.586-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-61--3304838837356617339","collectionIdent":"collection-33--3304838837356617339","commitTimestamp":null}}
18:46:54.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.586-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-87--3304838837356617339","collectionIdent":"collection-33--3304838837356617339","commitTimestamp":null}}
18:46:54.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.586-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e42219fb-e4b1-41eb-bc35-5987a887946f"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:54264","protocol":"op_msg","durationMillis":783}}
18:46:54.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.587-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:54264","uuid":"2cf32551-cfdd-46ea-94df-e1356b8279dc","connectionId":27,"connectionCount":19}}
18:46:54.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.598-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:54.608 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.608-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:54.619 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.619-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
18:46:54.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.850-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn1","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
18:46:54.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.850-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":12}}
18:46:54.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.850-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:54238","uuid":"f072a543-da9a-472e-b63c-053523cca02e","connectionId":1,"connectionCount":18}}
18:46:54.916 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.916-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"90fd5679-9913-42a5-b83f-f5d0d2f0e79d"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"6a00a5db-912a-41d1-917c-9f46d01523d4"}},"indexes":1,"firstIndex":{"name":"tenant_email_idx"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:54.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.965-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6940e392-29ff-4350-84b8-680a5a0c48b4"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:54.986 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:54.987-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn10","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"99750eaa-101e-41da-b76b-54ae184239e3"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenant_sku_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:55.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.000-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3d76bd8b-849b-4d61-b870-e8087e7de9c4"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}},"indexes":1,"firstIndex":{"name":"session_tenant_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.000-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn8","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"3d76bd8b-849b-4d61-b870-e8087e7de9c4"}},"collectionUUID":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}}}}
18:46:55.057 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.058-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b12f42a2-bb6d-418c-96bf-4980e37b92ff"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.058-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"b12f42a2-bb6d-418c-96bf-4980e37b92ff"}},"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}}}}
18:46:55.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.068-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d76f85cf-0fb1-4ad2-8b12-6897ead98d15"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.068 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.068-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"d76f85cf-0fb1-4ad2-8b12-6897ead98d15"}},"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}}}}
18:46:55.077 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.077-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ef4d345e-f778-4328-a7f8-608927dbc29e"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.077 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.078-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"ef4d345e-f778-4328-a7f8-608927dbc29e"}},"collectionUUID":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}}}}
18:46:55.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.086-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a00a5db-912a-41d1-917c-9f46d01523d4"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-91--3304838837356617339","collectionIdent":"collection-7--3304838837356617339","commitTimestamp":null}}
18:46:55.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.086-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"90fd5679-9913-42a5-b83f-f5d0d2f0e79d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.086-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"90fd5679-9913-42a5-b83f-f5d0d2f0e79d"}}}}
18:46:55.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.086-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"23300860-3f4e-4a93-bb41-384a6fbeea25"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54241","protocol":"op_msg","durationMillis":1316}}
18:46:55.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.086-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:54241","uuid":"48babebd-3c3c-4871-8cdb-8616c74c4ad3","connectionId":4,"connectionCount":17}}
18:46:55.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.095-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a38da556-556d-4b62-ac0d-cef23c1f56cf"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}},"indexes":1,"firstIndex":{"name":"tenant_name_idx"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
18:46:55.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.095-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"a38da556-556d-4b62-ac0d-cef23c1f56cf"}},"collectionUUID":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}}}}
18:46:55.103 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.103-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn26","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4e3b1f0a-4c24-4a6e-9883-f02839134857"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.103 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.103-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn26","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"4e3b1f0a-4c24-4a6e-9883-f02839134857"}},"collectionUUID":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}}}}
18:46:55.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.112-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"197af12c-a83b-4a9b-847d-de66ccb62cae"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.111 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.112-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"197af12c-a83b-4a9b-847d-de66ccb62cae"}},"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}}}}
18:46:55.120 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.120-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"765a8836-ba92-4f93-8592-007a00d88b5f"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.120 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.120-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"765a8836-ba92-4f93-8592-007a00d88b5f"}},"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}}}}
18:46:55.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.129-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0c640220-7426-4c59-9eb6-f39e648e67b6"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.129-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"0c640220-7426-4c59-9eb6-f39e648e67b6"}},"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}}}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.137-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-92--3304838837356617339","collectionIdent":"collection-9--3304838837356617339","commitTimestamp":null}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.137-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6940e392-29ff-4350-84b8-680a5a0c48b4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.137-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6940e392-29ff-4350-84b8-680a5a0c48b4"}}}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.138-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2d5f8180-1ce3-47f7-918d-c519be8278d9"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.138-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7dda7317-f49d-4be8-ba33-00762c09956c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":11924}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54243","protocol":"op_msg","durationMillis":1365}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.138-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn7","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"2d5f8180-1ce3-47f7-918d-c519be8278d9"}},"collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}}}}
18:46:55.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.138-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:54243","uuid":"c939cdc5-e85d-47e9-8d77-9bc1f44b7a84","connectionId":6,"connectionCount":16}}
18:46:55.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-93--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn10","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"99750eaa-101e-41da-b76b-54ae184239e3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn10","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"99750eaa-101e-41da-b76b-54ae184239e3"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn14","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"19a94733-98ad-4a87-af51-2c01851a847d"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6215a25c-39be-43af-a30e-5eb7018b14e6"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn14","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"19a94733-98ad-4a87-af51-2c01851a847d"}},"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8b5c0592-591d-4c83-bb9f-18807df7764b"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4bc7153c-9277-4024-a862-0a6d756eb01c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":60849}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54247","protocol":"op_msg","durationMillis":1368}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn12","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6215a25c-39be-43af-a30e-5eb7018b14e6"}},"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn16","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"079f8492-04e5-4e0a-9f88-e5fdcadec22f"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:54247","uuid":"d9d442de-83a9-42ae-90ce-4ab6cc7472bf","connectionId":10,"connectionCount":15}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"8b5c0592-591d-4c83-bb9f-18807df7764b"}},"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6aec3c20-0c49-41e1-a83e-774ddc311da3"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.146-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn16","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"079f8492-04e5-4e0a-9f88-e5fdcadec22f"}},"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}}}}
18:46:55.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.147-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6aec3c20-0c49-41e1-a83e-774ddc311da3"}},"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}}}}
18:46:55.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.155-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"433ea46e-0cf3-435b-9194-916f82419475"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-94--3304838837356617339","collectionIdent":"collection-12--3304838837356617339","commitTimestamp":null}}
18:46:55.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.155-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3d76bd8b-849b-4d61-b870-e8087e7de9c4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.155-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3d76bd8b-849b-4d61-b870-e8087e7de9c4"}}}}
18:46:55.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.155-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e10db951-2891-47be-a2e8-a32303696215"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":6},"storage":{},"remote":"127.0.0.1:54245","protocol":"op_msg","durationMillis":1378}}
18:46:55.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.155-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:54245","uuid":"9d40aff3-8d5d-4688-9f90-e9ea685dc930","connectionId":8,"connectionCount":14}}
18:46:55.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.163-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-95--3304838837356617339","collectionIdent":"collection-23--3304838837356617339","commitTimestamp":null}}
18:46:55.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.163-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b12f42a2-bb6d-418c-96bf-4980e37b92ff"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.163-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b12f42a2-bb6d-418c-96bf-4980e37b92ff"}}}}
18:46:55.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.163-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f62fddf3-0a9b-4dcc-8868-8dfce3dad3b6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54256","protocol":"op_msg","durationMillis":1372}}
18:46:55.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.163-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:54256","uuid":"b40eec9e-83c2-40aa-a41e-642cb822d845","connectionId":19,"connectionCount":13}}
18:46:55.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.186-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4c30a421-414a-46e6-9623-1ad471a56916"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-96--3304838837356617339","collectionIdent":"collection-26--3304838837356617339","commitTimestamp":null}}
18:46:55.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.187-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ef4d345e-f778-4328-a7f8-608927dbc29e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.187-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ef4d345e-f778-4328-a7f8-608927dbc29e"}}}}
18:46:55.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.187-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0b795e9a-5bf1-41ac-b6fe-f3af0ad40699"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54259","protocol":"op_msg","durationMillis":1393}}
18:46:55.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.187-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:54259","uuid":"bb15fd65-bc5f-474c-a612-68595cc962d0","connectionId":21,"connectionCount":12}}
18:46:55.201 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.202-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8bdc562-0d4c-452c-bd77-a32087e6e147"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-97--3304838837356617339","collectionIdent":"collection-23--3304838837356617339","commitTimestamp":null}}
18:46:55.201 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.202-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d76f85cf-0fb1-4ad2-8b12-6897ead98d15"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.201 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.202-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d76f85cf-0fb1-4ad2-8b12-6897ead98d15"}}}}
18:46:55.201 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.202-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2267fcb1-9b0d-484d-85b4-91f87f0186b7"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":17027}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54257","protocol":"op_msg","durationMillis":1411}}
18:46:55.201 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.202-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:54257","uuid":"b936ed7b-0b71-4127-9c7f-f558254fd27c","connectionId":20,"connectionCount":11}}
18:46:55.218 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.218-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"59aacb42-7c75-4e95-a6b3-6adef227e61f"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-98--3304838837356617339","collectionIdent":"collection-29--3304838837356617339","commitTimestamp":null}}
18:46:55.218 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.218-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a38da556-556d-4b62-ac0d-cef23c1f56cf"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.218 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.218-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a38da556-556d-4b62-ac0d-cef23c1f56cf"}}}}
18:46:55.218 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.218-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0f2f1ad6-9dfc-466d-8275-85b99c4cd6f3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54260","protocol":"op_msg","durationMillis":1421}}
18:46:55.218 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.218-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:54260","uuid":"cd2fedb9-6e8c-4992-bf2d-af01435e6b20","connectionId":23,"connectionCount":10}}
18:46:55.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.231-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a8c0f1f3-d449-4508-92d5-8af8bd5ee462"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-99--3304838837356617339","collectionIdent":"collection-31--3304838837356617339","commitTimestamp":null}}
18:46:55.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.231-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn26","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4e3b1f0a-4c24-4a6e-9883-f02839134857"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.231-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn26","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4e3b1f0a-4c24-4a6e-9883-f02839134857"}}}}
18:46:55.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.231-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b3746e1c-b500-4c41-a7cf-66da9abacd02"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:54263","protocol":"op_msg","durationMillis":1431}}
18:46:55.231 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.231-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:54263","uuid":"3f39335e-558f-4c92-8020-1f0a92e99421","connectionId":26,"connectionCount":9}}
18:46:55.242 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.242-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-100--3304838837356617339","collectionIdent":"collection-33--3304838837356617339","commitTimestamp":null}}
18:46:55.242 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.242-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"197af12c-a83b-4a9b-847d-de66ccb62cae"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.242 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.242-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"197af12c-a83b-4a9b-847d-de66ccb62cae"}}}}
18:46:55.242 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.242-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f8d6f696-db2f-4624-a772-735c43865fdf"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54265","protocol":"op_msg","durationMillis":1439}}
18:46:55.242 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.242-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:54265","uuid":"bb78b639-5280-4474-9ade-0211b6f6b071","connectionId":28,"connectionCount":8}}
18:46:55.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.250-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e6e205b3-0e75-455f-bbae-b68b4e6bda41"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-101--3304838837356617339","collectionIdent":"collection-9--3304838837356617339","commitTimestamp":null}}
18:46:55.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.251-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2d5f8180-1ce3-47f7-918d-c519be8278d9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.251-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2d5f8180-1ce3-47f7-918d-c519be8278d9"}}}}
18:46:55.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.251-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2718693d-e202-43ec-8494-926218db32f4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":160128}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54244","protocol":"op_msg","durationMillis":1476}}
18:46:55.251 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.251-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:54244","uuid":"98e44069-dfe0-4f8c-a6d9-e7ec1d3d5fb3","connectionId":7,"connectionCount":7}}
18:46:55.261 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.261-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-102--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.261 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.261-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn14","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"19a94733-98ad-4a87-af51-2c01851a847d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.261 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.261-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn14","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"19a94733-98ad-4a87-af51-2c01851a847d"}}}}
18:46:55.261 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.262-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"47d0565d-1066-412a-8ae6-fe3e9dac7670"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":107364}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2},"storage":{},"remote":"127.0.0.1:54251","protocol":"op_msg","durationMillis":1479}}
18:46:55.262 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.262-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:54251","uuid":"8ad01f89-a0cd-463f-b8bf-f911dd44b244","connectionId":14,"connectionCount":6}}
18:46:55.270 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.270-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-103--3304838837356617339","collectionIdent":"collection-33--3304838837356617339","commitTimestamp":null}}
18:46:55.270 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.270-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"765a8836-ba92-4f93-8592-007a00d88b5f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.270 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.270-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"765a8836-ba92-4f93-8592-007a00d88b5f"}}}}
18:46:55.270 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.270-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fb5d2944-7a40-4b8c-9673-48f5f8010f24"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":23902}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54267","protocol":"op_msg","durationMillis":1464}}
18:46:55.270 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.270-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:54267","uuid":"c56a926b-b352-46e3-948e-d18da1dc371d","connectionId":30,"connectionCount":5}}
18:46:55.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.279-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-104--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.279-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn16","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"079f8492-04e5-4e0a-9f88-e5fdcadec22f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.279-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn16","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"079f8492-04e5-4e0a-9f88-e5fdcadec22f"}}}}
18:46:55.279 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.279-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f306bcd3-1425-4ad5-a619-8b511de0f666"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":98133}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54253","protocol":"op_msg","durationMillis":1493}}
18:46:55.279 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.279-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:54253","uuid":"1e2df66b-7055-4552-8863-f5a4cc5da07b","connectionId":16,"connectionCount":4}}
18:46:55.287 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.288-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ad8f361f-02ad-4734-b666-9cff979765f2"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-105--3304838837356617339","collectionIdent":"collection-33--3304838837356617339","commitTimestamp":null}}
18:46:55.287 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.288-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0c640220-7426-4c59-9eb6-f39e648e67b6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.287 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.288-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0c640220-7426-4c59-9eb6-f39e648e67b6"}}}}
18:46:55.287 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.288-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7e0c719f-9db7-4d59-aaaa-82ed55dfbc11"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":19332}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54266","protocol":"op_msg","durationMillis":1482}}
18:46:55.288 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.289-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:54266","uuid":"6f034f28-ed64-4e77-9294-f212e9d5f303","connectionId":29,"connectionCount":3}}
18:46:55.296 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.297-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-106--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.297 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.297-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8b5c0592-591d-4c83-bb9f-18807df7764b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.297 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.297-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8b5c0592-591d-4c83-bb9f-18807df7764b"}}}}
18:46:55.297 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.297-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ddbff2c8-279b-41ba-a234-67184c5868ea"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":118098,"W":8885}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:54252","protocol":"op_msg","durationMillis":1514}}
18:46:55.297 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.297-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:54252","uuid":"5a8f5c58-053b-4f05-8c3c-88b719d163e3","connectionId":15,"connectionCount":2}}
18:46:55.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.305-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-107--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.305-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6215a25c-39be-43af-a30e-5eb7018b14e6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.305-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6215a25c-39be-43af-a30e-5eb7018b14e6"}}}}
18:46:55.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.305-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9df23f97-2c58-4e7e-a1d1-aa7662e0e6ee"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":126304,"W":17785}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:54249","protocol":"op_msg","durationMillis":1525}}
18:46:55.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.306-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:54249","uuid":"caa23ccb-f583-4de9-948c-91d116cc0a23","connectionId":12,"connectionCount":1}}
18:46:55.314 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.314-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c659c5e-8a59-4b5c-b85a-e410365acf70"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-108--3304838837356617339","collectionIdent":"collection-14--3304838837356617339","commitTimestamp":null}}
18:46:55.314 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.314-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6aec3c20-0c49-41e1-a83e-774ddc311da3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
18:46:55.314 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.314-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6aec3c20-0c49-41e1-a83e-774ddc311da3"}}}}
18:46:55.314 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.314-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3ecfda9f-6536-4569-92b5-932375f692c5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":136618,"W":17111}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:54250","protocol":"op_msg","durationMillis":1534}}
18:46:55.314 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.315-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:54250","uuid":"b6fb6770-c5b3-4552-800f-03c7f60fc216","connectionId":13,"connectionCount":0}}
18:46:55.827 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.828-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54271","uuid":"0390c912-c92c-404c-8325-3340a034f1e3","connectionId":33,"connectionCount":1}}
18:46:55.828 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.828-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn33","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:54271"}}}
18:46:55.828 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
18:46:55.829 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.830-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:54271","uuid":"0390c912-c92c-404c-8325-3340a034f1e3","connectionId":33,"connectionCount":0}}
18:46:55.929 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.930-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54272","uuid":"eb6a62b3-409c-4c8c-8995-a2269371c238","connectionId":34,"connectionCount":1}}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn34","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread69","msg":"Attempting to enter quiesce mode"}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread69","msg":"Shutting down the FLE Crud thread pool"}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread69","msg":"Shutting down the MirrorMaestro"}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread69","msg":"Shutting down the WaitForMajorityService"}
18:46:55.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.931-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread69","msg":"Shutting down the LogicalSessionCache"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread69","msg":"Shutdown: going to close listening sockets"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread69","msg":"Shutting down the global connection pool"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread69","msg":"Shutting down the FlowControlTicketholder"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread69","msg":"Stopping further Flow Control ticket acquisitions."}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread69","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread69","msg":"Shutting down the ReplicationCoordinator"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread69","msg":"Shutting down the ShardingInitializationMongoD"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread69","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread69","msg":"Killing all operations for shutdown"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread69","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread69","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread69","msg":"Shutting down all open transactions"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread69","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread69","msg":"Shutting down the IndexBuildsCoordinator"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread69","msg":"Shutting down the ReplicaSetMonitor"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread69","msg":"Shutting down the MigrationUtilExecutor"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread69","msg":"Shutting down the ServiceEntryPoint"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread69","msg":"Shutting down free monitoring"}
18:46:55.931 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread69","msg":"Shutting down free monitoring"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread69","msg":"Shutting down the HealthLog"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.932-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread69","msg":"Shutting down the TTL monitor"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread69","msg":"Shutting down TTL collection monitor thread"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread69","msg":"Finished shutting down TTL collection monitor thread"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread69","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread69","msg":"Acquiring the global lock for shutdown"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread69","msg":"Shutting down the storage engine"}
18:46:55.932 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.933-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread69","msg":"Shutting down journal flusher thread"}
18:46:55.953 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.954-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread69","msg":"Finished shutting down journal flusher thread"}
18:46:55.953 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.954-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread69","msg":"Shutting down checkpoint thread"}
18:46:55.953 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.954-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread69","msg":"Finished shutting down checkpoint thread"}
18:46:55.953 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.954-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread69","msg":"Deregistering all the collections"}
18:46:55.954 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.954-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread69","msg":"Timestamp monitor shutting down"}
18:46:55.954 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.955-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread69","msg":"WiredTigerKVEngine shutting down"}
18:46:55.954 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.955-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread69","msg":"Shutting down session sweeper thread"}
18:46:55.954 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.955-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread69","msg":"Finished shutting down session sweeper thread"}
18:46:55.954 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.955-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread69","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
18:46:55.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.974-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread69","msg":"WiredTiger closed","attr":{"durationMillis":19}}
18:46:55.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.974-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread69","msg":"shutdown: removing fs lock..."}
18:46:55.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.974-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread69","msg":"Dropping the scope cache for shutdown"}
18:46:55.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.974-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread69","msg":"Shutting down full-time diagnostic data capture"}
18:46:55.976 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.976-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread69","msg":"Now exiting"}
18:46:55.976 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:46:55.976-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread69","msg":"Shutting down","attr":{"exitCode":0}}
18:46:56.102 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
18:46:56.111 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryRepository' defined in com.retail.infrastructure.persistence.CategoryRepository defined in @EnableReactiveMongoRepositories declared on MongoReactiveRepositoriesRegistrar.EnableReactiveMongoRepositoriesConfiguration: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:969)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactoryBean.afterPropertiesSet(ReactiveMongoRepositoryFactoryBean.java:116)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 95 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:443)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:419)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:372)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:354)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.mongodb.repository.query.ReactivePartTreeMongoQuery.<init>(ReactivePartTreeMongoQuery.java:66)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(ReactiveMongoRepositoryFactory.java:197)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 107 common frames omitted



============================
CONDITIONS EVALUATION REPORT
============================


Positive matches:
-----------------

    None


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



18:46:56.114 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@6e4a2790]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryRepository' defined in com.retail.infrastructure.persistence.CategoryRepository defined in @EnableReactiveMongoRepositories declared on MongoReactiveRepositoriesRegistrar.EnableReactiveMongoRepositoriesConfiguration: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:969)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 74 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactoryBean.afterPropertiesSet(ReactiveMongoRepositoryFactoryBean.java:116)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 95 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:443)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:419)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:372)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:354)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.mongodb.repository.query.ReactivePartTreeMongoQuery.<init>(ReactivePartTreeMongoQuery.java:66)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(ReactiveMongoRepositoryFactory.java:197)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 107 common frames omitted
18:46:56.115 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@4560e40b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.116 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@7a3eee76]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.117 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@4325a2e6]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.117 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@7e5f596f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.118 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@2b6c5c75]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.119 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@26cba24d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.119 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@2dda18fd]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.120 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@2c4386a6]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.121 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@56c70faf]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.121 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@3d452ced]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.122 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@471c2da5]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.123 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@4151251b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 2.954 s <<< FAILURE! -- in com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByCustomerEmail -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryRepository' defined in com.retail.infrastructure.persistence.CategoryRepository defined in @EnableReactiveMongoRepositories declared on MongoReactiveRepositoriesRegistrar.EnableReactiveMongoRepositoriesConfiguration: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:969)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract reactor.core.publisher.Mono com.retail.infrastructure.persistence.TenantAwareRepository.findByIdAndTenant(java.lang.Object); Reason: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactoryBean.afterPropertiesSet(ReactiveMongoRepositoryFactoryBean.java:116)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 38 more
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'tenant' found for type 'Category'; Did you mean 'tenantId'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:443)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:419)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:372)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:354)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:723)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.mongodb.repository.query.ReactivePartTreeMongoQuery.<init>(ReactivePartTreeMongoQuery.java:66)
	at org.springframework.data.mongodb.repository.support.ReactiveMongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(ReactiveMongoRepositoryFactory.java:197)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 50 more

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testCountByStatus -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testDeleteOrder -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testUpdateOrderStatus -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByStatus -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByTenantId -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByOrderNumber -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindHighValueOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindRecentOrders -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByDateRange -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testCountByTenantId -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testSaveAndFindById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testTenantIsolation -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
18:46:56.125 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest]: ProductRepositoryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:56.128 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
18:46:56.129 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@72f855b9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.130 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@14b784c0]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.130 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@6d526684]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.131 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@521f1d77]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.131 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@754345b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.132 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@584c661e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.132 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@9936354]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.133 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@672b0f0a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.133 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@587f24d8]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.134 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@740ed220]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.135 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@4605b20b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
18:46:56.135 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@4674bc88]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 12, Failures: 0, Errors: 12, Skipped: 0, Time elapsed: 0.012 s <<< FAILURE! -- in com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindByCategoryMultipleResults -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindBySkuNotFound -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindLowStockProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testCountActiveProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testUpdateProduct -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindActiveProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindByCategory -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindBySku -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testDeleteProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindWithPagination -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testSaveAndFindById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testTenantIsolation -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.RetailApplicationTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s -- in com.retail.RetailApplicationTest
[INFO] Running com.retail.security.AuthenticationSecurityTest
18:46:56.139 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthenticationSecurityTest]: AuthenticationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:56.150 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthenticationSecurityTest
18:46:56.154 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.156 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1283bef9] HTTP GET /api/v1/products
18:46:56.157 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2885e839] HTTP GET "/api/v1/products"
18:46:56.158 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.158 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2885e839] Completed 404 NOT_FOUND
18:46:56.158 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1283bef9] [56526e01] Response 404 NOT_FOUND
18:46:56.159 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [14]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.159 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.164 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.167 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3e8df7ca] HTTP GET /api/v1/health
18:46:56.168 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [30dae181] HTTP GET "/api/v1/health"
18:46:56.168 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.168 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [30dae181] Completed 404 NOT_FOUND
18:46:56.169 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3e8df7ca] [4e95abfc] Response 404 NOT_FOUND
18:46:56.170 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/health
> WebTestClient-Request-Id: [15]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.170 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.176 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.244 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.247 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "email" : "security@example.com", "tenantId" : "test-tenant-001"}, Fields: {}, Sort: {}
18:46:56.247 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "email" : "security@example.com", "tenantId" : "test-tenant-001"} fields: Document{{}} for class: class com.retail.domain.user.User in collection: users
18:46:56.301 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.305 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.307 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1dd3e865] HTTP GET /api/v1/products
18:46:56.308 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ec34be8] HTTP GET "/api/v1/products"
18:46:56.308 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.308 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ec34be8] Completed 404 NOT_FOUND
18:46:56.308 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1dd3e865] [70b239fd] Response 404 NOT_FOUND
18:46:56.309 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [16]
> Authorization: [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjJ9.invalidSignature]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.309 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.313 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.315 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7dcd2603] HTTP POST /api/v1/auth/login
18:46:56.316 DEBUG org.springframework.web.HttpLogging - [7dcd2603] Writing "{<EOL>    "email": "admin@example.com' OR '1'='1",<EOL>    "password": "anything"<EOL>}<EOL>"
18:46:56.316 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [63f9fadf] HTTP POST "/api/v1/auth/login"
18:46:56.317 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.317 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [63f9fadf] Completed 404 NOT_FOUND
18:46:56.317 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7dcd2603] [32c8ee4f] Response 404 NOT_FOUND
18:46:56.317 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [17]
> Content-Type: [application/json]
> Content-Length: [76]

{
    "email": "admin@example.com' OR '1'='1",
    "password": "anything"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.318 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.322 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.376 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.378 DEBUG o.s.w.r.f.client.ExchangeFunctions - [20c09582] HTTP POST /api/v1/auth/login
18:46:56.379 DEBUG org.springframework.web.HttpLogging - [20c09582] Writing "{<EOL>    "email": "security@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
18:46:56.379 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4b39fd71] HTTP POST "/api/v1/auth/login"
18:46:56.379 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.380 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4b39fd71] Completed 404 NOT_FOUND
18:46:56.380 DEBUG o.s.w.r.f.client.ExchangeFunctions - [20c09582] [111054fb] Response 404 NOT_FOUND
18:46:56.380 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [18]
> Content-Type: [application/json]
> Content-Length: [78]

{
    "email": "security@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.381 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.385 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.387 DEBUG o.s.w.r.f.client.ExchangeFunctions - [403e8cfa] HTTP POST /api/v1/auth/login
18:46:56.388 DEBUG org.springframework.web.HttpLogging - [403e8cfa] Writing "{<EOL>    "email": "test@example.com",<EOL>    "password": "wrongpassword"<EOL>}<EOL>"
18:46:56.388 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [62b9a430] HTTP POST "/api/v1/auth/login"
18:46:56.388 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.388 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [62b9a430] Completed 404 NOT_FOUND
18:46:56.389 DEBUG o.s.w.r.f.client.ExchangeFunctions - [403e8cfa] [1c244527] Response 404 NOT_FOUND
18:46:56.389 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [19]
> Content-Type: [application/json]
> Content-Length: [69]

{
    "email": "test@example.com",
    "password": "wrongpassword"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.391 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.395 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.397 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5214cf10] HTTP GET /api/v1/products
18:46:56.397 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6418a32b] HTTP GET "/api/v1/products"
18:46:56.397 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.397 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6418a32b] Completed 404 NOT_FOUND
18:46:56.397 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5214cf10] [1c2e5050] Response 404 NOT_FOUND
18:46:56.398 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [20]
> Authorization: [Bearer invalid-token-here]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.398 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.402 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.403 DEBUG o.s.w.r.f.client.ExchangeFunctions - [9c10e9c] HTTP POST /api/v1/auth/login
18:46:56.403 DEBUG org.springframework.web.HttpLogging - [9c10e9c] Writing "{<EOL>    "email": "test@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
18:46:56.403 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [75692447] HTTP POST "/api/v1/auth/login"
18:46:56.404 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.404 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [75692447] Completed 404 NOT_FOUND
18:46:56.404 DEBUG o.s.w.r.f.client.ExchangeFunctions - [9c10e9c] [6b2698e1] Response 404 NOT_FOUND
18:46:56.404 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [21]
> Content-Type: [application/json]
> Content-Length: [74]

{
    "email": "test@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.405 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.409 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.410 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2ba859bf] HTTP POST /api/v1/auth/register
18:46:56.411 DEBUG org.springframework.web.HttpLogging - [2ba859bf] Writing "{<EOL>    "email": "weak@example.com",<EOL>    "password": "weak",<EOL>    "firstName": "Test",<EOL>    "lastName":  (truncated)..."
18:46:56.411 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [16ebfe41] HTTP POST "/api/v1/auth/register"
18:46:56.411 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.411 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [16ebfe41] Completed 404 NOT_FOUND
18:46:56.411 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2ba859bf] [4bff17e7] Response 404 NOT_FOUND
18:46:56.412 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/register
> WebTestClient-Request-Id: [22]
> Content-Type: [application/json]
> Content-Length: [109]

{
    "email": "weak@example.com",
    "password": "weak",
    "firstName": "Test",
    "lastName": "User"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.412 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.416 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.469 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.471 DEBUG o.s.w.r.f.client.ExchangeFunctions - [695295a9] HTTP POST /api/v1/auth/login
18:46:56.471 DEBUG org.springframework.web.HttpLogging - [695295a9] Writing "{<EOL>    "email": "security@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
18:46:56.471 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5ec18a80] HTTP POST "/api/v1/auth/login"
18:46:56.472 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.472 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5ec18a80] Completed 404 NOT_FOUND
18:46:56.472 DEBUG o.s.w.r.f.client.ExchangeFunctions - [695295a9] [de6457c] Response 404 NOT_FOUND
18:46:56.472 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [23]
> Content-Type: [application/json]
> Content-Length: [78]

{
    "email": "security@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.473 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.477 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.479 DEBUG o.s.w.r.f.client.ExchangeFunctions - [26a04ce7] HTTP POST /api/v1/auth/login
18:46:56.479 DEBUG org.springframework.web.HttpLogging - [26a04ce7] Writing "{<EOL>    "email": "nonexistent@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:56.480 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [422eb56c] HTTP POST "/api/v1/auth/login"
18:46:56.480 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.480 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [422eb56c] Completed 404 NOT_FOUND
18:46:56.480 DEBUG o.s.w.r.f.client.ExchangeFunctions - [26a04ce7] [71252059] Response 404 NOT_FOUND
18:46:56.481 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [24]
> Content-Type: [application/json]
> Content-Length: [74]

{
    "email": "nonexistent@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.481 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.485 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.486 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5bdaeec8] HTTP POST /api/v1/auth/login
18:46:56.487 DEBUG org.springframework.web.HttpLogging - [5bdaeec8] Writing "{<EOL>    "email": "{"$gt": ""}",<EOL>    "password": "test"<EOL>}<EOL>"
18:46:56.487 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2cd4ba3f] HTTP POST "/api/v1/auth/login"
18:46:56.487 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.487 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2cd4ba3f] Completed 404 NOT_FOUND
18:46:56.488 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5bdaeec8] [4258c7c5] Response 404 NOT_FOUND
18:46:56.488 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [25]
> Content-Type: [application/json]
> Content-Length: [55]

{
    "email": "{"$gt": ""}",
    "password": "test"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.488 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
[ERROR] Tests run: 13, Failures: 12, Errors: 0, Skipped: 0, Time elapsed: 0.353 s <<< FAILURE! -- in com.retail.security.AuthenticationSecurityTest
[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectUnauthenticatedRequests -- Time elapsed: 0.010 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectUnauthenticatedRequests(AuthenticationSecurityTest.java:63)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testHttpsRequirement -- Time elapsed: 0.010 s <<< FAILURE!
java.lang.AssertionError: Response header 'Strict-Transport-Security' does not exist
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)
	at org.springframework.test.web.reactive.server.HeaderAssertions.lambda$exists$9(HeaderAssertions.java:217)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.HeaderAssertions.exists(HeaderAssertions.java:217)
	at com.retail.security.AuthenticationSecurityTest.testHttpsRequirement(AuthenticationSecurityTest.java:264)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectExpiredJwtToken -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectExpiredJwtToken(AuthenticationSecurityTest.java:88)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSqlInjectionPrevention -- Time elapsed: 0.008 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testSqlInjectionPrevention(AuthenticationSecurityTest.java:151)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSecureCookieFlags -- Time elapsed: 0.062 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthenticationSecurityTest.testSecureCookieFlags(AuthenticationSecurityTest.java:288)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testLoginRateLimiting -- Time elapsed: 0.009 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testLoginRateLimiting(AuthenticationSecurityTest.java:199)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectInvalidJwtToken -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectInvalidJwtToken(AuthenticationSecurityTest.java:74)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testPasswordNotInErrorMessages -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testPasswordNotInErrorMessages(AuthenticationSecurityTest.java:355)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectWeakPasswords -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<400 BAD_REQUEST> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.retail.security.AuthenticationSecurityTest.testRejectWeakPasswords(AuthenticationSecurityTest.java:108)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testTokenInvalidationOnLogout -- Time elapsed: 0.061 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthenticationSecurityTest.testTokenInvalidationOnLogout(AuthenticationSecurityTest.java:315)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testUserEnumerationPrevention -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testUserEnumerationPrevention(AuthenticationSecurityTest.java:231)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testNoSqlInjectionPrevention -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testNoSqlInjectionPrevention(AuthenticationSecurityTest.java:178)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.AuthorizationSecurityTest
18:46:56.493 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthorizationSecurityTest]: AuthorizationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:56.494 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthorizationSecurityTest
18:46:56.500 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.671 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.675 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.678 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.681 DEBUG o.s.w.r.f.client.ExchangeFunctions - [38903fa5] HTTP POST /api/v1/auth/login
18:46:56.682 DEBUG org.springframework.web.HttpLogging - [38903fa5] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:56.682 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5798e93c] HTTP POST "/api/v1/auth/login"
18:46:56.683 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.683 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5798e93c] Completed 404 NOT_FOUND
18:46:56.683 DEBUG o.s.w.r.f.client.ExchangeFunctions - [38903fa5] [2657c9a2] Response 404 NOT_FOUND
18:46:56.683 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [26]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.685 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.691 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.855 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.859 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.861 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:56.863 DEBUG o.s.w.r.f.client.ExchangeFunctions - [512b7f4b] HTTP POST /api/v1/auth/login
18:46:56.863 DEBUG org.springframework.web.HttpLogging - [512b7f4b] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:56.863 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [61d19a9e] HTTP POST "/api/v1/auth/login"
18:46:56.864 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:56.864 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [61d19a9e] Completed 404 NOT_FOUND
18:46:56.864 DEBUG o.s.w.r.f.client.ExchangeFunctions - [512b7f4b] [4281ee11] Response 404 NOT_FOUND
18:46:56.864 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [27]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:56.865 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:56.869 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.025 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.028 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.029 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.031 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3cdaf598] HTTP POST /api/v1/auth/login
18:46:57.031 DEBUG org.springframework.web.HttpLogging - [3cdaf598] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.031 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [77953828] HTTP POST "/api/v1/auth/login"
18:46:57.032 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.032 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [77953828] Completed 404 NOT_FOUND
18:46:57.032 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3cdaf598] [62f38025] Response 404 NOT_FOUND
18:46:57.033 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [28]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.033 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.036 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.190 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.192 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.194 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.195 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6cfcb42f] HTTP POST /api/v1/auth/login
18:46:57.195 DEBUG org.springframework.web.HttpLogging - [6cfcb42f] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.195 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [153753db] HTTP POST "/api/v1/auth/login"
18:46:57.196 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.196 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [153753db] Completed 404 NOT_FOUND
18:46:57.196 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6cfcb42f] [19cf3467] Response 404 NOT_FOUND
18:46:57.196 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [29]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.197 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.201 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.354 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.356 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.358 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.360 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a85c965] HTTP POST /api/v1/auth/login
18:46:57.360 DEBUG org.springframework.web.HttpLogging - [3a85c965] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.361 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ce13ef1] HTTP POST "/api/v1/auth/login"
18:46:57.361 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.361 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ce13ef1] Completed 404 NOT_FOUND
18:46:57.361 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a85c965] [135c8e49] Response 404 NOT_FOUND
18:46:57.361 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [30]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.362 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.366 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.523 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.528 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.532 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.536 DEBUG o.s.w.r.f.client.ExchangeFunctions - [348e200e] HTTP POST /api/v1/auth/login
18:46:57.536 DEBUG org.springframework.web.HttpLogging - [348e200e] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.536 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [76f513d7] HTTP POST "/api/v1/auth/login"
18:46:57.538 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.538 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [76f513d7] Completed 404 NOT_FOUND
18:46:57.539 DEBUG o.s.w.r.f.client.ExchangeFunctions - [348e200e] [1833c183] Response 404 NOT_FOUND
18:46:57.539 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [31]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.540 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.545 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.700 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.702 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.703 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.704 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1c57f44c] HTTP POST /api/v1/auth/login
18:46:57.705 DEBUG org.springframework.web.HttpLogging - [1c57f44c] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.705 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3e8ddd63] HTTP POST "/api/v1/auth/login"
18:46:57.705 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.705 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3e8ddd63] Completed 404 NOT_FOUND
18:46:57.706 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1c57f44c] [760a2c7c] Response 404 NOT_FOUND
18:46:57.706 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [32]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.706 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.710 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.866 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.869 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.872 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:57.875 DEBUG o.s.w.r.f.client.ExchangeFunctions - [757bdbbf] HTTP POST /api/v1/auth/login
18:46:57.875 DEBUG org.springframework.web.HttpLogging - [757bdbbf] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:57.875 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [c09a917] HTTP POST "/api/v1/auth/login"
18:46:57.876 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:57.876 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [c09a917] Completed 404 NOT_FOUND
18:46:57.876 DEBUG o.s.w.r.f.client.ExchangeFunctions - [757bdbbf] [72fa8b7b] Response 404 NOT_FOUND
18:46:57.877 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [33]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:57.877 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:57.883 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.047 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.050 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.052 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.054 DEBUG o.s.w.r.f.client.ExchangeFunctions - [b99316f] HTTP POST /api/v1/auth/login
18:46:58.055 DEBUG org.springframework.web.HttpLogging - [b99316f] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.055 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [18fbd849] HTTP POST "/api/v1/auth/login"
18:46:58.055 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.055 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [18fbd849] Completed 404 NOT_FOUND
18:46:58.056 DEBUG o.s.w.r.f.client.ExchangeFunctions - [b99316f] [31e0dcc] Response 404 NOT_FOUND
18:46:58.056 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [34]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.057 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.062 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.222 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.224 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.226 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.228 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4d8b2172] HTTP POST /api/v1/auth/login
18:46:58.228 DEBUG org.springframework.web.HttpLogging - [4d8b2172] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.228 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [604ed5dd] HTTP POST "/api/v1/auth/login"
18:46:58.229 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.229 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [604ed5dd] Completed 404 NOT_FOUND
18:46:58.229 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4d8b2172] [1b419720] Response 404 NOT_FOUND
18:46:58.230 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [35]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.230 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.235 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.396 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.399 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.401 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.403 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a608450] HTTP POST /api/v1/auth/login
18:46:58.403 DEBUG org.springframework.web.HttpLogging - [3a608450] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.404 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2dd0e893] HTTP POST "/api/v1/auth/login"
18:46:58.404 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.404 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2dd0e893] Completed 404 NOT_FOUND
18:46:58.405 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a608450] [25581c93] Response 404 NOT_FOUND
18:46:58.405 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [36]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.405 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.410 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.571 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.573 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.574 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.575 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a3fb848] HTTP POST /api/v1/auth/login
18:46:58.575 DEBUG org.springframework.web.HttpLogging - [3a3fb848] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.576 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3ef246b9] HTTP POST "/api/v1/auth/login"
18:46:58.576 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.576 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3ef246b9] Completed 404 NOT_FOUND
18:46:58.576 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3a3fb848] [6311eb9b] Response 404 NOT_FOUND
18:46:58.577 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [37]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.579 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.583 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.739 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.741 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.742 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.744 DEBUG o.s.w.r.f.client.ExchangeFunctions - [20967474] HTTP POST /api/v1/auth/login
18:46:58.745 DEBUG org.springframework.web.HttpLogging - [20967474] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.745 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [50ce085d] HTTP POST "/api/v1/auth/login"
18:46:58.745 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.745 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [50ce085d] Completed 404 NOT_FOUND
18:46:58.746 DEBUG o.s.w.r.f.client.ExchangeFunctions - [20967474] [31dbebd5] Response 404 NOT_FOUND
18:46:58.746 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [38]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.746 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.751 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.915 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.917 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.919 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:58.920 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3feaa2b3] HTTP POST /api/v1/auth/login
18:46:58.920 DEBUG org.springframework.web.HttpLogging - [3feaa2b3] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:58.921 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7a79a22c] HTTP POST "/api/v1/auth/login"
18:46:58.921 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:58.921 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7a79a22c] Completed 404 NOT_FOUND
18:46:58.921 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3feaa2b3] [49220aae] Response 404 NOT_FOUND
18:46:58.922 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [39]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:58.922 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:58.927 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:59.084 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.089 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.093 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.096 DEBUG o.s.w.r.f.client.ExchangeFunctions - [626b3a3a] HTTP POST /api/v1/auth/login
18:46:59.097 DEBUG org.springframework.web.HttpLogging - [626b3a3a] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:59.097 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [17745960] HTTP POST "/api/v1/auth/login"
18:46:59.097 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:59.097 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [17745960] Completed 404 NOT_FOUND
18:46:59.098 DEBUG o.s.w.r.f.client.ExchangeFunctions - [626b3a3a] [5a17b463] Response 404 NOT_FOUND
18:46:59.099 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [40]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:59.100 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:59.106 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
18:46:59.269 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.272 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.274 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
18:46:59.277 DEBUG o.s.w.r.f.client.ExchangeFunctions - [accf78c] HTTP POST /api/v1/auth/login
18:46:59.277 DEBUG org.springframework.web.HttpLogging - [accf78c] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
18:46:59.277 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1f721367] HTTP POST "/api/v1/auth/login"
18:46:59.278 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
18:46:59.278 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1f721367] Completed 404 NOT_FOUND
18:46:59.279 DEBUG o.s.w.r.f.client.ExchangeFunctions - [accf78c] [6e13b1ac] Response 404 NOT_FOUND
18:46:59.279 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [41]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

18:46:59.279 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
[ERROR] Tests run: 16, Failures: 16, Errors: 0, Skipped: 0, Time elapsed: 2.791 s <<< FAILURE! -- in com.retail.security.AuthorizationSecurityTest
[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanDeleteProducts -- Time elapsed: 0.190 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanDeleteProducts(AuthorizationSecurityTest.java:212)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders -- Time elapsed: 0.177 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders(AuthorizationSecurityTest.java:143)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testPreventPrivilegeEscalation -- Time elapsed: 0.167 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testPreventPrivilegeEscalation(AuthorizationSecurityTest.java:318)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotDeleteProducts -- Time elapsed: 0.164 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotDeleteProducts(AuthorizationSecurityTest.java:118)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testMethodLevelSecurity -- Time elapsed: 0.165 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testMethodLevelSecurity(AuthorizationSecurityTest.java:305)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessProducts -- Time elapsed: 0.179 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessProducts(AuthorizationSecurityTest.java:68)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints -- Time elapsed: 0.164 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints(AuthorizationSecurityTest.java:81)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanAccessAllEndpoints -- Time elapsed: 0.171 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanAccessAllEndpoints(AuthorizationSecurityTest.java:159)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanCreateProducts -- Time elapsed: 0.178 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanCreateProducts(AuthorizationSecurityTest.java:251)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanManageUserRoles -- Time elapsed: 0.172 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanManageUserRoles(AuthorizationSecurityTest.java:227)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanCreateProducts -- Time elapsed: 0.175 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanCreateProducts(AuthorizationSecurityTest.java:189)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData -- Time elapsed: 0.173 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData(AuthorizationSecurityTest.java:287)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testRoleChangeAuthorization -- Time elapsed: 0.167 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testRoleChangeAuthorization(AuthorizationSecurityTest.java:342)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotCreateProducts -- Time elapsed: 0.174 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotCreateProducts(AuthorizationSecurityTest.java:95)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders -- Time elapsed: 0.178 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders(AuthorizationSecurityTest.java:274)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessOwnOrders -- Time elapsed: 0.179 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessOwnOrders(AuthorizationSecurityTest.java:130)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.TenantIsolationSecurityTest
18:46:59.285 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.TenantIsolationSecurityTest]: TenantIsolationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:46:59.286 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.TenantIsolationSecurityTest
18:46:59.290 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.292 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.294 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.294 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.293Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.293Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.295 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.296 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.296 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.296 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.297 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.297 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.293Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.293Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.297 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.298 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.298 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.298 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.306 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.309 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.312 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-x-001', tenantId='tenant-a-001', name='Product X', sku='SKU-X-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.313 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-x-001', tenantId='tenant-a-001', name='Product X', sku='SKU-X-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-x-001", "tenantId" : "tenant-a-001", "name" : "Product X", "sku" : "SKU-X-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.312Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.312Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.313 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.315 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-x-001
18:46:59.315 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product X (prod-x-001)
18:46:59.315 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-x-001
18:46:59.316 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.318 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.335 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.337 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.339 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.339 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.339 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.340 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.341 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.341 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.341 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.342 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.342 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.344 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.344 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.344 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.344 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.346 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.365 DEBUG o.s.d.m.r.q.ReactiveStringBasedMongoQuery - Created query Document{{tenantId=tenant-a-001, status=ACTIVE}} for Document{{}} fields.
18:46:59.366 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001", "status" : "ACTIVE"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.369 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.369 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.338Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.371 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.373 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.378 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.381 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.382 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.383 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.382Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.382Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.383 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.385 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.385 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.385 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.386 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.387 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.382Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.382Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.387 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.389 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.389 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.389 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.390 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.393 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.396 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.397 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-a-001"} in collection: products
18:46:59.397 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-a-001"} in collection: products
18:46:59.404 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-002"}, Fields: {}, Sort: {}
18:46:59.405 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-b-002"} in collection: products
18:46:59.405 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-b-002"} in collection: products
18:46:59.407 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.408 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.413 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.415 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.417 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.418 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.418 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.419 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.419 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.419 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.420 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.420 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.420 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.421 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.421 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.421 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.422 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.424 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.426 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.426 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : "prod-b-001", "tenantId" : "tenant-a-001"})
18:46:59.427 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} in collection: products.
18:46:59.428 DEBUG c.r.d.product.ProductEventListener - Product deleted event: prod-b-001
18:46:59.428 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: prod-b-001
18:46:59.428 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: prod-b-001
18:46:59.429 DEBUG o.s.d.m.core.ReactiveMongoTemplate - findOne using query: { "id" : "prod-b-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.432 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.432 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.417Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.433 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.436 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.442 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.446 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.448 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.449 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.449 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.451 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.451 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.451 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.452 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.452 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.452 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.454 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.454 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.454 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.455 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.458 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.463 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "sku" : "SKU-A-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.463 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "sku" : "SKU-A-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.466 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.467 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.448Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.467 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "sku" : "SKU-B-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.468 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "sku" : "SKU-B-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.471 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.472 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.477 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.480 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.481 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.482 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.482 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.484 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.484 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.484 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.484 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.485 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.485 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.487 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.487 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.487 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.488 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.490 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.492 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.492 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.495 DEBUG o.s.d.m.core.ReactiveMongoTemplate - findOne using query: { "id" : "prod-b-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.496 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.497 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.481Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.498 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.499 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.503 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.504 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.506 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.506 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.506 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.508 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.508 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.509 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.509 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.510 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.510 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.511 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.511 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.511 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.512 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.514 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.516 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-002"}, Fields: {}, Sort: {}
18:46:59.516 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-b-002"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.518 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.518 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.506Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.519 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.521 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.524 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.527 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.531 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.531 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.531 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.533 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.533 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.534 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.534 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.535 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.535 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.537 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.537 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.537 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.539 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.541 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.543 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.544 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.546 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.547 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.53Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.547 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.549 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.552 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.555 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.556 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.556 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.556Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.556Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.556 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.558 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.558 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.558 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.559 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.559 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.556Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.556Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.559 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.560 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.560 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.560 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.561 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.562 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.563 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "orderNumber" : "ORD-ORDER-B-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.564 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "orderNumber" : "ORD-ORDER-B-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
18:46:59.565 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.567 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.571 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.573 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.575 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.575 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.575 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.577 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.578 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.578 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.578 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.579 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.579 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.581 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.581 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.581 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.582 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.584 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.586 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.586 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.587 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.588 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.574Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.589 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.590 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.595 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.597 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.598 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.599 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.598Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.598Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.599 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.601 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.601 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.601 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.601 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.602 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.598Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.598Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.602 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.604 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.604 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.605 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.605 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.608 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.610 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.611 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
18:46:59.617 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.618 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.622 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.623 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.624 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.625 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.624Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.624Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.625 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.626 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.626 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.626 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.626 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.626 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.624Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.624Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.626 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.627 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.627 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.627 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.628 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.629 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.631 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "order-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.631 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "order-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
18:46:59.633 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.634 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.636 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.639 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
18:46:59.641 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.641 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.64Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.64Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.641 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.642 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
18:46:59.642 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
18:46:59.642 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
18:46:59.642 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
18:46:59.643 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T00:46:59.64Z"}, "updatedAt" : { "$date" : "2025-12-04T00:46:59.64Z"}, "_class" : "com.retail.domain.product.Product"})
18:46:59.643 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
18:46:59.643 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
18:46:59.643 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
18:46:59.644 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
18:46:59.644 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.645 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
18:46:59.647 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
18:46:59.647 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
18:46:59.648 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
18:46:59.649 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
[ERROR] Tests run: 13, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.367 s <<< FAILURE! -- in com.retail.security.TenantIsolationSecurityTest
[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantContextCannotBeOverridden -- Time elapsed: 0.023 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: "tenant-b-002"
 but was: "tenant-a-001"
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at com.retail.security.TenantIsolationSecurityTest.lambda$testTenantContextCannotBeOverridden$0(TenantIsolationSecurityTest.java:293)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:279)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onNext(FluxUsingWhen.java:346)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:439)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:335)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:559)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onSubscribe(FluxOnAssembly.java:633)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:880)
	at reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:805)
	at reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:163)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:186)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:153)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:176)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:632)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$5(BatchCursorFlux.java:102)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$1(BatchCursor.java:50)
	at com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:178)
	at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$2(BatchCursor.java:42)
	at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:61)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4578)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4339)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:112)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:61)
	at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:525)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.operation.FindOperation.lambda$exceptionTransformingCallback$6(FindOperation.java:369)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingReadCallback$19(AsyncOperationHelper.java:442)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:249)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:88)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:849)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:812)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:435)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:432)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)

18:47:02.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:54122","uuid":"4736e8a6-0553-43d1-bd02-0400b39c7fdf","connectionId":4,"connectionCount":36}}
18:47:02.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:54124","uuid":"e5c8ca41-014f-4092-ac8c-6cb02610f6d7","connectionId":6,"connectionCount":35}}
18:47:02.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:54125","uuid":"c6962ee9-5aa8-4fdc-9538-692bd0f55c81","connectionId":7,"connectionCount":34}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:54130","uuid":"dfe42624-89b3-44b6-9cb5-94f452125625","connectionId":12,"connectionCount":33}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:54138","uuid":"5df9183a-528f-4930-870d-31f6984ba988","connectionId":19,"connectionCount":32}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:54140","uuid":"fa3c2310-efd5-4297-8e8d-7333874aad36","connectionId":21,"connectionCount":31}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:54142","uuid":"2e0af3f7-9d4b-4908-81ab-9ec74abb5cf4","connectionId":23,"connectionCount":30}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:54148","uuid":"d7d4445d-07a2-4763-adb9-6ffeb3c8479e","connectionId":30,"connectionCount":29}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:54150","uuid":"ad7be9c8-c04a-446e-a1a9-8054d47efc55","connectionId":31,"connectionCount":28}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:54123","uuid":"465b61bc-fc59-4df4-bf17-742abf7c89be","connectionId":5,"connectionCount":27}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:54154","uuid":"699ed6de-0c5c-4b64-9adb-30e52507f959","connectionId":36,"connectionCount":26}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:54121","uuid":"a74f4ea3-78e2-45be-8e55-979e1f3df13c","connectionId":3,"connectionCount":25}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:54141","uuid":"8c5e8f51-4942-43b0-9262-44636e171be3","connectionId":24,"connectionCount":24}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:54127","uuid":"d0073ee9-335b-41fb-a248-ba8d51face3b","connectionId":9,"connectionCount":23}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:54145","uuid":"8399b6bc-4fc4-4069-99f2-3251bd31da26","connectionId":27,"connectionCount":22}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:54131","uuid":"8fb3727d-3074-4065-a2a1-9fdf45940c95","connectionId":13,"connectionCount":21}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:54134","uuid":"42a9a037-fc93-4c59-bd7c-0d2d2f1191e5","connectionId":16,"connectionCount":20}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:54135","uuid":"c2af1330-ef18-4c12-a000-c87668f32986","connectionId":17,"connectionCount":19}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:54137","uuid":"f16433c2-988e-4b48-a15a-308d35166db9","connectionId":20,"connectionCount":18}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:54139","uuid":"64c3fc07-e9da-409a-9987-40c2518c6e1b","connectionId":22,"connectionCount":16}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:54136","uuid":"89cd5612-e948-4e52-b2fd-7cecba17dddc","connectionId":18,"connectionCount":17}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:54143","uuid":"edcd9f30-e006-40c0-8932-3d1ab9e603d7","connectionId":25,"connectionCount":15}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:54146","uuid":"1c2d9767-ff04-4646-917f-9eaceeec1734","connectionId":28,"connectionCount":14}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:54133","uuid":"256406a4-e3ea-4ee7-96ed-3ae8eb4fa07e","connectionId":15,"connectionCount":13}}
18:47:02.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:54144","uuid":"29933de5-6548-4280-8406-f66a21ca2e23","connectionId":26,"connectionCount":12}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:54147","uuid":"ab32d2ba-31e4-4138-8d26-420d4d444898","connectionId":29,"connectionCount":11}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:54149","uuid":"908adcc6-3847-4836-bfe2-22240a99649f","connectionId":32,"connectionCount":10}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:54155","uuid":"9ff5d8e7-d375-4185-b86f-d6c721b27722","connectionId":37,"connectionCount":9}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:54151","uuid":"80b1f904-1ad9-4798-a82c-9dd33f7af890","connectionId":33,"connectionCount":8}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:54153","uuid":"f59601e0-d91c-4364-a59f-b1b0d1b06e22","connectionId":35,"connectionCount":7}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:54126","uuid":"586d12d2-0d82-409b-b56c-1479eecc3aef","connectionId":8,"connectionCount":6}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:54128","uuid":"da790df1-5460-4dec-977f-918fe8a9d73a","connectionId":10,"connectionCount":5}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:54129","uuid":"70a04b1b-816d-44bf-bac0-46ae85111556","connectionId":11,"connectionCount":4}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:54132","uuid":"cd79c084-75e7-454b-afe4-87c62a6457e1","connectionId":14,"connectionCount":3}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.699-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:54152","uuid":"559c6404-5951-41e2-a1fd-63a36d4ebcc3","connectionId":34,"connectionCount":2}}
18:47:02.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:02.700-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:54119","uuid":"e51528dc-9619-4cda-801d-f08b18f3c0b9","connectionId":1,"connectionCount":1}}
18:47:03.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:03.459-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn2","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
18:47:03.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:03.459-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":107}}
18:47:03.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:03.459-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:54120","uuid":"36cc427c-c0e9-475b-8294-46ec5bbdfd2a","connectionId":2,"connectionCount":0}}
18:47:04.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.713-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54277","uuid":"191c3181-5aa8-497a-9e3b-fac38c33ed43","connectionId":38,"connectionCount":1}}
18:47:04.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.714-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:54277"}}}
18:47:04.713 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
18:47:04.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.714-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:54277","uuid":"191c3181-5aa8-497a-9e3b-fac38c33ed43","connectionId":38,"connectionCount":0}}
18:47:04.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.815-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54278","uuid":"830e6899-0991-455a-824d-24e5b90cabf9","connectionId":39,"connectionCount":1}}
18:47:04.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.815-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
18:47:04.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.815-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
18:47:04.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.816-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
18:47:04.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.816-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
18:47:04.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.816-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
18:47:04.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.816-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
18:47:04.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
18:47:04.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.817-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
18:47:04.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.818-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
18:47:04.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
18:47:04.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
18:47:04.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
18:47:04.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
18:47:04.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
18:47:04.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
18:47:04.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
18:47:04.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
18:47:04.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.834-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
18:47:04.863 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.864-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":30}}
18:47:04.864 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.864-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
18:47:04.864 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.864-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
18:47:04.864 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.864-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
18:47:04.866 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.867-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
18:47:04.867 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:04.867-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:54164","uuid":"0c220638-aa22-4b3a-8682-0b7293d31cdd","connectionId":7,"connectionCount":34}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:54172","uuid":"aea53835-8683-4ddd-8568-fe830d3d9c55","connectionId":16,"connectionCount":31}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:54175","uuid":"a9395fce-164e-4c42-83c6-8fa470ea1f95","connectionId":19,"connectionCount":32}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:54178","uuid":"3ed5672e-799f-44be-9fa2-61ecb7ab3bdd","connectionId":22,"connectionCount":35}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:54166","uuid":"d0b4c116-cea6-4e03-82e6-f11fda29960f","connectionId":9,"connectionCount":36}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:54182","uuid":"c185a26c-713f-452c-ba25-9f16c9137104","connectionId":26,"connectionCount":28}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:54180","uuid":"61e56469-6026-4f3c-8729-a227cf682292","connectionId":24,"connectionCount":30}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:54190","uuid":"a128f2e2-72cd-4367-8041-3e7ab8d9a7e6","connectionId":33,"connectionCount":26}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:54159","uuid":"9b1ad166-8e10-4472-9dd6-b326cf21e5ba","connectionId":4,"connectionCount":25}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:54162","uuid":"262c07c7-61a6-4793-9233-d9bbf71a1837","connectionId":6,"connectionCount":29}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:54165","uuid":"ef652ea9-4aa5-42c4-84ae-cacf6da3f112","connectionId":10,"connectionCount":24}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:54160","uuid":"e64da7eb-3d91-435f-a2b6-4a90b4e146a9","connectionId":3,"connectionCount":27}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:54183","uuid":"036abef9-9d6d-411e-be8b-ccde7e5baba0","connectionId":27,"connectionCount":23}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:54161","uuid":"e39d7ea1-f319-4c35-9021-3c8e6e80b097","connectionId":5,"connectionCount":22}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.007-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:54170","uuid":"ab0ea5e4-c53c-4c78-9ffa-c8415f7e7453","connectionId":14,"connectionCount":33}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:54171","uuid":"388cf58b-ef33-4b92-851b-e94e539c30cf","connectionId":15,"connectionCount":21}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:54163","uuid":"08f98d1f-5375-49f9-bf84-85d5d15f4281","connectionId":8,"connectionCount":20}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:54176","uuid":"e35ca537-e9ac-4335-86cc-df791e62dcb1","connectionId":20,"connectionCount":19}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:54174","uuid":"079641cb-eb6d-4602-b736-f1d45dd9817e","connectionId":18,"connectionCount":18}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:54185","uuid":"47a8ae32-75f7-4746-ab58-0f76c4bdec22","connectionId":29,"connectionCount":16}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:54177","uuid":"832518a4-f7fd-43f2-995e-ce8d1511f179","connectionId":21,"connectionCount":17}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:54173","uuid":"5351511d-f92f-46f0-a846-156758148fb6","connectionId":17,"connectionCount":15}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:54181","uuid":"ce3a8760-9060-4f07-92c2-a0e532f3f5e9","connectionId":25,"connectionCount":13}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:54186","uuid":"82f4932f-5197-41ab-abc7-635ba89d3b6e","connectionId":30,"connectionCount":12}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:54168","uuid":"a19417fc-f06d-4e7a-9b15-8e8dff21b17c","connectionId":12,"connectionCount":14}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:54167","uuid":"848bf382-7869-41fd-871c-ed2c79cdf3d7","connectionId":11,"connectionCount":11}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:54179","uuid":"68beebf6-251a-4e9a-83f4-93f5842623a0","connectionId":23,"connectionCount":10}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:54184","uuid":"815c7302-616e-4a9e-b1f4-acb5f1e553bd","connectionId":28,"connectionCount":7}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:54169","uuid":"bd87876a-cca7-4bd2-81e7-7e5a4871075b","connectionId":13,"connectionCount":8}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:54191","uuid":"5ee1b16f-2880-445c-a647-e521cb0173d0","connectionId":35,"connectionCount":9}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:54188","uuid":"53305e15-36dc-4c8e-bba8-6b7a9aa36556","connectionId":32,"connectionCount":6}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:54192","uuid":"09de6b10-88de-41bc-81a4-f3764a57bf85","connectionId":36,"connectionCount":5}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:54193","uuid":"d3a4b33b-a0ca-45d0-891a-50c42e9905f7","connectionId":37,"connectionCount":3}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:54187","uuid":"7e373ee5-a380-4fc5-ac7b-74aa688a8681","connectionId":31,"connectionCount":4}}
18:47:06.007 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:54189","uuid":"c4719c8e-6209-4cb1-9a40-1ebb4d70c451","connectionId":34,"connectionCount":2}}
18:47:06.008 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.008-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:54158","uuid":"1cc7a39a-bb97-424c-86b1-a14d80cee4ba","connectionId":1,"connectionCount":1}}
18:47:06.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.803-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn2","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
18:47:06.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.803-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":178}}
18:47:06.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:06.803-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:54157","uuid":"23fefbbe-e6bc-4f9c-8de3-201b170f8002","connectionId":2,"connectionCount":0}}
18:47:08.021 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.022-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54280","uuid":"f9f29c9a-c274-4a4d-be55-0daa3c43b4a0","connectionId":38,"connectionCount":1}}
18:47:08.022 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.023-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:54280"}}}
18:47:08.022 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
18:47:08.022 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.023-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:54280","uuid":"f9f29c9a-c274-4a4d-be55-0daa3c43b4a0","connectionId":38,"connectionCount":0}}
18:47:08.125 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.125-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:54281","uuid":"454cef4e-51c6-4937-a226-9d35910cc5b0","connectionId":39,"connectionCount":1}}
18:47:08.126 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.126-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
18:47:08.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.127-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread77","msg":"Attempting to enter quiesce mode"}
18:47:08.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.127-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread77","msg":"Shutting down the FLE Crud thread pool"}
18:47:08.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.127-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread77","msg":"Shutting down the MirrorMaestro"}
18:47:08.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.127-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread77","msg":"Shutting down the WaitForMajorityService"}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread77","msg":"Shutting down the LogicalSessionCache"}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread77","msg":"Shutdown: going to close listening sockets"}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread77","msg":"Shutting down the global connection pool"}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread77","msg":"Shutting down the FlowControlTicketholder"}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread77","msg":"Stopping further Flow Control ticket acquisitions."}
18:47:08.128 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.128-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread77","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread77","msg":"Shutting down the ReplicationCoordinator"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread77","msg":"Shutting down the ShardingInitializationMongoD"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread77","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread77","msg":"Killing all operations for shutdown"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread77","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread77","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread77","msg":"Shutting down all open transactions"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread77","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
18:47:08.129 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.129-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread77","msg":"Shutting down the IndexBuildsCoordinator"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread77","msg":"Shutting down the ReplicaSetMonitor"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread77","msg":"Shutting down the MigrationUtilExecutor"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread77","msg":"Shutting down the ServiceEntryPoint"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread77","msg":"Shutting down free monitoring"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread77","msg":"Shutting down free monitoring"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread77","msg":"Shutting down the HealthLog"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread77","msg":"Shutting down the TTL monitor"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread77","msg":"Shutting down TTL collection monitor thread"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread77","msg":"Finished shutting down TTL collection monitor thread"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread77","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread77","msg":"Acquiring the global lock for shutdown"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread77","msg":"Shutting down the storage engine"}
18:47:08.130 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.130-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread77","msg":"Shutting down journal flusher thread"}
18:47:08.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.159-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread77","msg":"Finished shutting down journal flusher thread"}
18:47:08.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.159-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread77","msg":"Shutting down checkpoint thread"}
18:47:08.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.159-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread77","msg":"Finished shutting down checkpoint thread"}
18:47:08.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.159-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread77","msg":"Deregistering all the collections"}
18:47:08.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.159-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread77","msg":"Timestamp monitor shutting down"}
18:47:08.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.160-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread77","msg":"WiredTigerKVEngine shutting down"}
18:47:08.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.160-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread77","msg":"Shutting down session sweeper thread"}
18:47:08.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.160-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread77","msg":"Finished shutting down session sweeper thread"}
18:47:08.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.160-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread77","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
18:47:08.225 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.226-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread77","msg":"WiredTiger closed","attr":{"durationMillis":66}}
18:47:08.225 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.226-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread77","msg":"shutdown: removing fs lock..."}
18:47:08.225 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.226-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread77","msg":"Dropping the scope cache for shutdown"}
18:47:08.225 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.226-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread77","msg":"Shutting down full-time diagnostic data capture"}
18:47:08.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.229-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread77","msg":"Now exiting"}
18:47:08.229 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:08.230-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread77","msg":"Shutting down","attr":{"exitCode":0}}
18:47:09.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:54200","uuid":"bf6ad5dc-5ae8-4720-bcd7-b5c5a2e3437b","connectionId":3,"connectionCount":37}}
18:47:09.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:54202","uuid":"2f94f7aa-41ba-4dbb-bf7b-9f638fe9109e","connectionId":5,"connectionCount":36}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:54210","uuid":"2cf35f35-92b4-4962-ae17-640fd2768a1b","connectionId":13,"connectionCount":35}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:54220","uuid":"5dfb7e59-9257-4297-a7eb-950d765a3230","connectionId":23,"connectionCount":34}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:54213","uuid":"01c004ce-d2fa-4017-9942-b628a3e29afb","connectionId":16,"connectionCount":33}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:54209","uuid":"229e3303-e9c6-4732-99cc-0e37b956a332","connectionId":11,"connectionCount":31}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:54207","uuid":"e41df244-15a1-4b39-adf7-0bf70ad3f5ca","connectionId":10,"connectionCount":32}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:54221","uuid":"c432896b-24fb-48a9-ad22-d3fba8dbeab6","connectionId":24,"connectionCount":30}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:54224","uuid":"2cb2d896-1873-40f3-9ec6-cee6e11beac3","connectionId":26,"connectionCount":29}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:54226","uuid":"8bff81ef-bef7-4d7e-a2f5-9c75222c0dce","connectionId":29,"connectionCount":28}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.366-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:54229","uuid":"65ce094e-f3c6-48ba-838b-0af03ab5b95d","connectionId":32,"connectionCount":27}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:54233","uuid":"d642417b-87a5-4059-b94f-161653530d71","connectionId":36,"connectionCount":26}}
18:47:09.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:54201","uuid":"caa1c77e-200a-497a-abb6-5e51652bc477","connectionId":4,"connectionCount":25}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:54228","uuid":"5e627d5e-dd50-4583-9113-1ad42d263554","connectionId":31,"connectionCount":24}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:54222","uuid":"c30ffe94-b6ad-4dd4-8275-2d89c06a0c24","connectionId":25,"connectionCount":23}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:54204","uuid":"48df3c9b-a9a8-47f5-a6a9-3b308adf6b80","connectionId":7,"connectionCount":22}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:54203","uuid":"52f82019-b2db-4945-83a7-a5a11de27755","connectionId":6,"connectionCount":21}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:54211","uuid":"0057c006-f5fa-41ee-a4ff-599854a4a963","connectionId":14,"connectionCount":20}}
18:47:09.367 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T18:47:09.367-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:54219","uuid":"b7cf1de3-c3aa-4edf-b9b8-94b64a96d566","connectionId":22,"connectionCount":19}}
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   HealthControllerTest.health_ShouldReturnStatusUp:33 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testCreateProduct:147 Status expected:<201 CREATED> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testDeleteProduct:203 Status expected:<204 NO_CONTENT> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testGetLowStockProducts:234 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testGetProductById:110 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProducts:68 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProductsWithCategoryFilter:86 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProductsWithStatusFilter:98 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testPagination:289 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testUpdateProduct:169 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate:249 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.511077400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.510073900Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully:273 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.594918800Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.593918500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics:225 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T00:46:49.592918400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T00:46:49.591918600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview:99 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold:177 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart:58 expectation "assertNext" failed (expected: onNext(); actual: onError(java.lang.NullPointerException: other))
[ERROR]   TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware:217 expectation "expectNext(0)" failed (expected value: 0; actual value: 0.00)
[ERROR]   AuthenticationSecurityTest.testHttpsRequirement:264 Response header 'Strict-Transport-Security' does not exist
[ERROR]   AuthenticationSecurityTest.testLoginRateLimiting:199 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testNoSqlInjectionPrevention:178 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testPasswordNotInErrorMessages:355 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectExpiredJwtToken:88 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectInvalidJwtToken:74 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectUnauthenticatedRequests:63 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectWeakPasswords:108 Status expected:<400 BAD_REQUEST> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testSecureCookieFlags:288 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testSqlInjectionPrevention:151 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testTokenInvalidationOnLogout:315 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testUserEnumerationPrevention:231 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanAccessAllEndpoints:159->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanCreateProducts:189->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanDeleteProducts:212->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanManageUserRoles:227->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessOwnOrders:130->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessProducts:68->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints:81->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders:143->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotCreateProducts:95->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotDeleteProducts:118->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testMethodLevelSecurity:305->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testPreventPrivilegeEscalation:318->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testRoleChangeAuthorization:342->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanCreateProducts:251->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders:274->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData:287->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   TenantIsolationSecurityTest.lambda$testTenantContextCannotBeOverridden$0:293 
expected: "tenant-b-002"
 but was: "tenant-a-001"
[ERROR] Errors: 
[ERROR]   OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail:202  IllegalArgument Unsupported OAuth2 provider: INVALID_PROVIDER
[ERROR]   PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment:69  PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'createTransaction' method:
    paymentService.createTransaction(
    "order-123",
    100.00,
    "USD",
    PAYPAL,
    null
);
    -> at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
 - has following stubbing(s) with different arguments:
    1. paymentService.createTransaction(
    null,
    null,
    null,
    null,
    ""
);
      -> at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:57)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   OrderRepositoryIntegrationTest.testCountByStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testCountByTenantId  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testDeleteOrder  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByCustomerEmail  IllegalState Failed to load ApplicationContext for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByDateRange  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByOrderNumber  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByTenantId  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindHighValueOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindRecentOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testSaveAndFindById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testUpdateOrderStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@604c4c8c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@11199b67 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testCountActiveProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testDeleteProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindActiveProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindByCategory  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindByCategoryMultipleResults  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindBySku  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindBySkuNotFound  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindLowStockProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindWithPagination  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testSaveAndFindById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testUpdateProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [MergedContextConfiguration@4c914e12 testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@14209c3e key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration, de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration, org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration, org.springframework.boot.autoconfigure.ssl.SslAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2e869098, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3050ac2f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@65ea5ce7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc176df7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4aa21f9d, org.springframework.boot.test.context.SpringBootTestAnnotation@aa3bbd50], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[INFO] 
[ERROR] Tests run: 270, Failures: 46, Errors: 27, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  45.084 s
[INFO] Finished at: 2025-12-03T18:47:11-06:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project retail-backend: There are test failures.
[ERROR] 
[ERROR] See D:\code\retail-agentic\backend\target\surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
