WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.fusesource.jansi.internal.JansiLoader in an unnamed module (file:/D:/apache-maven-3.9.9-bin/apache-maven-3.9.9/lib/jansi-2.4.1.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper (file:/D:/apache-maven-3.9.9-bin/apache-maven-3.9.9/lib/guava-33.2.1-jre.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< com.retail:retail-backend >----------------------
[INFO] Building Retail Platform Backend 1.0.0-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
Downloading from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-h2/1.0.0.RELEASE/r2dbc-h2-1.0.0.RELEASE.pom
Progress (1): 861 BProgress (1): 2.1 kBProgress (1): 2.8 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-h2/1.0.0.RELEASE/r2dbc-h2-1.0.0.RELEASE.pom (2.8 kB at 2.8 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/com/h2database/h2/2.2.224/h2-2.2.224.pom
Progress (1): 1.1 kB                    Downloaded from central: https://repo.maven.apache.org/maven2/com/h2database/h2/2.2.224/h2-2.2.224.pom (1.1 kB at 6.9 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-h2/1.0.0.RELEASE/r2dbc-h2-1.0.0.RELEASE.jar
Progress (1): 0.9/113 kBProgress (1): 2.3/113 kBProgress (1): 3.6/113 kBProgress (1): 5.0/113 kBProgress (1): 6.4/113 kBProgress (1): 7.7/113 kBProgress (1): 9.1/113 kBProgress (1): 10/113 kB Progress (1): 12/113 kBProgress (1): 13/113 kBProgress (1): 15/113 kBProgress (1): 16/113 kBProgress (1): 17/113 kBProgress (1): 19/113 kBProgress (1): 20/113 kBProgress (1): 21/113 kBProgress (1): 23/113 kBProgress (1): 24/113 kBProgress (1): 26/113 kBProgress (1): 27/113 kBProgress (1): 28/113 kBProgress (1): 30/113 kBProgress (1): 31/113 kBProgress (1): 32/113 kBProgress (1): 34/113 kBProgress (1): 35/113 kBProgress (1): 36/113 kBProgress (1): 38/113 kBProgress (1): 39/113 kBProgress (1): 41/113 kBProgress (1): 42/113 kBProgress (1): 43/113 kBProgress (1): 45/113 kBProgress (1): 46/113 kBProgress (1): 47/113 kBProgress (1): 49/113 kBProgress (1): 53/113 kBProgress (1): 57/113 kBProgress (1): 61/113 kBProgress (1): 66/113 kBProgress (1): 70/113 kBProgress (1): 74/113 kBProgress (1): 78/113 kBProgress (1): 83/113 kBProgress (1): 87/113 kBProgress (1): 91/113 kBProgress (1): 95/113 kBProgress (1): 98/113 kBProgress (1): 103/113 kBProgress (1): 107/113 kBProgress (1): 111/113 kBProgress (1): 113 kB                        Downloaded from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-h2/1.0.0.RELEASE/r2dbc-h2-1.0.0.RELEASE.jar (113 kB at 850 kB/s)
Downloading from central: https://repo.maven.apache.org/maven2/com/h2database/h2/2.2.224/h2-2.2.224.jar
Progress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.1/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.2/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.3/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.4/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.5/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.6/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.7/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.8/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 0.9/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.0/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.1/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.2/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.3/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.4/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.5/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.6/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.7/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.8/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 1.9/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.0/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.1/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.2/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.3/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.4/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.5/2.6 MBProgress (1): 2.6/2.6 MBProgress (1): 2.6/2.6 MBProgress (1): 2.6/2.6 MBProgress (1): 2.6/2.6 MBProgress (1): 2.6 MB                        Downloaded from central: https://repo.maven.apache.org/maven2/com/h2database/h2/2.2.224/h2-2.2.224.jar (2.6 MB at 7.8 MB/s)
[INFO] 
[INFO] --- clean:3.3.2:clean (default-clean) @ retail-backend ---
[INFO] Deleting D:\code\retail-agentic\backend\target
[INFO] 
[INFO] --- jacoco:0.8.12:prepare-agent (default) @ retail-backend ---
[INFO] argLine set to -javaagent:C:\\Users\\codep\\.m2\\repository\\org\\jacoco\\org.jacoco.agent\\0.8.12\\org.jacoco.agent-0.8.12-runtime.jar=destfile=D:\\code\\retail-agentic\\backend\\target\\jacoco.exec
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ retail-backend ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ retail-backend ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 129 source files with javac [debug release 21] to target\classes
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/security/JwtService.java: Some input files use or override a deprecated API.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/security/JwtService.java: Recompile with -Xlint:deprecation for details.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/domain/auth/OAuth2Service.java: D:\code\retail-agentic\backend\src\main\java\com\retail\domain\auth\OAuth2Service.java uses unchecked or unsafe operations.
[INFO] /D:/code/retail-agentic/backend/src/main/java/com/retail/domain/auth/OAuth2Service.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ retail-backend ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ retail-backend ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 28 source files with javac [debug release 21] to target\test-classes
[INFO] /D:/code/retail-agentic/backend/src/test/java/com/retail/TestRedisConfiguration.java: Some input files use unchecked or unsafe operations.
[INFO] /D:/code/retail-agentic/backend/src/test/java/com/retail/TestRedisConfiguration.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- surefire:3.2.3:test (default-test) @ retail-backend ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.retail.controller.AuthControllerTest
WARNING: A Java agent has been loaded dynamically (C:\Users\codep\.m2\repository\net\bytebuddy\byte-buddy-agent\1.15.10\byte-buddy-agent-1.15.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction (file:/C:/Users/codep/.m2/repository/net/bytebuddy/byte-buddy/1.15.10/byte-buddy-1.15.10.jar)
WARNING: Please consider reporting this to the maintainers of class net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
17:31:13.945 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
17:31:13.964 [main] INFO com.retail.controller.AuthController -- Login successful for: test@example.com
17:31:13.993 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: existing@example.com tenant: test-tenant
17:31:14.001 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: newuser@example.com tenant: test-tenant
17:31:14.002 [main] INFO com.retail.controller.AuthController -- Registration successful for: newuser@example.com
17:31:14.007 [main] INFO com.retail.controller.AuthController -- Login attempt for email: nonexistent@example.com tenant: test-tenant
17:31:14.009 [main] WARN com.retail.controller.AuthController -- Login failed for: nonexistent@example.com
17:31:14.015 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
17:31:14.016 [main] WARN com.retail.controller.AuthController -- Login failed for: test@example.com
17:31:14.021 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: shared@example.com tenant: test-tenant
17:31:14.021 [main] INFO com.retail.controller.AuthController -- Registration successful for: shared@example.com
17:31:14.027 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
17:31:14.028 [main] ERROR com.retail.controller.AuthController -- OAuth2 login failed
java.lang.RuntimeException: Invalid token
	at com.retail.controller.AuthControllerTest.oauth2Login_invalidToken_shouldReturnUnauthorized(AuthControllerTest.java:194)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:14.035 [main] INFO com.retail.controller.AuthController -- Login attempt for email: oauth@example.com tenant: test-tenant
17:31:14.035 [main] WARN com.retail.controller.AuthController -- Login failed for: oauth@example.com
17:31:14.039 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.159 s -- in com.retail.controller.AuthControllerTest
[INFO] Running com.retail.controller.HealthControllerTest
17:31:14.148 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.retail.controller.HealthControllerTest]: HealthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:14.329 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.HealthControllerTest
17:31:14.443 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

17:31:14.722 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
17:31:14.741 INFO  c.r.controller.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 26112 (started by codep in D:\code\retail-agentic\backend)
17:31:14.741 INFO  c.r.controller.HealthControllerTest - The following 1 profile is active: "test"
17:31:16.230 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:16.255 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:16.307 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:16.337 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:16.341 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:16.454 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
17:31:16.673 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.673-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
17:31:16.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.716-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
17:31:16.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.718-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
17:31:16.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.720-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
17:31:16.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.720-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
17:31:16.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.720-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
17:31:16.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.720-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
17:31:16.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.721-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":9852,"port":53569,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--eba4e38e-df34-499f-9038-f1e13e4d90c6/mongod-database17641382544159036762","architecture":"64-bit","host":"jon-desktop"}}
17:31:16.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.721-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
17:31:16.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.721-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
17:31:16.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.721-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
17:31:16.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.721-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":53569},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--eba4e38e-df34-499f-9038-f1e13e4d90c6\\mongod-database17641382544159036762","journal":{"enabled":false},"syncPeriodSecs":0}}}}
17:31:16.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.724-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
17:31:16.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.785-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":61}}
17:31:16.786 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.786-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
17:31:16.819 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.819-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"11a9002e-dfad-459b-b7a3-699635e7fbc4"}},"options":{"uuid":{"$uuid":"11a9002e-dfad-459b-b7a3-699635e7fbc4"}}}}
17:31:16.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"11a9002e-dfad-459b-b7a3-699635e7fbc4"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1-1734137820079469900","collectionIdent":"collection-0-1734137820079469900","commitTimestamp":null}}
17:31:16.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
17:31:16.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
17:31:16.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:16.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:16.834 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.834-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
17:31:16.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.840-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
17:31:16.840 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.840-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
17:31:16.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.972-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--eba4e38e-df34-499f-9038-f1e13e4d90c6/mongod-database17641382544159036762/diagnostic.data"}}
17:31:16.973 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:16.973-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2e6dc7ec-0faa-421f-9c42-d51d8df3b3e5"}},"options":{"capped":true,"size":10485760}}}
17:31:17.008 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.007-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"2e6dc7ec-0faa-421f-9c42-d51d8df3b3e5"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3-1734137820079469900","collectionIdent":"collection-2-1734137820079469900","commitTimestamp":null}}
17:31:17.008 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.008-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
17:31:17.008 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.008-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
17:31:17.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.009-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
17:31:17.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.009-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"43f45a5d-c408-466d-8481-19211d589865"}},"options":{}}}
17:31:17.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.009-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
17:31:17.009 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.009-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":53569,"ssl":"off"}}
17:31:17.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.053-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"43f45a5d-c408-466d-8481-19211d589865"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5-1734137820079469900","collectionIdent":"collection-4-1734137820079469900","commitTimestamp":null}}
17:31:17.053 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.053-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"43f45a5d-c408-466d-8481-19211d589865"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6-1734137820079469900","collectionIdent":"collection-4-1734137820079469900","commitTimestamp":null}}
17:31:17.260 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.261-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53570","uuid":"f8d7d2cf-eb5f-463a-83ed-28b14d789659","connectionId":1,"connectionCount":1}}
17:31:17.260 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.261-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53571","uuid":"8dce8448-5848-4a72-9fe7-5a51e15cf92a","connectionId":2,"connectionCount":2}}
17:31:17.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.285-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53571","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.285-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53570","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.505 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
17:31:17.557 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
17:31:17.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.559-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53572","uuid":"40cd8ad3-9642-46c5-bfd5-0ed0b88e44b8","connectionId":3,"connectionCount":3}}
17:31:17.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.560-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53573","uuid":"bd6cfc4b-2c4f-4872-a5f7-54076d91104f","connectionId":4,"connectionCount":4}}
17:31:17.563 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
17:31:17.563 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
17:31:17.563 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
17:31:17.563 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
17:31:17.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.564-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53572","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.564 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
17:31:17.564 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
17:31:17.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.564-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53573","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.564 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
17:31:17.568 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
17:31:17.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.569-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53574","uuid":"c14aa249-5a3d-49f6-9b34-c78f258d46c4","connectionId":5,"connectionCount":5}}
17:31:17.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.569-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53575","uuid":"b34c49f4-3642-4c99-825f-a6f5e7c3d062","connectionId":6,"connectionCount":6}}
17:31:17.570 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
17:31:17.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.571-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53574","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.571-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53575","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.572 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
17:31:17.573 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.573-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53576","uuid":"7fa67d1f-8934-4ff5-adf3-1a94b61ce175","connectionId":7,"connectionCount":7}}
17:31:17.574 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.574-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53577","uuid":"eeb24a20-26f8-4619-9932-7c0ef48a541b","connectionId":8,"connectionCount":8}}
17:31:17.574 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
17:31:17.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.576-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53576","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.576-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53577","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.576 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
17:31:17.578 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
17:31:17.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.579-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53578","uuid":"20672dfe-0bac-4f79-95e0-358ad060e20e","connectionId":9,"connectionCount":9}}
17:31:17.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.580-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53579","uuid":"07a0e527-f8d0-416f-97f8-ccc40ff1f92b","connectionId":10,"connectionCount":10}}
17:31:17.581 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
17:31:17.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.581-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:53578","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:53579","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"options":{}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ea1147e9-1130-4017-bb4f-fe5b37fc71dd"}},"options":{}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a01869b3-d1c8-46be-8782-f18ffe12688f"}},"options":{}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2706324f-e2cd-47ee-8cd1-1d969d7b66e1"}},"options":{}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ec9a5bb2-4556-470a-b73d-975984974904"}},"options":{}}}
17:31:17.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.582-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"options":{}}}
17:31:17.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.584-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ab38d797-e112-49e1-a56c-dde4819798f0"}},"options":{}}}
17:31:17.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.584-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9f3fccd6-a1e4-4d69-865c-e7cc86dba2ee"}},"options":{}}}
17:31:17.585 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.585-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53580","uuid":"ea58e0a4-1a1c-4e68-b1dd-dfe14e3eaed4","connectionId":11,"connectionCount":11}}
17:31:17.585 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.585-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53581","uuid":"3ac537aa-8c33-4db5-bbd3-e7107175a1ef","connectionId":12,"connectionCount":12}}
17:31:17.587 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.587-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:53580","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.587 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.587-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:53581","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.588-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fc38f388-1c8f-4db5-9e61-8d69fb1a88e6"}},"options":{}}}
17:31:17.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.589-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f6b3502c-cf0f-4c25-a92d-122900dd5325"}},"options":{}}}
17:31:17.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.589-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53582","uuid":"a166264f-3bba-415f-9ec9-d7cffa69a044","connectionId":13,"connectionCount":13}}
17:31:17.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.589-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53583","uuid":"83c6a90c-7d42-4654-be6b-739b3c34673c","connectionId":14,"connectionCount":14}}
17:31:17.591 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.591-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:53582","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.591 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.591-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:53583","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.593 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.593-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"options":{}}}
17:31:17.593 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.593-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9cf47343-e0c5-4739-b6f1-0bb32d5906ea"}},"options":{}}}
17:31:17.594 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.594-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53584","uuid":"58e5fbb5-c66a-45f7-845d-fc6fc4dd4392","connectionId":15,"connectionCount":15}}
17:31:17.595 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.595-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53585","uuid":"968f6505-8157-4d82-8b8a-8c1e2bfb6e5f","connectionId":16,"connectionCount":16}}
17:31:17.596 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.596-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:53584","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.596 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.597-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:53585","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.597 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.597-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"59117f40-ac1c-4772-99a7-248239b8135c"}},"options":{}}}
17:31:17.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.598-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e923dcaf-0e8f-4160-83b3-31bf191c4c30"}},"options":{}}}
17:31:17.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.598-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53586","uuid":"2cff1bda-bfe0-45c3-9dd3-f441e7237325","connectionId":17,"connectionCount":17}}
17:31:17.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.599-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53587","uuid":"a6786632-b752-4f44-84bc-40e82d4c3f0d","connectionId":18,"connectionCount":18}}
17:31:17.600 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.600-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:53587","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.600 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.600-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:53586","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.602 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.602-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9094ef31-5b44-4a45-b91d-e7b3dccecba2"}},"options":{}}}
17:31:17.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.603-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53588","uuid":"ecaaba2c-9050-4586-ba58-e0a5544a0a29","connectionId":19,"connectionCount":19}}
17:31:17.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.604-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53589","uuid":"5df7bbe2-de3c-4e59-8f3f-5555c05a6b9d","connectionId":20,"connectionCount":20}}
17:31:17.605 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.605-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:53588","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.605 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.606-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:53589","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.607 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.607-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2fbcb667-eb14-4a63-88ac-d412812d810a"}},"options":{}}}
17:31:17.607 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.607-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5367509a-dda5-4f71-b7d0-dd8969a7d5c5"}},"options":{}}}
17:31:17.608 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.608-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"03dd1918-d46d-4604-93c1-4cc4454b7024"}},"options":{}}}
17:31:17.608 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.609-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53590","uuid":"8488d733-cdb1-465a-9a23-22fd3fc54ec4","connectionId":21,"connectionCount":21}}
17:31:17.609 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.609-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53591","uuid":"f901f565-2fa5-4124-b571-856fe4edaadf","connectionId":22,"connectionCount":22}}
17:31:17.610 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.610-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:53590","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.611 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.610-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:53591","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.612 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.612-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d6dc142f-06a3-4303-a896-8661c2c03762"}},"options":{}}}
17:31:17.613 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.612-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"options":{}}}
17:31:17.613 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.614-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53592","uuid":"c3f59139-1136-4c07-80db-454cc0389ee4","connectionId":23,"connectionCount":23}}
17:31:17.614 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.614-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53593","uuid":"3d2f59ce-2344-4493-a392-1c2ba5ced522","connectionId":24,"connectionCount":24}}
17:31:17.615 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.616-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:53592","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.616 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.616-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:53593","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.617-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"25df4806-f32e-4e30-b4d5-56c1bd17af5e"}},"options":{}}}
17:31:17.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.618-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53594","uuid":"b90531c0-1b6b-42b5-a213-555f99b66903","connectionId":25,"connectionCount":25}}
17:31:17.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.619-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53595","uuid":"52310f20-5ece-4fbb-8b88-04d574e58805","connectionId":26,"connectionCount":26}}
17:31:17.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.619-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"41052a61-503d-43c2-bcb3-72bec933c6b8"}},"options":{}}}
17:31:17.620 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.620-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:53595","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.620 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.620-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:53594","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.622 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.622-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}},"options":{}}}
17:31:17.622 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.622-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bf967437-228c-49c1-b925-b56d621eafd1"}},"options":{}}}
17:31:17.623 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.623-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53596","uuid":"4acef977-9ccc-4679-8b60-1818cdf0e5bb","connectionId":27,"connectionCount":27}}
17:31:17.623 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.623-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53597","uuid":"685cffca-7159-4a46-befb-de55fdbe960a","connectionId":28,"connectionCount":28}}
17:31:17.625 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.625-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:53596","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.625 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.625-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:53597","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.626-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"options":{}}}
17:31:17.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.627-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7992b401-e497-43c1-abaf-9db01d14ab9f"}},"options":{}}}
17:31:17.627 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.627-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53598","uuid":"0e6fb1eb-6191-4dfb-bebc-fdea433bbc03","connectionId":29,"connectionCount":29}}
17:31:17.627 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.628-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53599","uuid":"d2288906-7c72-4b55-bd28-64729e1f98d4","connectionId":30,"connectionCount":30}}
17:31:17.629 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.629-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:53598","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.629 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.629-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:53599","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.631-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}},"options":{}}}
17:31:17.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.631-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c688ec63-e88f-44f8-808a-096c3548f2eb"}},"options":{}}}
17:31:17.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.631-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53600","uuid":"b3b32702-bf68-4a4d-8c51-87fd017a05a8","connectionId":31,"connectionCount":31}}
17:31:17.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.632-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53601","uuid":"d88c85f2-a9c1-4642-8100-8a0c60fb8fc8","connectionId":32,"connectionCount":32}}
17:31:17.633 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.633-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:53600","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.633 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.633-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:53601","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.634 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.635-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}},"options":{}}}
17:31:17.634 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.635-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"798f22e0-26d2-4bc7-899f-e5a1fe6701bd"}},"options":{}}}
17:31:17.635 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.636-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53602","uuid":"7ccb1ec3-ea54-4d18-a8a5-5f237dcc57ef","connectionId":33,"connectionCount":33}}
17:31:17.636 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.636-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53603","uuid":"9b552778-d148-4ace-b3c0-39d197f2d8c4","connectionId":34,"connectionCount":34}}
17:31:17.637 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.637-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:53602","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.637 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.638-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:53603","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.639 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.639-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}},"options":{}}}
17:31:17.639 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.639-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0ed58ca8-bd7b-4734-86dc-b6d069d795d1"}},"options":{}}}
17:31:17.640 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.640-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53604","uuid":"7c770f0a-dcc0-427f-a381-8b63a1b1e116","connectionId":35,"connectionCount":35}}
17:31:17.640 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.640-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53605","uuid":"2a2d6696-096b-401e-ae12-ccf287c4da44","connectionId":36,"connectionCount":36}}
17:31:17.641 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.642-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:53604","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.642-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:53605","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.643 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.643-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6de692f1-b476-4039-92b9-b8239f51fba6"}},"options":{}}}
17:31:17.643 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.643-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}},"options":{}}}
17:31:17.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.644-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53606","uuid":"28ac9050-6f8c-4c5e-abaf-845e7ebbb98f","connectionId":37,"connectionCount":37}}
17:31:17.646 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.646-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:53606","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:17.647 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:17.648-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fb14a6c5-3362-427d-8187-ef33940bd9a8"}},"options":{}}}
17:31:18.149 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.150-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-17-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:18.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.150-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-52-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:18.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.150-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"16fa7918-209d-401d-b233-884bf1b1409d"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53575","protocol":"op_msg","durationMillis":568}}
17:31:18.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.228-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:18.342 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.342-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:18.454 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.454-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-40-1734137820079469900","collectionIdent":"collection-11-1734137820079469900","commitTimestamp":null}}
17:31:18.454 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.454-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-75-1734137820079469900","collectionIdent":"collection-11-1734137820079469900","commitTimestamp":null}}
17:31:18.454 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.455-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4c5235f3-ac0e-4bc3-9c97-a7ee6c6ca55a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:53577","protocol":"op_msg","durationMillis":872}}
17:31:18.531 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.532-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:18.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.544-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:18.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.556-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:18.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.569-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn10","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:18.579 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.580-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fc38f388-1c8f-4db5-9e61-8d69fb1a88e6"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-50-1734137820079469900","collectionIdent":"collection-15-1734137820079469900","commitTimestamp":null}}
17:31:18.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.580-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fc38f388-1c8f-4db5-9e61-8d69fb1a88e6"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-85-1734137820079469900","collectionIdent":"collection-15-1734137820079469900","commitTimestamp":null}}
17:31:18.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.580-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"897a4f86-5d4a-4a0e-9a8d-8d643db5cc32"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53581","protocol":"op_msg","durationMillis":992}}
17:31:18.593 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.593-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:18.605 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.605-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
17:31:18.619 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.619-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-54-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:18.619 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.619-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-88-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:18.620 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.619-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e0167776-4467-434b-bf72-0156bc0848ab"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53583","protocol":"op_msg","durationMillis":1026}}
17:31:18.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.632-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.644-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.656-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.683 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.683-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.694-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.707-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:18.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.718-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d6dc142f-06a3-4303-a896-8661c2c03762"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-62-1734137820079469900","collectionIdent":"collection-27-1734137820079469900","commitTimestamp":null}}
17:31:18.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.718-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d6dc142f-06a3-4303-a896-8661c2c03762"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-95-1734137820079469900","collectionIdent":"collection-27-1734137820079469900","commitTimestamp":null}}
17:31:18.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.718-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"91d51227-635f-4569-be0f-7a77b8b8f7c1"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53590","protocol":"op_msg","durationMillis":1106}}
17:31:18.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.729-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-63-1734137820079469900","collectionIdent":"collection-28-1734137820079469900","commitTimestamp":null}}
17:31:18.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.729-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-96-1734137820079469900","collectionIdent":"collection-28-1734137820079469900","commitTimestamp":null}}
17:31:18.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.729-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"92a5a1b2-92e1-4e71-a88f-726f42f7f7cf"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53591","protocol":"op_msg","durationMillis":1116}}
17:31:18.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.740-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:18.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.753-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:18.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-66-1734137820079469900","collectionIdent":"collection-31-1734137820079469900","commitTimestamp":null}}
17:31:18.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-99-1734137820079469900","collectionIdent":"collection-31-1734137820079469900","commitTimestamp":null}}
17:31:18.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.766-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"39172656-5cc0-460a-ba92-dbb9c6dde004"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53594","protocol":"op_msg","durationMillis":1144}}
17:31:18.788 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.788-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn26","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
17:31:18.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.798-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-69-1734137820079469900","collectionIdent":"collection-34-1734137820079469900","commitTimestamp":null}}
17:31:18.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.798-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-101-1734137820079469900","collectionIdent":"collection-34-1734137820079469900","commitTimestamp":null}}
17:31:18.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.798-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"326782e1-841a-4b3b-ab42-b9930ce67315"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53596","protocol":"op_msg","durationMillis":1171}}
17:31:18.808 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.808-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:18.819 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.819-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-71-1734137820079469900","collectionIdent":"collection-36-1734137820079469900","commitTimestamp":null}}
17:31:18.819 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.819-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-103-1734137820079469900","collectionIdent":"collection-36-1734137820079469900","commitTimestamp":null}}
17:31:18.820 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.819-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0e1387f0-7595-43cf-9325-b5a33b4601f1"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53599","protocol":"op_msg","durationMillis":1188}}
17:31:18.822 WARN  o.s.b.w.r.c.GenericReactiveWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
17:31:18.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.833-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:53575","uuid":"b34c49f4-3642-4c99-825f-a6f5e7c3d062","connectionId":6,"connectionCount":36}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:53581","uuid":"3ac537aa-8c33-4db5-bbd3-e7107175a1ef","connectionId":12,"connectionCount":33}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:53590","uuid":"8488d733-cdb1-465a-9a23-22fd3fc54ec4","connectionId":21,"connectionCount":34}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:53594","uuid":"b90531c0-1b6b-42b5-a213-555f99b66903","connectionId":25,"connectionCount":32}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:53577","uuid":"eeb24a20-26f8-4619-9932-7c0ef48a541b","connectionId":8,"connectionCount":35}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:53596","uuid":"4acef977-9ccc-4679-8b60-1818cdf0e5bb","connectionId":27,"connectionCount":30}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:53583","uuid":"83c6a90c-7d42-4654-be6b-739b3c34673c","connectionId":14,"connectionCount":31}}
17:31:18.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:53591","uuid":"f901f565-2fa5-4124-b571-856fe4edaadf","connectionId":22,"connectionCount":29}}
17:31:18.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.835-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:53599","uuid":"d2288906-7c72-4b55-bd28-64729e1f98d4","connectionId":30,"connectionCount":28}}
17:31:18.836 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.836-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:53570","uuid":"f8d7d2cf-eb5f-463a-83ed-28b14d789659","connectionId":1,"connectionCount":27}}
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.844 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.843 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:18.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.848-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-73-1734137820079469900","collectionIdent":"collection-38-1734137820079469900","commitTimestamp":null}}
17:31:18.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.848-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-105-1734137820079469900","collectionIdent":"collection-38-1734137820079469900","commitTimestamp":null}}
17:31:18.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.849-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"bba1cc5d-dee2-4992-a8fd-871d72ebe674"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53601","protocol":"op_msg","durationMillis":1214}}
17:31:18.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.849-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:53601","uuid":"d88c85f2-a9c1-4642-8100-8a0c60fb8fc8","connectionId":32,"connectionCount":26}}
17:31:18.858 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.858-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
17:31:18.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.868-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-76-1734137820079469900","collectionIdent":"collection-41-1734137820079469900","commitTimestamp":null}}
17:31:18.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.868-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-107-1734137820079469900","collectionIdent":"collection-41-1734137820079469900","commitTimestamp":null}}
17:31:18.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.868-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b1e20aae-977f-4c4a-9e02-00260d6acb0b"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53603","protocol":"op_msg","durationMillis":1228}}
17:31:18.868 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.868-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:53603","uuid":"9b552778-d148-4ace-b3c0-39d197f2d8c4","connectionId":34,"connectionCount":25}}
17:31:18.877 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.877-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn33","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
17:31:18.886 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.886-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
17:31:18.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.895-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-79-1734137820079469900","collectionIdent":"collection-44-1734137820079469900","commitTimestamp":null}}
17:31:18.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.895-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-110-1734137820079469900","collectionIdent":"collection-44-1734137820079469900","commitTimestamp":null}}
17:31:18.896 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.896-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"caeb2c93-7c5b-4469-98ae-5207e979f80e"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53605","protocol":"op_msg","durationMillis":1252}}
17:31:18.896 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.896-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:53605","uuid":"2a2d6696-096b-401e-ae12-ccf287c4da44","connectionId":36,"connectionCount":24}}
17:31:18.904 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:18.905-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
17:31:19.139 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.139-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5daaaacb-8824-4d53-b45c-2e2204e62f2a"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.351 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.351-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"76c494fe-71e3-4df0-88a6-60ff2c8b9e8a"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.376 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.376-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6f51ece1-6124-400f-b9c8-7d000548c4b2"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"fc38f388-1c8f-4db5-9e61-8d69fb1a88e6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.386 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.386-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fa644f13-3fc5-4dec-aaaa-30f1f4fdfe2f"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.386 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.386-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"fa644f13-3fc5-4dec-aaaa-30f1f4fdfe2f"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.396 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.396-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn16","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e517f055-08cc-45d2-a37a-28c446c29bce"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.396 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.396-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn16","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e517f055-08cc-45d2-a37a-28c446c29bce"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.405-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn2","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
17:31:19.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.405-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":14}}
17:31:19.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.405-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:53571","uuid":"8dce8448-5848-4a72-9fe7-5a51e15cf92a","connectionId":2,"connectionCount":23}}
17:31:19.407 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.407-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"84a090ff-9199-4a37-a684-87742a196a5a"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.407 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.407-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn18","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"84a090ff-9199-4a37-a684-87742a196a5a"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.418-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e8e193a0-ea5e-4854-bbc0-78ee709e747f"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.418-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e8e193a0-ea5e-4854-bbc0-78ee709e747f"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.429-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0a1290a8-585a-43da-8c8f-bad220d4b046"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.430-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"0a1290a8-585a-43da-8c8f-bad220d4b046"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.440 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.440-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"035cc159-00f4-4ab7-bb73-262e1ff17051"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.440 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.440-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"035cc159-00f4-4ab7-bb73-262e1ff17051"}},"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}}}}
17:31:19.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.451-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a54fe84d-1ad8-4d35-b5d8-14d793af11ab"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.451 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.451-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"a54fe84d-1ad8-4d35-b5d8-14d793af11ab"}},"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}}}}
17:31:19.461 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.462-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn24","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bad4afe7-34cf-40d7-920a-5e276e6a4f35"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.462 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.462-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn24","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"bad4afe7-34cf-40d7-920a-5e276e6a4f35"}},"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}}}}
17:31:19.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.471-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn26","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e2396898-84ff-456c-87b3-3adf3eba059e"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.471-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn26","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e2396898-84ff-456c-87b3-3adf3eba059e"}},"collectionUUID":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}}}}
17:31:19.480 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.480-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f3295061-5887-460b-a8d1-71beb1c18141"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.480 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.480-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"f3295061-5887-460b-a8d1-71beb1c18141"}},"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}}}}
17:31:19.489 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.489-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"34b89859-f5d4-4169-aff4-6416ff31cdc3"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.489 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.489-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"34b89859-f5d4-4169-aff4-6416ff31cdc3"}},"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}}}}
17:31:19.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.498-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f20c08c7-75f7-4049-a4a1-fa025f18c3ad"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
17:31:19.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.498-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"f20c08c7-75f7-4049-a4a1-fa025f18c3ad"}},"collectionUUID":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}}}}
17:31:19.507 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.507-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn33","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"05a183fd-60ae-45f1-a1de-e7a550400c89"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.507 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.507-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn33","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"05a183fd-60ae-45f1-a1de-e7a550400c89"}},"collectionUUID":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}}}}
17:31:19.515 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.515-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fce88ce9-46d8-42cf-8b61-081f18bf618b"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.515 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.515-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"fce88ce9-46d8-42cf-8b61-081f18bf618b"}},"collectionUUID":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}}}}
17:31:19.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.523-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1b259455-3518-42ed-bc0c-fa9281e17b72"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.524-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"1b259455-3518-42ed-bc0c-fa9281e17b72"}},"collectionUUID":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.539-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-112-1734137820079469900","collectionIdent":"collection-11-1734137820079469900","commitTimestamp":null}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"76c494fe-71e3-4df0-88a6-60ff2c8b9e8a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"76c494fe-71e3-4df0-88a6-60ff2c8b9e8a"}}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"48f9b1c8-15c2-474a-9bb7-9c257b643922"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn10","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"61016138-38dc-4336-a130-2b95aa7959a9"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"48f9b1c8-15c2-474a-9bb7-9c257b643922"}},"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}}}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0e286eef-327a-4259-a42f-16fb7a889a53"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":16278}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53578","protocol":"op_msg","durationMillis":1955}}
17:31:19.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn10","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"61016138-38dc-4336-a130-2b95aa7959a9"}},"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}}}}
17:31:19.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.540-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:53578","uuid":"20672dfe-0bac-4f79-95e0-358ad060e20e","connectionId":9,"connectionCount":22}}
17:31:19.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.549-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fc38f388-1c8f-4db5-9e61-8d69fb1a88e6"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-113-1734137820079469900","collectionIdent":"collection-15-1734137820079469900","commitTimestamp":null}}
17:31:19.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.549-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6f51ece1-6124-400f-b9c8-7d000548c4b2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.549-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6f51ece1-6124-400f-b9c8-7d000548c4b2"}}}}
17:31:19.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.549-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f82ff60e-3fe7-4db8-a8f2-d97e33954a11"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53582","protocol":"op_msg","durationMillis":1955}}
17:31:19.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.549-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:53582","uuid":"a166264f-3bba-415f-9ec9-d7cffa69a044","connectionId":13,"connectionCount":21}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-114-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5daaaacb-8824-4d53-b45c-2e2204e62f2a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"40ae0dbd-50fe-4f15-88b9-3ed791d1429c"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"indexes":1,"firstIndex":{"name":"tenant_timestamp_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5daaaacb-8824-4d53-b45c-2e2204e62f2a"}}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9136e911-c04c-4b9b-8e86-f6376c2c0682"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn3","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"40ae0dbd-50fe-4f15-88b9-3ed791d1429c"}},"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn5","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"9136e911-c04c-4b9b-8e86-f6376c2c0682"}},"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6f649a29-5a01-4978-a42e-eea08320805c"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn4","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6f649a29-5a01-4978-a42e-eea08320805c"}},"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}}}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.557-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3534f3e1-d7fd-4678-b8d2-3288d49d12dc"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":392345}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53576","protocol":"op_msg","durationMillis":1975}}
17:31:19.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.558-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:53576","uuid":"7fa67d1f-8934-4ff5-adf3-1a94b61ce175","connectionId":7,"connectionCount":20}}
17:31:19.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.566-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-115-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.566-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"035cc159-00f4-4ab7-bb73-262e1ff17051"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.566-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"035cc159-00f4-4ab7-bb73-262e1ff17051"}}}}
17:31:19.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.566-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"bd625f61-cd8d-4487-8f95-fb1524f34ef2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53586","protocol":"op_msg","durationMillis":1958}}
17:31:19.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.566-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:53586","uuid":"2cff1bda-bfe0-45c3-9dd3-f441e7237325","connectionId":17,"connectionCount":19}}
17:31:19.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.575-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-116-1734137820079469900","collectionIdent":"collection-28-1734137820079469900","commitTimestamp":null}}
17:31:19.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.575-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a54fe84d-1ad8-4d35-b5d8-14d793af11ab"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.575-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a54fe84d-1ad8-4d35-b5d8-14d793af11ab"}}}}
17:31:19.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.575-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9249cc68-0e53-41d6-8548-a27ee23d42d0"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53592","protocol":"op_msg","durationMillis":1957}}
17:31:19.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.575-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:53592","uuid":"c3f59139-1136-4c07-80db-454cc0389ee4","connectionId":23,"connectionCount":18}}
17:31:19.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.584-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1495f8bf-a1b7-40de-8637-a7888ff9d204"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-117-1734137820079469900","collectionIdent":"collection-31-1734137820079469900","commitTimestamp":null}}
17:31:19.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.584-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn26","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e2396898-84ff-456c-87b3-3adf3eba059e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.584-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn26","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e2396898-84ff-456c-87b3-3adf3eba059e"}}}}
17:31:19.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.584-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2d710362-7c68-4cab-912a-4329d1b739b4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53595","protocol":"op_msg","durationMillis":1962}}
17:31:19.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.585-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:53595","uuid":"52310f20-5ece-4fbb-8b88-04d574e58805","connectionId":26,"connectionCount":17}}
17:31:19.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.599-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2c0be95-3b41-4c25-82c3-cc95431767c6"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-118-1734137820079469900","collectionIdent":"collection-28-1734137820079469900","commitTimestamp":null}}
17:31:19.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.599-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn24","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bad4afe7-34cf-40d7-920a-5e276e6a4f35"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.599-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn24","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bad4afe7-34cf-40d7-920a-5e276e6a4f35"}}}}
17:31:19.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.599-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"41e6305d-c428-4837-9a7d-afc4442f40c5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":17849}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53593","protocol":"op_msg","durationMillis":1980}}
17:31:19.599 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.599-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:53593","uuid":"3d2f59ce-2344-4493-a392-1c2ba5ced522","connectionId":24,"connectionCount":16}}
17:31:19.621 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.621-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-119-1734137820079469900","collectionIdent":"collection-34-1734137820079469900","commitTimestamp":null}}
17:31:19.621 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.621-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f3295061-5887-460b-a8d1-71beb1c18141"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.621 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.621-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f3295061-5887-460b-a8d1-71beb1c18141"}}}}
17:31:19.621 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.621-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2ab70c79-0ab8-4ec2-a6a5-b460a9772d89"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53597","protocol":"op_msg","durationMillis":1995}}
17:31:19.621 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.622-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:53597","uuid":"685cffca-7159-4a46-befb-de55fdbe960a","connectionId":28,"connectionCount":15}}
17:31:19.639 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.639-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-120-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.640 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.640-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fa644f13-3fc5-4dec-aaaa-30f1f4fdfe2f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.640 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.640-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fa644f13-3fc5-4dec-aaaa-30f1f4fdfe2f"}}}}
17:31:19.640 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.640-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8b0f813e-7ac3-4dcd-a142-98961c69f359"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53584","protocol":"op_msg","durationMillis":2042}}
17:31:19.641 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.640-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:53584","uuid":"58e5fbb5-c66a-45f7-845d-fc6fc4dd4392","connectionId":15,"connectionCount":14}}
17:31:19.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.656-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-121-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.657-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn16","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e517f055-08cc-45d2-a37a-28c446c29bce"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.657-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn16","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e517f055-08cc-45d2-a37a-28c446c29bce"}}}}
17:31:19.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.657-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c3305a32-7eca-4834-aa75-15c246458c92"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":40647}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53585","protocol":"op_msg","durationMillis":2058}}
17:31:19.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.657-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:53585","uuid":"968f6505-8157-4d82-8b8a-8c1e2bfb6e5f","connectionId":16,"connectionCount":13}}
17:31:19.667 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.667-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-122-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.667 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.667-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"84a090ff-9199-4a37-a684-87742a196a5a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.667 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.667-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"84a090ff-9199-4a37-a684-87742a196a5a"}}}}
17:31:19.667 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.667-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c76025ad-71c6-4349-947f-11e4a15455ee"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":35149}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53587","protocol":"op_msg","durationMillis":2064}}
17:31:19.667 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.667-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:53587","uuid":"a6786632-b752-4f44-84bc-40e82d4c3f0d","connectionId":18,"connectionCount":12}}
17:31:19.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.677-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-123-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.677-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e8e193a0-ea5e-4854-bbc0-78ee709e747f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.677-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e8e193a0-ea5e-4854-bbc0-78ee709e747f"}}}}
17:31:19.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.677-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7f6a3c1f-520f-4eae-a0a5-75b91ed215ea"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":27202}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53588","protocol":"op_msg","durationMillis":2070}}
17:31:19.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.678-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:53588","uuid":"ecaaba2c-9050-4586-ba58-e0a5544a0a29","connectionId":19,"connectionCount":11}}
17:31:19.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.687-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"24f4e879-187b-4f99-8d82-285c99a2aeba"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-124-1734137820079469900","collectionIdent":"collection-34-1734137820079469900","commitTimestamp":null}}
17:31:19.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.687-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"34b89859-f5d4-4169-aff4-6416ff31cdc3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.687-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"34b89859-f5d4-4169-aff4-6416ff31cdc3"}}}}
17:31:19.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.688-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"94ca8cb0-173a-48b3-8bbc-e829da8cb41f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53598","protocol":"op_msg","durationMillis":2056}}
17:31:19.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.688-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:53598","uuid":"0e6fb1eb-6191-4dfb-bebc-fdea433bbc03","connectionId":29,"connectionCount":10}}
17:31:19.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.697-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"98c9927f-d61d-4784-9dbe-42535b9fd550"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-125-1734137820079469900","collectionIdent":"collection-18-1734137820079469900","commitTimestamp":null}}
17:31:19.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.697-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0a1290a8-585a-43da-8c8f-bad220d4b046"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.697-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0a1290a8-585a-43da-8c8f-bad220d4b046"}}}}
17:31:19.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.697-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d9fbe78c-1d12-4431-913f-7b8ba90ae365"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":20662}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53589","protocol":"op_msg","durationMillis":2090}}
17:31:19.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.697-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:53589","uuid":"5df7bbe2-de3c-4e59-8f3f-5555c05a6b9d","connectionId":20,"connectionCount":9}}
17:31:19.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.707-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce7bee20-0c4e-45d5-8219-d27f9ff88fdd"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-126-1734137820079469900","collectionIdent":"collection-36-1734137820079469900","commitTimestamp":null}}
17:31:19.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.707-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f20c08c7-75f7-4049-a4a1-fa025f18c3ad"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.707-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f20c08c7-75f7-4049-a4a1-fa025f18c3ad"}}}}
17:31:19.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.707-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7c9db7f9-6359-4e54-b379-3f942da5793f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53600","protocol":"op_msg","durationMillis":2072}}
17:31:19.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.707-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:53600","uuid":"b3b32702-bf68-4a4d-8c51-87fd017a05a8","connectionId":31,"connectionCount":8}}
17:31:19.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.715-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7c44a91b-3c76-4308-849e-06568a2e1788"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-127-1734137820079469900","collectionIdent":"collection-38-1734137820079469900","commitTimestamp":null}}
17:31:19.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.715-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn33","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"05a183fd-60ae-45f1-a1de-e7a550400c89"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.715-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn33","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"05a183fd-60ae-45f1-a1de-e7a550400c89"}}}}
17:31:19.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.715-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0ef92fea-f68a-40db-a9d8-d17394f5c984"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53602","protocol":"op_msg","durationMillis":2075}}
17:31:19.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.715-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:53602","uuid":"7ccb1ec3-ea54-4d18-a8a5-5f237dcc57ef","connectionId":33,"connectionCount":7}}
17:31:19.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.724-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f69f4972-7f32-49b0-8bcb-e6ade72f1800"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-128-1734137820079469900","collectionIdent":"collection-41-1734137820079469900","commitTimestamp":null}}
17:31:19.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.724-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fce88ce9-46d8-42cf-8b61-081f18bf618b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.724-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fce88ce9-46d8-42cf-8b61-081f18bf618b"}}}}
17:31:19.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.724-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9423a7c1-a90f-43e2-a0c7-60a49c96dd5c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53604","protocol":"op_msg","durationMillis":2081}}
17:31:19.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.724-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:53604","uuid":"7c770f0a-dcc0-427f-a381-8b63a1b1e116","connectionId":35,"connectionCount":6}}
17:31:19.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.742-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"12a6624c-98fe-4466-82ed-1e969e29a4e0"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-129-1734137820079469900","collectionIdent":"collection-44-1734137820079469900","commitTimestamp":null}}
17:31:19.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.742-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1b259455-3518-42ed-bc0c-fa9281e17b72"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.742-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1b259455-3518-42ed-bc0c-fa9281e17b72"}}}}
17:31:19.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.742-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d534d789-c7ee-42e4-b1ac-2851271e0599"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53606","protocol":"op_msg","durationMillis":2094}}
17:31:19.742 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.742-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:53606","uuid":"28ac9050-6f8c-4c5e-abaf-845e7ebbb98f","connectionId":37,"connectionCount":5}}
17:31:19.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.751-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-130-1734137820079469900","collectionIdent":"collection-11-1734137820079469900","commitTimestamp":null}}
17:31:19.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.752-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"48f9b1c8-15c2-474a-9bb7-9c257b643922"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.752-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"48f9b1c8-15c2-474a-9bb7-9c257b643922"}}}}
17:31:19.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.752-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"879cb6b2-969e-4500-95ee-5e8df7ef28f3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":172263}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53580","protocol":"op_msg","durationMillis":2162}}
17:31:19.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.752-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:53580","uuid":"ea58e0a4-1a1c-4e68-b1dd-dfe14e3eaed4","connectionId":11,"connectionCount":4}}
17:31:19.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-131-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:19.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.766-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9136e911-c04c-4b9b-8e86-f6376c2c0682"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.766-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9136e911-c04c-4b9b-8e86-f6376c2c0682"}}}}
17:31:19.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.766-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"86bda60c-288c-4150-b22c-c1a2109f1f84"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":341330}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53574","protocol":"op_msg","durationMillis":2184}}
17:31:19.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.766-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:53574","uuid":"c14aa249-5a3d-49f6-9b34-c78f258d46c4","connectionId":5,"connectionCount":3}}
17:31:19.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.777-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e1b98c05-1576-424c-8554-f11025babd93"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-132-1734137820079469900","collectionIdent":"collection-11-1734137820079469900","commitTimestamp":null}}
17:31:19.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.778-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn10","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"61016138-38dc-4336-a130-2b95aa7959a9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.778-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn10","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"61016138-38dc-4336-a130-2b95aa7959a9"}}}}
17:31:19.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.778-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"449050e6-ddca-42c8-8556-cc402de3e19c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":180467,"W":27323}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53579","protocol":"op_msg","durationMillis":2194}}
17:31:19.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.778-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:53579","uuid":"07a0e527-f8d0-416f-97f8-ccc40ff1f92b","connectionId":10,"connectionCount":2}}
17:31:19.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.790-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-133-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:19.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.790-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"40ae0dbd-50fe-4f15-88b9-3ed791d1429c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.790-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"40ae0dbd-50fe-4f15-88b9-3ed791d1429c"}}}}
17:31:19.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.790-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"befa281b-af32-4529-9d44-b310074a9978"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":26143,"W":14612}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53572","protocol":"op_msg","durationMillis":2207}}
17:31:19.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.790-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:53572","uuid":"40cd8ad3-9642-46c5-bfd5-0ed0b88e44b8","connectionId":3,"connectionCount":1}}
17:31:19.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.802-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ade7c4cc-9b43-4bdb-a2f3-9a6e433c813e"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-134-1734137820079469900","collectionIdent":"collection-7-1734137820079469900","commitTimestamp":null}}
17:31:19.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.802-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6f649a29-5a01-4978-a42e-eea08320805c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:19.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.802-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6f649a29-5a01-4978-a42e-eea08320805c"}}}}
17:31:19.802 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.802-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"de5ca1e4-6b13-499b-a498-af86956b5507"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":283404,"W":23484}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53573","protocol":"op_msg","durationMillis":2220}}
17:31:19.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:19.803-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:53573","uuid":"bd6cfc4b-2c4f-4872-a5f7-54076d91104f","connectionId":4,"connectionCount":0}}
17:31:20.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.861-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53608","uuid":"8b947cb5-edf0-45e9-84b9-a77a5b74a42b","connectionId":38,"connectionCount":1}}
17:31:20.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.861-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:53608"}}}
17:31:20.861 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
17:31:20.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.862-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:53608","uuid":"8b947cb5-edf0-45e9-84b9-a77a5b74a42b","connectionId":38,"connectionCount":0}}
17:31:20.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.962-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53609","uuid":"96b912c9-4f99-40a8-8b44-932db499b545","connectionId":39,"connectionCount":1}}
17:31:20.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.963-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
17:31:20.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.963-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
17:31:20.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.963-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
17:31:20.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.963-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
17:31:20.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.963-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
17:31:20.964 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.964-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
17:31:20.964 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.964-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
17:31:20.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.965-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.989-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
17:31:20.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:20.990-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
17:31:21.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.012-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":22}}
17:31:21.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.012-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
17:31:21.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.012-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
17:31:21.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.012-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
17:31:21.013 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.014-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
17:31:21.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.014-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
17:31:21.149 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
17:31:21.159 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 97 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 108 common frames omitted



============================
CONDITIONS EVALUATION REPORT
============================


Positive matches:
-----------------

    None


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



17:31:21.163 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.HealthControllerTest@a263df9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@78a03662 testClass = com.retail.controller.HealthControllerTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1ac32da1 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 97 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 108 common frames omitted
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 7.114 s <<< FAILURE! -- in com.retail.controller.HealthControllerTest
[ERROR] com.retail.controller.HealthControllerTest.health_ShouldReturnStatusUp -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@78a03662 testClass = com.retail.controller.HealthControllerTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1ac32da1 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 41 more
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 52 more

[INFO] Running com.retail.controller.ProductControllerIntegrationTest
17:31:21.171 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.controller.ProductControllerIntegrationTest]: ProductControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:21.175 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.ProductControllerIntegrationTest
17:31:21.178 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

17:31:21.210 INFO  c.r.c.ProductControllerIntegrationTest - Starting ProductControllerIntegrationTest using Java 25.0.1 with PID 26112 (started by codep in D:\code\retail-agentic\backend)
17:31:21.210 INFO  c.r.c.ProductControllerIntegrationTest - The following 1 profile is active: "test"
17:31:21.596 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:21.607 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:21.616 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:21.619 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:21.620 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:21.672 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
17:31:21.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.748-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
17:31:21.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.748-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
17:31:21.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.749-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
17:31:21.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.750-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
17:31:21.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.750-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
17:31:21.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.750-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
17:31:21.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.750-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
17:31:21.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.751-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":5504,"port":53610,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--a62a8b13-d72b-4e0d-a349-32d183388b8d/mongod-database37506787018887238","architecture":"64-bit","host":"jon-desktop"}}
17:31:21.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.751-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
17:31:21.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.751-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
17:31:21.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.751-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
17:31:21.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.751-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":53610},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--a62a8b13-d72b-4e0d-a349-32d183388b8d\\mongod-database37506787018887238","journal":{"enabled":false},"syncPeriodSecs":0}}}}
17:31:21.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.752-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
17:31:21.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.797-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":45}}
17:31:21.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.797-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
17:31:21.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.823-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"423e959d-7074-46a6-9243-92a037e31202"}},"options":{"uuid":{"$uuid":"423e959d-7074-46a6-9243-92a037e31202"}}}}
17:31:21.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"423e959d-7074-46a6-9243-92a037e31202"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1-5790503045160426635","collectionIdent":"collection-0-5790503045160426635","commitTimestamp":null}}
17:31:21.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
17:31:21.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
17:31:21.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:21.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:21.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.849-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
17:31:21.854 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.854-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
17:31:21.854 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.854-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
17:31:21.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.988-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--a62a8b13-d72b-4e0d-a349-32d183388b8d/mongod-database37506787018887238/diagnostic.data"}}
17:31:21.989 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:21.989-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ff7b6896-e27b-4a1a-b069-7e1dea444d05"}},"options":{"capped":true,"size":10485760}}}
17:31:22.035 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.035-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ff7b6896-e27b-4a1a-b069-7e1dea444d05"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3-5790503045160426635","collectionIdent":"collection-2-5790503045160426635","commitTimestamp":null}}
17:31:22.036 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.036-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
17:31:22.036 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.036-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
17:31:22.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.038-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"afbeb74e-4a33-4960-93d5-8e5670cb1cf4"}},"options":{}}}
17:31:22.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.038-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
17:31:22.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.038-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
17:31:22.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.038-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":53610,"ssl":"off"}}
17:31:22.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.094-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"afbeb74e-4a33-4960-93d5-8e5670cb1cf4"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5-5790503045160426635","collectionIdent":"collection-4-5790503045160426635","commitTimestamp":null}}
17:31:22.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.094-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"afbeb74e-4a33-4960-93d5-8e5670cb1cf4"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6-5790503045160426635","collectionIdent":"collection-4-5790503045160426635","commitTimestamp":null}}
17:31:22.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.102-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53611","uuid":"7863d483-3481-4712-a39a-f271027bf412","connectionId":1,"connectionCount":1}}
17:31:22.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.103-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53611","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.102 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.103-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53612","uuid":"38459497-fb15-45cb-9ade-804ac37b2978","connectionId":2,"connectionCount":2}}
17:31:22.103 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.103-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53612","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.147 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
17:31:22.147 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
17:31:22.147 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
17:31:22.149 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
17:31:22.149 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
17:31:22.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.150-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53614","uuid":"4f70af8b-5f6c-4d1a-b854-33c934f78558","connectionId":3,"connectionCount":3}}
17:31:22.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.151-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53613","uuid":"96f653cf-a91f-4b45-be3a-e0fc3a0c7a1b","connectionId":4,"connectionCount":4}}
17:31:22.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.151-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53614","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.151-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53613","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.151 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
17:31:22.151 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
17:31:22.152 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
17:31:22.152 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
17:31:22.152 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
17:31:22.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.152-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"options":{}}}
17:31:22.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.152-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bee2bab9-73d7-4f56-9ec8-5b4469aebd18"}},"options":{}}}
17:31:22.153 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.153-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53615","uuid":"63adb2a1-6e94-4d6a-a570-5093f7464535","connectionId":5,"connectionCount":5}}
17:31:22.153 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.153-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53615","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.153 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.153-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53616","uuid":"f4b84185-5695-4809-9942-dbad7f0a76b4","connectionId":6,"connectionCount":6}}
17:31:22.154 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.154-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53616","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.154 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
17:31:22.154 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
17:31:22.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.155-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2bf8e288-e506-49c0-8f0d-a15246579aca"}},"options":{}}}
17:31:22.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.155-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a64dcbec-fe6f-4ed0-bdaa-272b7c8ff303"}},"options":{}}}
17:31:22.156 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.156-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53617","uuid":"3c98c37d-5a96-4e8a-b819-424bc52962c4","connectionId":7,"connectionCount":7}}
17:31:22.156 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.156-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53617","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.156 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
17:31:22.156 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.156-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53618","uuid":"20392c1d-53da-431d-b601-9c72dde1f1de","connectionId":8,"connectionCount":8}}
17:31:22.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.157-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53618","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.158-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7bc49b0f-f883-4645-9d6f-74fd21ed3091"}},"options":{}}}
17:31:22.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.158-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed947f34-003a-4c65-b07d-4a7773174ae1"}},"options":{}}}
17:31:22.158 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
17:31:22.158 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.159-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53619","uuid":"74d2ab1d-8341-4ffb-8298-8cddd4be7b76","connectionId":9,"connectionCount":9}}
17:31:22.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.159-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53620","uuid":"760c1554-fadd-44dc-9109-fdce6e6fbfe5","connectionId":10,"connectionCount":10}}
17:31:22.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.159-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:53619","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.159 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.160-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:53620","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.160 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
17:31:22.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.161-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"options":{}}}
17:31:22.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.161-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a6ee2ff7-3e4d-4f70-8c12-6c8718537a90"}},"options":{}}}
17:31:22.162 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.162-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53621","uuid":"48fbe757-4be9-48b4-a113-630b2439e658","connectionId":11,"connectionCount":11}}
17:31:22.162 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.162-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53622","uuid":"edc02285-ae53-4149-ace4-d9bcff507641","connectionId":12,"connectionCount":12}}
17:31:22.162 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.163-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:53621","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.163 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.163-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:53622","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.163 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
17:31:22.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.164-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"58b1845d-7ab8-4857-b223-3a18868c675c"}},"options":{}}}
17:31:22.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.164-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"981d96d5-db3c-4a9b-b224-10e10c053377"}},"options":{}}}
17:31:22.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53624","uuid":"06d6a4f8-ce02-44cb-9594-2a85ab34bd4e","connectionId":13,"connectionCount":13}}
17:31:22.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53623","uuid":"f01afc38-ffbd-43e4-b7b2-add5ae077b61","connectionId":14,"connectionCount":14}}
17:31:22.166 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.166-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:53624","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.166 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
17:31:22.166 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.166-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:53623","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.166 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
17:31:22.166 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
17:31:22.166 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
17:31:22.166 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
17:31:22.167 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.167-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"options":{}}}
17:31:22.167 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.167-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c77b59c9-969d-4639-9925-3d1d84b4b3cb"}},"options":{}}}
17:31:22.167 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
17:31:22.167 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
17:31:22.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.168-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53625","uuid":"8b8cd70a-dda9-4b6a-92f6-c1e251821c0a","connectionId":15,"connectionCount":15}}
17:31:22.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.169-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53626","uuid":"372ccc7b-0b44-40af-adc9-f50af7aec71d","connectionId":16,"connectionCount":16}}
17:31:22.169 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
17:31:22.169 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
17:31:22.169 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
17:31:22.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.169-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:53625","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.169-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:53626","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.170 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
17:31:22.170 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
17:31:22.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.170-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bb914005-16a2-423a-8eee-48796e17e10b"}},"options":{}}}
17:31:22.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.170-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}},"options":{}}}
17:31:22.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.171-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53627","uuid":"49839745-08aa-4e91-b2c2-ae96a141b59d","connectionId":17,"connectionCount":17}}
17:31:22.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.172-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53628","uuid":"15ed4da1-fa8c-41b4-b6d9-adc13ed9d64f","connectionId":18,"connectionCount":18}}
17:31:22.172 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.172-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:53627","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.172 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.172-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:53628","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.173 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.173-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"80dbb7a7-a4a9-44a5-af1d-0ed25d848fae"}},"options":{}}}
17:31:22.173 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.173-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}},"options":{}}}
17:31:22.174 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.174-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53629","uuid":"2e96d824-d401-44e9-a19d-682f6561aa32","connectionId":19,"connectionCount":19}}
17:31:22.174 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.174-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53630","uuid":"988cd680-074a-45d3-951e-426a5f699f79","connectionId":20,"connectionCount":20}}
17:31:22.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.175-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:53629","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.175 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.175-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:53630","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.176-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"84edb2f1-fe48-46c3-a939-bcee3eb1d090"}},"options":{}}}
17:31:22.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.176-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"options":{}}}
17:31:22.177 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.177-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53631","uuid":"8b70c05f-c0dc-4bb3-9d5d-795322b1476d","connectionId":21,"connectionCount":21}}
17:31:22.177 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.177-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53632","uuid":"bd2d706d-aa8d-41eb-a93e-c86f9fb1470d","connectionId":22,"connectionCount":22}}
17:31:22.178 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.178-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:53631","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.178 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.178-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:53632","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.179 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.179-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"08869afe-17ec-449e-abb2-e66cc723cd85"}},"options":{}}}
17:31:22.179 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.179-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"83e9b839-5cbf-4d91-97eb-f065c7915de4"}},"options":{}}}
17:31:22.180 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.180-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53633","uuid":"7b740bbd-5086-4eef-b75f-5162ab611843","connectionId":23,"connectionCount":23}}
17:31:22.180 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.180-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53634","uuid":"02e9b269-dd71-49b7-9448-769a1192bd5c","connectionId":24,"connectionCount":24}}
17:31:22.181 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.181-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:53633","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.181 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.181-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:53634","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.182 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.182-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a1cb9062-a085-4002-9e19-fef89a6b332e"}},"options":{}}}
17:31:22.182 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.182-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"51e9ba12-56de-4167-b5e3-5162ba75c3e5"}},"options":{}}}
17:31:22.183 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.183-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53635","uuid":"c7e878e0-c233-4380-bf92-604bf22ee956","connectionId":25,"connectionCount":25}}
17:31:22.183 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.183-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53636","uuid":"8ae40f98-799a-4e99-a68d-9080ec0d2491","connectionId":26,"connectionCount":26}}
17:31:22.183 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.183-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:53635","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.184 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.184-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:53636","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.184 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.185-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"options":{}}}
17:31:22.185 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.185-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fa60fce8-3e77-46a8-a336-17fb08870a9f"}},"options":{}}}
17:31:22.185 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.186-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53637","uuid":"50a76b52-9a14-4bf4-aead-f535e1443224","connectionId":27,"connectionCount":27}}
17:31:22.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.186-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53638","uuid":"81b0a33f-fadc-4d21-9506-a60e70de67b3","connectionId":28,"connectionCount":28}}
17:31:22.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.186-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:53637","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.186 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.187-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:53638","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.187 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.188-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"87f1db93-7673-41dd-aa42-16e0f8d7974c"}},"options":{}}}
17:31:22.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.188-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4039eeee-5e70-4ff7-8cdf-fd91844062bc"}},"options":{}}}
17:31:22.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.189-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53639","uuid":"da0a41d5-5b80-4967-85ba-9cda79aea7ff","connectionId":29,"connectionCount":29}}
17:31:22.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.189-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53640","uuid":"5fa6017a-0114-40b2-aff9-df3a0517ad5c","connectionId":30,"connectionCount":30}}
17:31:22.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.189-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:53640","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.189-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:53639","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.191-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3cce8cd5-9347-4a23-a03f-06a5b1a18364"}},"options":{}}}
17:31:22.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.191-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6201674a-c96e-4eb2-8562-7bafc9296233"}},"options":{}}}
17:31:22.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.192-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53641","uuid":"b73f3ddc-14e5-4d97-82de-fe8aae2d5695","connectionId":31,"connectionCount":31}}
17:31:22.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.192-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53642","uuid":"377adc4f-2662-470e-ad60-053b2709e23d","connectionId":32,"connectionCount":32}}
17:31:22.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.192-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:53641","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.193 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.193-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:53642","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.194-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d9ce0710-61f9-4c94-ba9a-8e230d46c3a1"}},"options":{}}}
17:31:22.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.194-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}},"options":{}}}
17:31:22.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.195-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53643","uuid":"ae886db2-bafb-4cf6-8914-83fff48407bf","connectionId":33,"connectionCount":33}}
17:31:22.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.195-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53644","uuid":"052e9f97-0099-46f8-a72d-bbaff2fa7140","connectionId":34,"connectionCount":34}}
17:31:22.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.195-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:53643","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.196 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.197-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:53644","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.197 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.197-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d0f470ca-40f2-4ef5-a94b-86ef32284c90"}},"options":{}}}
17:31:22.203 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.203-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}},"options":{}}}
17:31:22.204 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.204-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53645","uuid":"f02b0587-d20b-4f05-847e-9196c41ac439","connectionId":35,"connectionCount":35}}
17:31:22.204 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.204-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:53645","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.204 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.204-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53646","uuid":"3120df8b-c8bc-4835-844d-f642b8a502b0","connectionId":36,"connectionCount":36}}
17:31:22.205 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.205-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:53646","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.206 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.206-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1f2189cf-51d0-4078-ac46-63ef9285f04b"}},"options":{}}}
17:31:22.206 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.206-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}},"options":{}}}
17:31:22.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.207-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53647","uuid":"39c0251c-9373-4d1d-8aac-b8e476e3dc50","connectionId":37,"connectionCount":37}}
17:31:22.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.208-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:53647","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:22.209 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.209-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1e3dc2c1-9a52-4eb7-9027-df80f23d8ab8"}},"options":{}}}
17:31:22.399 WARN  o.s.b.w.r.c.AnnotationConfigReactiveWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
17:31:22.413 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.414-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:53611","uuid":"7863d483-3481-4712-a39a-f271027bf412","connectionId":1,"connectionCount":36}}
17:31:22.413 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.413 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.414 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.415 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:22.616 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.616-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-15-5790503045160426635","collectionIdent":"collection-7-5790503045160426635","commitTimestamp":null}}
17:31:22.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.617-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-49-5790503045160426635","collectionIdent":"collection-7-5790503045160426635","commitTimestamp":null}}
17:31:22.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.617-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"70cfe849-0e06-4fb6-b133-a86b2b3e6a52"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:53614","protocol":"op_msg","durationMillis":464}}
17:31:22.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.617-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:53614","uuid":"4f70af8b-5f6c-4d1a-b854-33c934f78558","connectionId":3,"connectionCount":35}}
17:31:22.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.722-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:22.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.847-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:22.899 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.899-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a64dcbec-fe6f-4ed0-bdaa-272b7c8ff303"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-45-5790503045160426635","collectionIdent":"collection-10-5790503045160426635","commitTimestamp":null}}
17:31:22.899 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.899-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a64dcbec-fe6f-4ed0-bdaa-272b7c8ff303"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-80-5790503045160426635","collectionIdent":"collection-10-5790503045160426635","commitTimestamp":null}}
17:31:22.899 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.900-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0add8408-8743-4fad-ad76-58c683a38754"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53616","protocol":"op_msg","durationMillis":744}}
17:31:22.899 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.900-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:53616","uuid":"f4b84185-5695-4809-9942-dbad7f0a76b4","connectionId":6,"connectionCount":34}}
17:31:22.913 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.913-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
17:31:22.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.922-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed947f34-003a-4c65-b07d-4a7773174ae1"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-47-5790503045160426635","collectionIdent":"collection-12-5790503045160426635","commitTimestamp":null}}
17:31:22.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.922-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed947f34-003a-4c65-b07d-4a7773174ae1"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-82-5790503045160426635","collectionIdent":"collection-12-5790503045160426635","commitTimestamp":null}}
17:31:22.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.922-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1fc66046-6a17-480b-885f-052ecbec76a2"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53618","protocol":"op_msg","durationMillis":763}}
17:31:22.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.922-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:53618","uuid":"20392c1d-53da-431d-b601-9c72dde1f1de","connectionId":8,"connectionCount":33}}
17:31:22.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.931-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-48-5790503045160426635","collectionIdent":"collection-13-5790503045160426635","commitTimestamp":null}}
17:31:22.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.931-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-83-5790503045160426635","collectionIdent":"collection-13-5790503045160426635","commitTimestamp":null}}
17:31:22.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.931-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a6c2ee77-bbe5-4a87-8274-cd132d3480ec"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53619","protocol":"op_msg","durationMillis":770}}
17:31:22.930 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.931-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:53619","uuid":"74d2ab1d-8341-4ffb-8298-8cddd4be7b76","connectionId":9,"connectionCount":32}}
17:31:22.939 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.939-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn10","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:22.947 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.947-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:22.955 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.955-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:22.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.964-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-53-5790503045160426635","collectionIdent":"collection-18-5790503045160426635","commitTimestamp":null}}
17:31:22.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.964-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-87-5790503045160426635","collectionIdent":"collection-18-5790503045160426635","commitTimestamp":null}}
17:31:22.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.964-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3804e59f-9f7e-4af6-8ebf-67186d7959e0"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53623","protocol":"op_msg","durationMillis":796}}
17:31:22.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.964-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:53623","uuid":"f01afc38-ffbd-43e4-b7b2-add5ae077b61","connectionId":14,"connectionCount":31}}
17:31:22.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.973-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:22.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.982-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:22.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.991-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-56-5790503045160426635","collectionIdent":"collection-21-5790503045160426635","commitTimestamp":null}}
17:31:22.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.991-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-90-5790503045160426635","collectionIdent":"collection-21-5790503045160426635","commitTimestamp":null}}
17:31:22.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.991-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f3faf2e2-84f4-4b90-8c65-befa37804d5f"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53626","protocol":"op_msg","durationMillis":820}}
17:31:22.990 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.991-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:53626","uuid":"372ccc7b-0b44-40af-adc9-f50af7aec71d","connectionId":16,"connectionCount":30}}
17:31:22.999 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.999-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-57-5790503045160426635","collectionIdent":"collection-23-5790503045160426635","commitTimestamp":null}}
17:31:22.999 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:22.999-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-91-5790503045160426635","collectionIdent":"collection-23-5790503045160426635","commitTimestamp":null}}
17:31:22.999 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.000-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7ac94a96-8dcb-4f69-baa1-1cf9767e2283"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53628","protocol":"op_msg","durationMillis":826}}
17:31:22.999 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.000-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:53628","uuid":"15ed4da1-fa8c-41b4-b6d9-adc13ed9d64f","connectionId":18,"connectionCount":29}}
17:31:23.008 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.009-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
17:31:23.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.019-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
17:31:23.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.029-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-60-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.030-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-94-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.030-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"89974518-a131-49ee-83ae-0eb15685a184"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53630","protocol":"op_msg","durationMillis":853}}
17:31:23.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.030-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:53630","uuid":"988cd680-074a-45d3-951e-426a5f699f79","connectionId":20,"connectionCount":28}}
17:31:23.048 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.049-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:23.058 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.059-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:23.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.068-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:23.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.076-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:23.086 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.086-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-66-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.086 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.086-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-99-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.086 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.086-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1f0ce5a1-32f2-4777-98de-584a0ae4decc"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53635","protocol":"op_msg","durationMillis":901}}
17:31:23.086 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.087-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:53635","uuid":"c7e878e0-c233-4380-bf92-604bf22ee956","connectionId":25,"connectionCount":27}}
17:31:23.095 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.096-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn26","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.104 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.104-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.114 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.114-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.123 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.124-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.132-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.141 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.141-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:23.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.150-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-73-5790503045160426635","collectionIdent":"collection-38-5790503045160426635","commitTimestamp":null}}
17:31:23.150 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.151-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-106-5790503045160426635","collectionIdent":"collection-38-5790503045160426635","commitTimestamp":null}}
17:31:23.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.151-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e2a38304-37fd-458e-8766-8ceb080ef495"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53642","protocol":"op_msg","durationMillis":956}}
17:31:23.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.151-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:53642","uuid":"377adc4f-2662-470e-ad60-053b2709e23d","connectionId":32,"connectionCount":26}}
17:31:23.167 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.168-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn33","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
17:31:23.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.177-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-76-5790503045160426635","collectionIdent":"collection-41-5790503045160426635","commitTimestamp":null}}
17:31:23.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.177-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-108-5790503045160426635","collectionIdent":"collection-41-5790503045160426635","commitTimestamp":null}}
17:31:23.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.177-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"84e53c2e-27e8-4196-aaa2-1d20ed56619e"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53644","protocol":"op_msg","durationMillis":974}}
17:31:23.177 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.177-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:53644","uuid":"052e9f97-0099-46f8-a72d-bbaff2fa7140","connectionId":34,"connectionCount":25}}
17:31:23.185 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.186-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
17:31:23.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.194-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-78-5790503045160426635","collectionIdent":"collection-43-5790503045160426635","commitTimestamp":null}}
17:31:23.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.194-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-110-5790503045160426635","collectionIdent":"collection-43-5790503045160426635","commitTimestamp":null}}
17:31:23.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.194-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7dfa7a38-1daa-4c09-bf8a-28739b9baa66"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53646","protocol":"op_msg","durationMillis":988}}
17:31:23.194 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.195-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:53646","uuid":"3120df8b-c8bc-4835-844d-f642b8a502b0","connectionId":36,"connectionCount":24}}
17:31:23.203 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.204-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
17:31:23.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.207-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn2","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
17:31:23.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.207-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":14}}
17:31:23.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.207-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:53612","uuid":"38459497-fb15-45cb-9ade-804ac37b2978","connectionId":2,"connectionCount":23}}
17:31:23.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.472-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0eb732cc-9475-4c94-a6ec-61c69f4cc5b8"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.507 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.508-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f4e62841-2461-44ce-ae08-3d4e3634c202"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"indexes":1,"firstIndex":{"name":"tenant_slug_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
17:31:23.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.632-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ae9c04db-a15e-445f-b787-59b4ef3e4aea"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"a64dcbec-fe6f-4ed0-bdaa-272b7c8ff303"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.664 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.664-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7777dc91-bf21-4208-aa06-2b97e5406c86"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.664 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.664-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7777dc91-bf21-4208-aa06-2b97e5406c86"}},"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}}}}
17:31:23.673 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.673-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"85905410-a8be-44ea-b835-e706b8fc9339"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.673 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.673-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"85905410-a8be-44ea-b835-e706b8fc9339"}},"collectionUUID":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}}}}
17:31:23.681 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.682-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a33b9e47-dc78-4a0f-9bd4-f56f1a48ab35"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.681 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.682-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"a33b9e47-dc78-4a0f-9bd4-f56f1a48ab35"}},"collectionUUID":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}}}}
17:31:23.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.690-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6bf2ac0e-49b2-4f18-966a-e41fa661384d"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.690-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6bf2ac0e-49b2-4f18-966a-e41fa661384d"}},"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}}}}
17:31:23.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.698-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"630f0455-6ee7-43f9-9411-1eec75df968c"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.698-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"630f0455-6ee7-43f9-9411-1eec75df968c"}},"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}}}}
17:31:23.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.707-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn24","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"22dc93e6-8436-45b5-9398-8463082bcab1"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.708-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn24","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"22dc93e6-8436-45b5-9398-8463082bcab1"}},"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}}}}
17:31:23.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.716-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7eec4124-8750-440d-8d08-1147bd4eaf71"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.716-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7eec4124-8750-440d-8d08-1147bd4eaf71"}},"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}}}}
17:31:23.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.724-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn26","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1d06dc7d-a4eb-4eac-9126-f9ff8286fba7"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.724-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn26","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"1d06dc7d-a4eb-4eac-9126-f9ff8286fba7"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.732-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fb4cfcdc-460d-471c-a555-075808a4a43e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.732-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"fb4cfcdc-460d-471c-a555-075808a4a43e"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.740-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e3ed3213-549b-484b-9624-1f36966cb298"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.740-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e3ed3213-549b-484b-9624-1f36966cb298"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.748-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"18cae3d9-36c1-43c0-a6c2-f1cb09d28d78"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.748-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"18cae3d9-36c1-43c0-a6c2-f1cb09d28d78"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.756-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d868df07-425b-4d05-9b66-42ae10fc4930"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.756 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.756-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"d868df07-425b-4d05-9b66-42ae10fc4930"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.764-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7e994df2-339b-4c41-8035-2bc688296cd5"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.764-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7e994df2-339b-4c41-8035-2bc688296cd5"}},"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}}}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-112-5790503045160426635","collectionIdent":"collection-7-5790503045160426635","commitTimestamp":null}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f4e62841-2461-44ce-ae08-3d4e3634c202"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f4e62841-2461-44ce-ae08-3d4e3634c202"}}}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f787c949-f9b5-417f-be0e-18e850cdc2e1"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn5","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"f787c949-f9b5-417f-be0e-18e850cdc2e1"}},"collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}}}}
17:31:23.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.772-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"dbf0b9b6-9db0-42b1-bafe-770571628f9c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":91178}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53613","protocol":"op_msg","durationMillis":1620}}
17:31:23.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.773-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:53613","uuid":"96f653cf-a91f-4b45-be3a-e0fc3a0c7a1b","connectionId":4,"connectionCount":22}}
17:31:23.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.781-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn33","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0671c99a-7180-4710-af01-ad4001f40f95"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.781-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn33","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"0671c99a-7180-4710-af01-ad4001f40f95"}},"collectionUUID":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}}}}
17:31:23.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.790-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e87b9766-89bd-4170-ab6b-8b41787d6c86"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
17:31:23.790 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.790-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"e87b9766-89bd-4170-ab6b-8b41787d6c86"}},"collectionUUID":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}}}}
17:31:23.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.798-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"568c75c2-d8bd-477e-9381-5b604fd3aaec"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.798-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"568c75c2-d8bd-477e-9381-5b604fd3aaec"}},"collectionUUID":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}}}}
17:31:23.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.806-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a64dcbec-fe6f-4ed0-bdaa-272b7c8ff303"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-113-5790503045160426635","collectionIdent":"collection-10-5790503045160426635","commitTimestamp":null}}
17:31:23.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.806-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ae9c04db-a15e-445f-b787-59b4ef3e4aea"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.806-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ae9c04db-a15e-445f-b787-59b4ef3e4aea"}}}}
17:31:23.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.806-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6ffa27d2-f782-409f-b178-d908a5c81d81"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53617","protocol":"op_msg","durationMillis":1648}}
17:31:23.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.807-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:53617","uuid":"3c98c37d-5a96-4e8a-b819-424bc52962c4","connectionId":7,"connectionCount":21}}
17:31:23.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-114-5790503045160426635","collectionIdent":"collection-13-5790503045160426635","commitTimestamp":null}}
17:31:23.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0eb732cc-9475-4c94-a6ec-61c69f4cc5b8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0eb732cc-9475-4c94-a6ec-61c69f4cc5b8"}}}}
17:31:23.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn10","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e7bd3633-c949-4b72-8885-affe6d04d270"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn10","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e7bd3633-c949-4b72-8885-affe6d04d270"}},"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}}}}
17:31:23.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"df3df190-6fe0-4af6-9544-34f0156548c1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":176070}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53621","protocol":"op_msg","durationMillis":1650}}
17:31:23.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"095d5be4-b3d4-4803-9a11-06a15ab5db25"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn12","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"095d5be4-b3d4-4803-9a11-06a15ab5db25"}},"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}}}}
17:31:23.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.815-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:53621","uuid":"48fbe757-4be9-48b4-a113-630b2439e658","connectionId":11,"connectionCount":20}}
17:31:23.824 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.825-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2b955f33-7a0b-444b-abac-82510537a7dc"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:23.824 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.825-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"2b955f33-7a0b-444b-abac-82510537a7dc"}},"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}}}}
17:31:23.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.834-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1c198298-b2c9-4f0d-ad43-964693e8fffa"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-115-5790503045160426635","collectionIdent":"collection-21-5790503045160426635","commitTimestamp":null}}
17:31:23.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.834-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"85905410-a8be-44ea-b835-e706b8fc9339"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.834-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"85905410-a8be-44ea-b835-e706b8fc9339"}}}}
17:31:23.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.834-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"55989ff1-6db5-4056-9863-c0d84e4d6e80"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53627","protocol":"op_msg","durationMillis":1660}}
17:31:23.833 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.834-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:53627","uuid":"49839745-08aa-4e91-b2c2-ae96a141b59d","connectionId":17,"connectionCount":19}}
17:31:23.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.843-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-116-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.844-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn24","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"22dc93e6-8436-45b5-9398-8463082bcab1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.844-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn24","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"22dc93e6-8436-45b5-9398-8463082bcab1"}}}}
17:31:23.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.844-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a6b93712-0ce1-46b1-aa85-c08e66e35ad6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53634","protocol":"op_msg","durationMillis":1661}}
17:31:23.843 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.844-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:53634","uuid":"02e9b269-dd71-49b7-9448-769a1192bd5c","connectionId":24,"connectionCount":18}}
17:31:23.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.852-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-117-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.852-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e3ed3213-549b-484b-9624-1f36966cb298"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.852-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e3ed3213-549b-484b-9624-1f36966cb298"}}}}
17:31:23.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.852-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0408f352-6f62-4543-85ae-aa1d53a4b350"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53638","protocol":"op_msg","durationMillis":1664}}
17:31:23.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.853-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:53638","uuid":"81b0a33f-fadc-4d21-9506-a60e70de67b3","connectionId":28,"connectionCount":17}}
17:31:23.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.861-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-118-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.861-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7eec4124-8750-440d-8d08-1147bd4eaf71"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.861-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7eec4124-8750-440d-8d08-1147bd4eaf71"}}}}
17:31:23.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.861-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d77aa642-3229-4da4-a979-4cde668a603b"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28622}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53633","protocol":"op_msg","durationMillis":1678}}
17:31:23.861 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.861-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:53633","uuid":"7b740bbd-5086-4eef-b75f-5162ab611843","connectionId":23,"connectionCount":16}}
17:31:23.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.869-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-119-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.869-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"18cae3d9-36c1-43c0-a6c2-f1cb09d28d78"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.869-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"18cae3d9-36c1-43c0-a6c2-f1cb09d28d78"}}}}
17:31:23.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.869-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8d45a5ef-9c6b-49ae-81cf-dcd728d2cc14"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":8863}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53639","protocol":"op_msg","durationMillis":1678}}
17:31:23.869 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.870-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:53639","uuid":"da0a41d5-5b80-4967-85ba-9cda79aea7ff","connectionId":29,"connectionCount":15}}
17:31:23.883 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.884-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-120-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.883 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.884-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d868df07-425b-4d05-9b66-42ae10fc4930"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.883 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.884-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d868df07-425b-4d05-9b66-42ae10fc4930"}}}}
17:31:23.884 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.884-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"994afbe5-9449-4916-bd26-0c6802624519"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":16917}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53640","protocol":"op_msg","durationMillis":1693}}
17:31:23.884 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.885-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:53640","uuid":"5fa6017a-0114-40b2-aff9-df3a0517ad5c","connectionId":30,"connectionCount":14}}
17:31:23.894 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.894-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-121-5790503045160426635","collectionIdent":"collection-18-5790503045160426635","commitTimestamp":null}}
17:31:23.894 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.894-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7777dc91-bf21-4208-aa06-2b97e5406c86"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.894 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.894-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7777dc91-bf21-4208-aa06-2b97e5406c86"}}}}
17:31:23.894 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.894-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"20eecfe5-352a-48f3-a995-1a08f12a15b6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53625","protocol":"op_msg","durationMillis":1724}}
17:31:23.894 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.894-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:53625","uuid":"8b8cd70a-dda9-4b6a-92f6-c1e251821c0a","connectionId":15,"connectionCount":13}}
17:31:23.903 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.903-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f2e2ff12-7914-4ab9-9aee-3f5c9b4f099d"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-122-5790503045160426635","collectionIdent":"collection-23-5790503045160426635","commitTimestamp":null}}
17:31:23.904 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.904-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a33b9e47-dc78-4a0f-9bd4-f56f1a48ab35"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.904 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.904-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a33b9e47-dc78-4a0f-9bd4-f56f1a48ab35"}}}}
17:31:23.904 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.904-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3e11af61-b0c1-4a49-ac0a-088c08d176a1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53629","protocol":"op_msg","durationMillis":1727}}
17:31:23.904 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.904-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:53629","uuid":"2e96d824-d401-44e9-a19d-682f6561aa32","connectionId":19,"connectionCount":12}}
17:31:23.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.922-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-123-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.922-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7e994df2-339b-4c41-8035-2bc688296cd5"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.922-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7e994df2-339b-4c41-8035-2bc688296cd5"}}}}
17:31:23.922 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.922-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"94bc32d4-7821-4ae3-8cee-b5ab53b6d7c9"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":22807}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53641","protocol":"op_msg","durationMillis":1728}}
17:31:23.923 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.923-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:53641","uuid":"b73f3ddc-14e5-4d97-82de-fe8aae2d5695","connectionId":31,"connectionCount":11}}
17:31:23.938 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.938-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-124-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.939 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.939-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6bf2ac0e-49b2-4f18-966a-e41fa661384d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.939 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.939-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6bf2ac0e-49b2-4f18-966a-e41fa661384d"}}}}
17:31:23.939 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.939-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cde985fc-5d6d-46d4-bb7f-0cedfbb45b35"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53631","protocol":"op_msg","durationMillis":1759}}
17:31:23.939 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.939-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:53631","uuid":"8b70c05f-c0dc-4bb3-9d5d-795322b1476d","connectionId":21,"connectionCount":10}}
17:31:23.948 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.948-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-125-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.949 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.949-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn26","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1d06dc7d-a4eb-4eac-9126-f9ff8286fba7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.949 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.949-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn26","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1d06dc7d-a4eb-4eac-9126-f9ff8286fba7"}}}}
17:31:23.949 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.949-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b3f0847e-9beb-4fe8-a7be-bae55b3c98a7"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53636","protocol":"op_msg","durationMillis":1763}}
17:31:23.949 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.949-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:53636","uuid":"8ae40f98-799a-4e99-a68d-9080ec0d2491","connectionId":26,"connectionCount":9}}
17:31:23.970 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.970-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6785fa24-d8cd-4f1c-8d9d-a2d3c69d22e1"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-126-5790503045160426635","collectionIdent":"collection-25-5790503045160426635","commitTimestamp":null}}
17:31:23.970 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.970-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"630f0455-6ee7-43f9-9411-1eec75df968c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.970 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.970-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"630f0455-6ee7-43f9-9411-1eec75df968c"}}}}
17:31:23.970 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.970-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2c36f0e9-56f7-4ee7-90d4-868e3d7d32e4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":35087}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53632","protocol":"op_msg","durationMillis":1790}}
17:31:23.970 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.970-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:53632","uuid":"bd2d706d-aa8d-41eb-a93e-c86f9fb1470d","connectionId":22,"connectionCount":8}}
17:31:23.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.982-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ed3080a3-3d57-45c0-9f88-64ebf71ffc6a"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-127-5790503045160426635","collectionIdent":"collection-7-5790503045160426635","commitTimestamp":null}}
17:31:23.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.982-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f787c949-f9b5-417f-be0e-18e850cdc2e1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.982-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f787c949-f9b5-417f-be0e-18e850cdc2e1"}}}}
17:31:23.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.982-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cbf5a040-a1fa-40f3-901a-673b25f19dbb"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":173261}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53615","protocol":"op_msg","durationMillis":1827}}
17:31:23.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.982-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:53615","uuid":"63adb2a1-6e94-4d6a-a570-5093f7464535","connectionId":5,"connectionCount":7}}
17:31:23.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.991-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cccbe1ad-6107-40bd-a881-dcd7386fd76a"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-128-5790503045160426635","collectionIdent":"collection-31-5790503045160426635","commitTimestamp":null}}
17:31:23.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.991-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fb4cfcdc-460d-471c-a555-075808a4a43e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:23.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.991-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fb4cfcdc-460d-471c-a555-075808a4a43e"}}}}
17:31:23.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.991-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a3567cbc-b6f8-4aeb-b7cc-c507c0663586"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":9911}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53637","protocol":"op_msg","durationMillis":1803}}
17:31:23.991 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:23.992-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:53637","uuid":"50a76b52-9a14-4bf4-aead-f535e1443224","connectionId":27,"connectionCount":6}}
17:31:24.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.000-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"65d1fab5-15fd-4b38-8b8c-d872e29c9322"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-129-5790503045160426635","collectionIdent":"collection-38-5790503045160426635","commitTimestamp":null}}
17:31:24.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.000-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn33","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0671c99a-7180-4710-af01-ad4001f40f95"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.000-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn33","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0671c99a-7180-4710-af01-ad4001f40f95"}}}}
17:31:24.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.000-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fe74bcc1-6dba-44f6-b134-09ceda04f3c2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53643","protocol":"op_msg","durationMillis":1803}}
17:31:24.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.001-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:53643","uuid":"ae886db2-bafb-4cf6-8914-83fff48407bf","connectionId":33,"connectionCount":5}}
17:31:24.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.011-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5f91f73c-ce09-4329-9ef7-33300793bea3"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-130-5790503045160426635","collectionIdent":"collection-41-5790503045160426635","commitTimestamp":null}}
17:31:24.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.011-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e87b9766-89bd-4170-ab6b-8b41787d6c86"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.011-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e87b9766-89bd-4170-ab6b-8b41787d6c86"}}}}
17:31:24.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.011-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d3ceca79-cb48-462d-84d8-9738b5d509d4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53645","protocol":"op_msg","durationMillis":1805}}
17:31:24.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.011-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:53645","uuid":"f02b0587-d20b-4f05-847e-9196c41ac439","connectionId":35,"connectionCount":4}}
17:31:24.020 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.020-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0ddf24d1-37fd-42f4-8b9c-44ec73a023e5"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-131-5790503045160426635","collectionIdent":"collection-43-5790503045160426635","commitTimestamp":null}}
17:31:24.020 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.020-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"568c75c2-d8bd-477e-9381-5b604fd3aaec"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.020 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.020-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"568c75c2-d8bd-477e-9381-5b604fd3aaec"}}}}
17:31:24.020 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.020-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"77b34555-993a-48f4-bf1e-b339a489cab8"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53647","protocol":"op_msg","durationMillis":1811}}
17:31:24.020 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.020-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:53647","uuid":"39c0251c-9373-4d1d-8aac-b8e476e3dc50","connectionId":37,"connectionCount":3}}
17:31:24.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.030-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-132-5790503045160426635","collectionIdent":"collection-13-5790503045160426635","commitTimestamp":null}}
17:31:24.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.030-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn10","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e7bd3633-c949-4b72-8885-affe6d04d270"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.030-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn10","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e7bd3633-c949-4b72-8885-affe6d04d270"}}}}
17:31:24.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.030-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d2e4e8ca-f13a-4be3-b858-dd6a7dfa992a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":175272}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2},"storage":{},"remote":"127.0.0.1:53620","protocol":"op_msg","durationMillis":1869}}
17:31:24.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.030-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:53620","uuid":"760c1554-fadd-44dc-9109-fdce6e6fbfe5","connectionId":10,"connectionCount":2}}
17:31:24.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.039-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"73671034-ffc2-4a9c-aa5d-3f41eadba306"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-133-5790503045160426635","collectionIdent":"collection-18-5790503045160426635","commitTimestamp":null}}
17:31:24.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.039-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2b955f33-7a0b-444b-abac-82510537a7dc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.039-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2b955f33-7a0b-444b-abac-82510537a7dc"}}}}
17:31:24.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.039-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d56f0456-a72e-4213-8bd6-7ac6dcc91b16"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53624","protocol":"op_msg","durationMillis":1871}}
17:31:24.038 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.039-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:53624","uuid":"06d6a4f8-ce02-44cb-9594-2a85ab34bd4e","connectionId":13,"connectionCount":1}}
17:31:24.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.048-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"40003a05-fd85-46be-882b-77b7c9f3eaab"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-134-5790503045160426635","collectionIdent":"collection-13-5790503045160426635","commitTimestamp":null}}
17:31:24.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.048-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"095d5be4-b3d4-4803-9a11-06a15ab5db25"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:24.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.048-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"095d5be4-b3d4-4803-9a11-06a15ab5db25"}}}}
17:31:24.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.048-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d3856648-88f3-4e1f-8c69-3a7d95454253"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":166907,"W":18904}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53622","protocol":"op_msg","durationMillis":1883}}
17:31:24.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.048-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:53622","uuid":"edc02285-ae53-4149-ace4-d9bcff507641","connectionId":12,"connectionCount":0}}
17:31:24.431 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.431-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53650","uuid":"642b1e00-16ff-49b9-a17d-85b566ccb06d","connectionId":38,"connectionCount":1}}
17:31:24.431 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.431-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:53650"}}}
17:31:24.431 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
17:31:24.431 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.432-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:53650","uuid":"642b1e00-16ff-49b9-a17d-85b566ccb06d","connectionId":38,"connectionCount":0}}
17:31:24.533 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.534-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53651","uuid":"5181a2b0-6e31-4561-a5e8-bce387ee9394","connectionId":39,"connectionCount":1}}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.534-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
17:31:24.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.535-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
17:31:24.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.536-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
17:31:24.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
17:31:24.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
17:31:24.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
17:31:24.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
17:31:24.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
17:31:24.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
17:31:24.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
17:31:24.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.554-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
17:31:24.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.555-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
17:31:24.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.589-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":34}}
17:31:24.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.589-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
17:31:24.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.589-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
17:31:24.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.589-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
17:31:24.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.591-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
17:31:24.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:24.591-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
17:31:24.720 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
17:31:24.721 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 98 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 109 common frames omitted



============================
CONDITIONS EVALUATION REPORT
============================


Positive matches:
-----------------

    None


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



17:31:24.722 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@393d1a05]
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 98 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 109 common frames omitted
17:31:24.724 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@50dfac19]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.725 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@145bcb73]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.725 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@4a04177e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.726 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@3a721396]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.727 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@167080e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.728 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@195c5803]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.729 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@596690e5]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.730 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@5170ebb6]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.730 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@1abe611c]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.731 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@5fd40d2e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.732 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@50eaafd6]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:24.732 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.controller.ProductControllerIntegrationTest@5d225368]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 3.563 s <<< FAILURE! -- in com.retail.controller.ProductControllerIntegrationTest
[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithStatusFilter -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 42 more
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 53 more

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testUpdateProductNotFound -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetProductByIdNotFound -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testRequestWithoutTenantHeader -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testCreateProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetLowStockProducts -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testUpdateProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testPagination -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetProductById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testDeleteProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithCategoryFilter -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testTenantIsolation -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.analytics.AdminDashboardServiceTest
[ERROR] Tests run: 8, Failures: 5, Errors: 0, Skipped: 0, Time elapsed: 0.490 s <<< FAILURE! -- in com.retail.domain.analytics.AdminDashboardServiceTest
[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate -- Time elapsed: 0.404 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.127423700Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.123386Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:249)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.127423700Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.123386Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold -- Time elapsed: 0.003 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:168)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8777)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:177)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:163)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview -- Time elapsed: 0.005 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:99)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics -- Time elapsed: 0.002 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.220011400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.219030600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:225)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.220011400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.219030600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully -- Time elapsed: 0.001 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.223008900Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.222009600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:273)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.223008900Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.222009600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[INFO] Running com.retail.domain.analytics.ReportingServiceTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 s -- in com.retail.domain.analytics.ReportingServiceTest
[INFO] Running com.retail.domain.audit.AuditLogServiceTest
17:31:25.288 WARN  c.r.domain.audit.AuditLogService - Audit (FAILED): USER_LOGIN_FAILED - Login attempt failed - User: testuser - Error: Invalid credentials
17:31:25.293 INFO  c.r.domain.audit.AuditLogService - Audit: SUSPICIOUS_ACTIVITY - Multiple failed login attempts - User: null - Entity: null/null
17:31:25.296 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Updated product details - User: testuser - Entity: Product/product-123
17:31:25.298 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Price changed - User: testuser - Entity: Product/product-123
17:31:25.303 INFO  c.r.domain.audit.AuditLogService - Audit: USER_LOGIN - null - User: testuser - Entity: null/null
17:31:25.308 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_CREATED - Test description - User: null - Entity: null/null
17:31:25.309 INFO  c.r.domain.audit.AuditLogService - Cleaning up audit events older than 90 days for tenant tenant-123
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.068 s -- in com.retail.domain.audit.AuditLogServiceTest
[INFO] Running com.retail.domain.auth.OAuth2ServiceTest
17:31:25.483 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: FACEBOOK tenant: test-tenant
17:31:25.486 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: fbuser@example.com provider: FACEBOOK
17:31:25.486 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
17:31:25.488 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
17:31:25.488 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: test@example.com provider: GOOGLE
17:31:25.489 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
17:31:25.494 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
17:31:25.496 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
17:31:25.496 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Email not provided by OAuth2 provider
	at com.retail.domain.auth.OAuth2Service.findOrCreateUser(OAuth2Service.java:108)
	at com.retail.domain.auth.OAuth2Service.lambda$authenticateWithOAuth2$1(OAuth2Service.java:53)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_noEmailProvided_shouldFail(OAuth2ServiceTest.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:25.498 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
17:31:25.498 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
17:31:25.504 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
17:31:25.504 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
17:31:25.504 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Failed to fetch user info from GOOGLE: 401 Unauthorized
	at com.retail.domain.auth.OAuth2Service.lambda$fetchUserInfo$2(OAuth2Service.java:88)
	at reactor.core.publisher.Mono.lambda$onErrorMap$28(Mono.java:3799)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_providerReturnsError_shouldFail(OAuth2ServiceTest.java:224)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 8, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.195 s <<< FAILURE! -- in com.retail.domain.auth.OAuth2ServiceTest
[ERROR] com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail -- Time elapsed: 0.002 s <<< ERROR!
java.lang.IllegalArgumentException: Unsupported OAuth2 provider: INVALID_PROVIDER
	at com.retail.domain.auth.OAuth2Provider.fromString(OAuth2Provider.java:17)
	at com.retail.domain.auth.OAuth2Service.authenticateWithOAuth2(OAuth2Service.java:46)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail(OAuth2ServiceTest.java:202)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.cart.CartTest
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.010 s -- in com.retail.domain.cart.CartTest
[INFO] Running com.retail.domain.cart.SavedCartServiceTest
[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.115 s <<< FAILURE! -- in com.retail.domain.cart.SavedCartServiceTest
[ERROR] com.retail.domain.cart.SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart -- Time elapsed: 0.001 s <<< FAILURE!
java.lang.AssertionError: expectation "assertNext" failed (expected: onNext(); actual: onError(java.lang.NullPointerException: other))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.cart.SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart(SavedCartServiceTest.java:58)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: java.lang.NullPointerException: other
		at java.base/java.util.Objects.requireNonNull(Objects.java:246)
		at reactor.core.publisher.MonoSwitchIfEmpty.<init>(MonoSwitchIfEmpty.java:35)
		at reactor.core.publisher.Mono.switchIfEmpty(Mono.java:4594)
		at com.retail.domain.cart.SavedCartService.lambda$getSavedCart$0(SavedCartService.java:41)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[INFO] Running com.retail.domain.notification.NotificationServiceTest
17:31:25.677 INFO  c.r.d.n.NotificationService - Creating notification: type=ORDER_CONFIRMATION, channel=EMAIL, userId=user-123
17:31:25.682 INFO  c.r.d.n.NotificationService - Scheduling notification: type=PROMOTIONAL, scheduledFor=2025-12-04T00:31:25.682143100Z, userId=user-123
17:31:25.684 INFO  c.r.d.n.NotificationService - Notification cancelled: id=notification-123
17:31:25.689 INFO  c.r.d.n.NotificationService - Creating notification from template: type=ORDER_CONFIRMATION, template=order-confirmation-template, userId=user-123
17:31:25.690 INFO  c.r.d.n.NotificationService - Cleaning up notifications older than 90 days for tenant tenant-123
17:31:25.695 INFO  c.r.d.n.NotificationService - Notification sent: id=notification-123, externalId=external-456
17:31:25.697 WARN  c.r.d.n.NotificationService - Notification failed: id=notification-123, error=SMTP connection failed, retryCount=1
17:31:25.698 INFO  c.r.d.n.NotificationService - Notification delivered: id=notification-123
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.066 s -- in com.retail.domain.notification.NotificationServiceTest
[INFO] Running com.retail.domain.order.OrderServiceUnitTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 s -- in com.retail.domain.order.OrderServiceUnitTest
[INFO] Running com.retail.domain.order.OrderTest
[INFO] Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 s -- in com.retail.domain.order.OrderTest
[INFO] Running com.retail.domain.payment.gateway.PayPalGatewayServiceTest
17:31:25.749 INFO  c.r.d.p.gateway.PayPalGatewayService - Refunding PayPal payment: CAPTURE-test-123 for amount: 50.00
17:31:25.750 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal refund processed: REFUND-5348753d-31a6-496e-833b-f3598f266c34
17:31:25.751 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: false
17:31:25.751 INFO  c.r.d.p.gateway.PayPalGatewayService - Capturing PayPal payment: PAYPAL-test-123 for amount: 100.00
17:31:25.752 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment captured: CAPTURE-6cc235e0-cb1f-47f8-9674-d434a50c043c
17:31:25.752 INFO  c.r.d.p.gateway.PayPalGatewayService - Authorizing PayPal payment for amount: 100.00 USD
17:31:25.752 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment authorized: PAYPAL-e10b65b2-2ee0-4b9d-927b-386118bb90fd
17:31:25.754 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: true
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s -- in com.retail.domain.payment.gateway.PayPalGatewayServiceTest
[INFO] Running com.retail.domain.payment.PaymentProcessingServiceTest
17:31:25.869 INFO  c.r.d.p.PaymentProcessingService - Capturing payment: tx-123 amount: 100.00
17:31:25.871 INFO  c.r.d.p.PaymentProcessingService - Processing refund: tx-123 amount: 50.00 reason: Customer request
17:31:25.873 INFO  c.r.d.p.PaymentProcessingService - Processing payment for order: order-123 amount: 100.00 USD
[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.120 s <<< FAILURE! -- in com.retail.domain.payment.PaymentProcessingServiceTest
[ERROR] com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment -- Time elapsed: 0.001 s <<< ERROR!
org.mockito.exceptions.misusing.PotentialStubbingProblem: 

Strict stubbing argument mismatch. Please check:
 - this invocation of 'createTransaction' method:
    paymentService.createTransaction(
    "order-123",
    100.00,
    "USD",
    PAYPAL,
    null
);
    -> at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
 - has following stubbing(s) with different arguments:
    1. paymentService.createTransaction(
    null,
    null,
    null,
    null,
    ""
);
      -> at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:57)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
	at com.retail.domain.payment.PaymentService.createTransaction(PaymentService.java:36)
	at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
	at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:69)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.product.ProductServiceTest
17:31:25.875 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.domain.product.ProductServiceTest]: ProductServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:25.886 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.domain.product.ProductServiceTest
17:31:25.889 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

17:31:25.911 INFO  c.r.d.product.ProductServiceTest - Starting ProductServiceTest using Java 25.0.1 with PID 26112 (started by codep in D:\code\retail-agentic\backend)
17:31:25.911 DEBUG c.r.d.product.ProductServiceTest - Running with Spring Boot v3.2.1, Spring v6.1.2
17:31:25.911 INFO  c.r.d.product.ProductServiceTest - The following 1 profile is active: "test"
17:31:26.207 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:26.210 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
17:31:26.216 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:26.217 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:26.219 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
17:31:26.236 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
17:31:26.360 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.359-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
17:31:26.361 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.361-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
17:31:26.364 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.364-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
17:31:26.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.365-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
17:31:26.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.365-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
17:31:26.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.365-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
17:31:26.365 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.365-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
17:31:26.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.366-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":34076,"port":53655,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--dc4279d0-090f-4df2-8ca3-8a5edef92be7/mongod-database282003765846085796","architecture":"64-bit","host":"jon-desktop"}}
17:31:26.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.366-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
17:31:26.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.366-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
17:31:26.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.366-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
17:31:26.366 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.366-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":53655},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--dc4279d0-090f-4df2-8ca3-8a5edef92be7\\mongod-database282003765846085796","journal":{"enabled":false},"syncPeriodSecs":0}}}}
17:31:26.368 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.368-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
17:31:26.415 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.415-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":47}}
17:31:26.415 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.415-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
17:31:26.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.450-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"1cf2c533-f1c6-4e52-abee-d1ca683be439"}},"options":{"uuid":{"$uuid":"1cf2c533-f1c6-4e52-abee-d1ca683be439"}}}}
17:31:26.468 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.468-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1cf2c533-f1c6-4e52-abee-d1ca683be439"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--9024706962401065335","collectionIdent":"collection-0--9024706962401065335","commitTimestamp":null}}
17:31:26.468 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.469-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
17:31:26.468 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.469-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
17:31:26.468 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.469-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:26.469 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.469-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
17:31:26.469 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.469-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
17:31:26.475 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.475-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
17:31:26.475 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.475-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
17:31:26.605 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.606-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--dc4279d0-090f-4df2-8ca3-8a5edef92be7/mongod-database282003765846085796/diagnostic.data"}}
17:31:26.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.607-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d978c2a2-f96f-40b3-9824-1812165e70b2"}},"options":{"capped":true,"size":10485760}}}
17:31:26.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.631-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d978c2a2-f96f-40b3-9824-1812165e70b2"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--9024706962401065335","collectionIdent":"collection-2--9024706962401065335","commitTimestamp":null}}
17:31:26.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.631-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
17:31:26.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.631-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
17:31:26.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.632-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
17:31:26.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.633-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e2fa5615-73b9-431a-a288-3c7f5548034c"}},"options":{}}}
17:31:26.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.633-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
17:31:26.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.633-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":53655,"ssl":"off"}}
17:31:26.670 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.671-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53657","uuid":"f5167aff-f599-45e1-a78a-4eac2f240d1d","connectionId":1,"connectionCount":1}}
17:31:26.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.671-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53656","uuid":"307ad17f-bd9b-4d65-b432-7e522cb616e8","connectionId":2,"connectionCount":2}}
17:31:26.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.672-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:53657","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.672-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:53656","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.677-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2fa5615-73b9-431a-a288-3c7f5548034c"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--9024706962401065335","collectionIdent":"collection-4--9024706962401065335","commitTimestamp":null}}
17:31:26.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.678-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e2fa5615-73b9-431a-a288-3c7f5548034c"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--9024706962401065335","collectionIdent":"collection-4--9024706962401065335","commitTimestamp":null}}
17:31:26.693 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
17:31:26.694 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
17:31:26.694 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
17:31:26.694 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
17:31:26.696 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
17:31:26.696 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
17:31:26.696 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
17:31:26.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.696-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53658","uuid":"5142a011-6f9b-4add-af8c-4b896361b547","connectionId":3,"connectionCount":3}}
17:31:26.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.697-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53659","uuid":"9f545217-b436-4b27-ac32-eec42dd46a58","connectionId":4,"connectionCount":4}}
17:31:26.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.697-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:53658","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.697-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:53659","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.697 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.698-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"options":{}}}
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.698-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5bf56988-da43-40df-a94d-5aa959eb5d56"}},"options":{}}}
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53660","uuid":"14db665a-b185-48a2-8436-9f2f0f143b1b","connectionId":5,"connectionCount":5}}
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.698-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53661","uuid":"6b245730-a2ec-4d76-ab5f-2bda9c9ebcbd","connectionId":6,"connectionCount":6}}
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.698-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:53660","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.699-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:53661","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.698 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
17:31:26.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.699-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a29a796e-0034-440e-bc6a-71c3e067d8fc"}},"options":{}}}
17:31:26.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.699-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"92356cd3-255d-4b8c-a259-8e733c9605bf"}},"options":{}}}
17:31:26.699 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
17:31:26.699 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
17:31:26.699 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
17:31:26.700 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
17:31:26.700 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
17:31:26.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.700-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53663","uuid":"646e8b8f-61dd-4309-8044-71acd4a4eaf2","connectionId":7,"connectionCount":7}}
17:31:26.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.700-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53662","uuid":"41f1754d-3ad1-4ac8-a5f2-115948e2132c","connectionId":8,"connectionCount":8}}
17:31:26.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.701-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:53663","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.701-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:53662","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.700 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
17:31:26.701 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
17:31:26.701 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.702-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e14f6f3a-d2f1-4e32-bc8b-c4aabfe4f8e7"}},"options":{}}}
17:31:26.701 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.702-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c3911d35-9b08-4197-b65a-84844b8bdad0"}},"options":{}}}
17:31:26.702 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.702-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53664","uuid":"1fd1fb84-2d4a-4b7b-bcdb-6a65b6381fb3","connectionId":9,"connectionCount":9}}
17:31:26.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.703-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53665","uuid":"9c4c07b8-cf12-41c3-8182-0d272e47f1ac","connectionId":10,"connectionCount":10}}
17:31:26.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.703-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:53664","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.703-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:53665","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
17:31:26.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
17:31:26.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.704-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"options":{}}}
17:31:26.705 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
17:31:26.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.705-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9b672357-30fa-4fd7-b6cb-fc330f46d427"}},"options":{}}}
17:31:26.705 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
17:31:26.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.706-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53666","uuid":"6b211229-6683-42d0-90d6-4e4693013b1a","connectionId":11,"connectionCount":11}}
17:31:26.705 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
17:31:26.705 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
17:31:26.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.706-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53667","uuid":"575da13b-d870-4aeb-842b-53331f47c9d7","connectionId":12,"connectionCount":12}}
17:31:26.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.706-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:53666","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.707 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
17:31:26.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.707-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:53667","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.708-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}},"options":{}}}
17:31:26.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.708-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53668","uuid":"e66e3f93-0543-4cd9-b5d8-aa835b321014","connectionId":13,"connectionCount":13}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.709-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:53668","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.709-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53669","uuid":"3f0d486c-5330-45c2-b7fd-bfa9e93af6bb","connectionId":14,"connectionCount":14}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.709-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"192de837-1a52-4964-a1cd-329c94ae6c37"}},"options":{}}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.710-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:53669","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.710-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0d4a5317-f4ad-4b0d-913b-eccc820f51b2"}},"options":{}}}
17:31:26.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.710-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53670","uuid":"9350f9e7-cc4a-4df7-8c55-db3093f103d2","connectionId":15,"connectionCount":15}}
17:31:26.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.710-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:53670","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.711-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}},"options":{}}}
17:31:26.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.711-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53671","uuid":"38149281-a554-4d1c-ac7b-79a6f449f474","connectionId":16,"connectionCount":16}}
17:31:26.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.711-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d73d1c89-7251-4be1-a897-42b4306580fd"}},"options":{}}}
17:31:26.711 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.711-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:53671","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.711 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.711-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53672","uuid":"a5edf657-5fe7-48b6-a907-5c00ee4fabe8","connectionId":17,"connectionCount":17}}
17:31:26.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.712-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:53672","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.712-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"60a5dfcc-a1f0-4a8b-9af9-1ddf99beafbd"}},"options":{}}}
17:31:26.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.713-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}},"options":{}}}
17:31:26.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.713-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53673","uuid":"a289d59b-c4f8-493c-8b91-c2113e1e6a98","connectionId":18,"connectionCount":18}}
17:31:26.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.713-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:53673","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.713-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53674","uuid":"d93940f3-9f16-44ba-8ec4-391839282a15","connectionId":19,"connectionCount":19}}
17:31:26.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.714-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:53674","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.714-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d160f6a7-c771-4b0c-bc81-0fd3f8af8b9c"}},"options":{}}}
17:31:26.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.715-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53675","uuid":"8afbaec8-24e2-4f6d-867d-c7f7c7070081","connectionId":20,"connectionCount":20}}
17:31:26.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.715-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"options":{}}}
17:31:26.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.715-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:53675","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.715-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53676","uuid":"f2fb08b7-11ba-4b32-af27-75ba73064007","connectionId":21,"connectionCount":21}}
17:31:26.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.716-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:53676","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.716-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"56e68cac-354f-4136-b20b-c5d54a3dfa23"}},"options":{}}}
17:31:26.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.716-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e33aa74f-4a75-4329-9f3f-d77d56094b07"}},"options":{}}}
17:31:26.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.717-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53677","uuid":"39c1b381-6189-422b-80da-1574cbc71120","connectionId":22,"connectionCount":22}}
17:31:26.717 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.717-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53678","uuid":"ac9af528-e0ed-4700-90aa-da8a85fe3bcb","connectionId":23,"connectionCount":23}}
17:31:26.717 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.717-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:53677","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.717 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.717-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:53678","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.718-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"93872cc6-2b27-4ad6-b8e1-26ba03572fec"}},"options":{}}}
17:31:26.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.718-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9d015f51-04ba-4d9b-8d1d-25ef8a8a0f7d"}},"options":{}}}
17:31:26.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.718-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53679","uuid":"0a58e391-79f9-4209-a912-2bb6e84d2f4a","connectionId":24,"connectionCount":24}}
17:31:26.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.719-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53680","uuid":"4238592a-e991-4956-ae8d-932d0cb7f4f5","connectionId":25,"connectionCount":25}}
17:31:26.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.719-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:53679","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.719-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:53680","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.720-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a126555f-69f1-4bce-8cb6-00c0dc0c66d5"}},"options":{}}}
17:31:26.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.720-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c1e1442c-ac0d-484c-88e8-acca2a1491cf"}},"options":{}}}
17:31:26.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.721-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53681","uuid":"6b5c5c5a-2967-4369-8fb2-7138c86fb6b0","connectionId":26,"connectionCount":26}}
17:31:26.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.722-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:53681","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.722-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53682","uuid":"c6cb8db7-712e-4aa7-b7ee-f6215d5e2344","connectionId":27,"connectionCount":27}}
17:31:26.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.722-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:53682","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.722-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}},"options":{}}}
17:31:26.723 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.723-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53683","uuid":"029191f6-ed6a-4995-a56a-fa7dae800f31","connectionId":28,"connectionCount":28}}
17:31:26.723 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.723-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f32a78e5-745f-47b5-b7db-e22c88fc1ffb"}},"options":{}}}
17:31:26.723 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.723-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:53683","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.723 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.724-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53684","uuid":"65e3d7f4-e02d-4e8e-bf8d-0d0afdf7c3c6","connectionId":29,"connectionCount":29}}
17:31:26.723 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.724-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:53684","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.724 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.725-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"options":{}}}
17:31:26.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.725-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8378c1bd-420b-44c3-9616-65d81aaecac8"}},"options":{}}}
17:31:26.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.725-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53685","uuid":"ac7e1db4-73ed-43f2-804e-4c320b34d61f","connectionId":30,"connectionCount":30}}
17:31:26.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.726-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:53685","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.726-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53686","uuid":"af8d7f7e-530d-4b48-9972-a6c269b851ed","connectionId":31,"connectionCount":31}}
17:31:26.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.726-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:53686","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.727-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}},"options":{}}}
17:31:26.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.727-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a2486c90-6ee6-4adf-8a4e-763be395ddf6"}},"options":{}}}
17:31:26.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.728-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53687","uuid":"2df15d6a-feb2-4820-a911-e82712c2d8c3","connectionId":32,"connectionCount":32}}
17:31:26.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.728-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53688","uuid":"8a675485-1da9-4221-8a5d-03946fc983df","connectionId":33,"connectionCount":33}}
17:31:26.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.728-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:53687","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.728-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:53688","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.729-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b3f2d02b-d691-4a7d-80d2-27218c7689fc"}},"options":{}}}
17:31:26.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.729-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"options":{}}}
17:31:26.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.730-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53689","uuid":"7889629b-2180-4266-b924-cc86de41396d","connectionId":34,"connectionCount":34}}
17:31:26.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.730-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:53689","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.730-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53690","uuid":"16a12539-7cff-4b88-b700-d7e7949a84ec","connectionId":35,"connectionCount":35}}
17:31:26.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.731-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:53690","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.731 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.731-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cb7d915f-a042-4b3e-92a6-3e5a4e301928"}},"options":{}}}
17:31:26.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.732-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53691","uuid":"e0d7f313-73de-4c04-959b-da2f7aa93d7e","connectionId":36,"connectionCount":36}}
17:31:26.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.733-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:53691","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.733-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"716e0bab-373c-4cf4-aa94-fe6a785066e5"}},"options":{}}}
17:31:26.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.733-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53692","uuid":"09a377bf-cb9f-4056-953e-8f052d8eff63","connectionId":37,"connectionCount":37}}
17:31:26.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.734-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a9a96a36-0d69-4727-b934-d941442d54ba"}},"options":{}}}
17:31:26.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.734-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:53692","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
17:31:26.734 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.735-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"92c96e5d-3500-417e-8ef6-74668e1aab7e"}},"options":{}}}
17:31:26.877 WARN  o.s.b.w.r.c.GenericReactiveWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.889 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:26.888-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:53656","uuid":"307ad17f-bd9b-4d65-b432-7e522cb616e8","connectionId":2,"connectionCount":36}}
17:31:26.889 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.889 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.889 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.889 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.889 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:26.888 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
17:31:27.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.145-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-13--9024706962401065335","collectionIdent":"collection-7--9024706962401065335","commitTimestamp":null}}
17:31:27.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.145-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-48--9024706962401065335","collectionIdent":"collection-7--9024706962401065335","commitTimestamp":null}}
17:31:27.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.145-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"55cd4d82-6414-411f-b847-82b898e00517"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:53659","protocol":"op_msg","durationMillis":447}}
17:31:27.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.145-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:53659","uuid":"9f545217-b436-4b27-ac32-eec42dd46a58","connectionId":4,"connectionCount":35}}
17:31:27.303 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.304-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:27.437 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.437-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:27.466 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.466-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
17:31:27.476 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.476-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e14f6f3a-d2f1-4e32-bc8b-c4aabfe4f8e7"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-46--9024706962401065335","collectionIdent":"collection-11--9024706962401065335","commitTimestamp":null}}
17:31:27.476 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.476-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e14f6f3a-d2f1-4e32-bc8b-c4aabfe4f8e7"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-81--9024706962401065335","collectionIdent":"collection-11--9024706962401065335","commitTimestamp":null}}
17:31:27.476 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.476-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"77459bd2-7bdf-4e4a-be39-dde088b5238e"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53663","protocol":"op_msg","durationMillis":774}}
17:31:27.476 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.476-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:53663","uuid":"646e8b8f-61dd-4309-8044-71acd4a4eaf2","connectionId":7,"connectionCount":34}}
17:31:27.485 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.485-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
17:31:27.493 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.493-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-49--9024706962401065335","collectionIdent":"collection-14--9024706962401065335","commitTimestamp":null}}
17:31:27.493 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.494-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-83--9024706962401065335","collectionIdent":"collection-14--9024706962401065335","commitTimestamp":null}}
17:31:27.493 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.494-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"eb364b8f-62b6-4ce3-a843-54324c7d8691"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53665","protocol":"op_msg","durationMillis":789}}
17:31:27.494 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.494-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:53665","uuid":"9c4c07b8-cf12-41c3-8182-0d272e47f1ac","connectionId":10,"connectionCount":33}}
17:31:27.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.503-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:27.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.513-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-51--9024706962401065335","collectionIdent":"collection-16--9024706962401065335","commitTimestamp":null}}
17:31:27.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.513-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-85--9024706962401065335","collectionIdent":"collection-16--9024706962401065335","commitTimestamp":null}}
17:31:27.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.513-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8aab63ed-8689-4925-af57-a500023a8278"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53666","protocol":"op_msg","durationMillis":805}}
17:31:27.513 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.513-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:53666","uuid":"6b211229-6683-42d0-90d6-4e4693013b1a","connectionId":11,"connectionCount":32}}
17:31:27.521 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.521-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
17:31:27.530 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.530-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
17:31:27.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.538-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-54--9024706962401065335","collectionIdent":"collection-19--9024706962401065335","commitTimestamp":null}}
17:31:27.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.538-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-88--9024706962401065335","collectionIdent":"collection-19--9024706962401065335","commitTimestamp":null}}
17:31:27.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.538-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fe040a0f-683e-4acd-bc21-b80a1b4b2c98"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53669","protocol":"op_msg","durationMillis":827}}
17:31:27.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.538-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:53669","uuid":"3f0d486c-5330-45c2-b7fd-bfa9e93af6bb","connectionId":14,"connectionCount":31}}
17:31:27.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.546-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
17:31:27.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.555-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"60a5dfcc-a1f0-4a8b-9af9-1ddf99beafbd"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-56--9024706962401065335","collectionIdent":"collection-21--9024706962401065335","commitTimestamp":null}}
17:31:27.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.555-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"60a5dfcc-a1f0-4a8b-9af9-1ddf99beafbd"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-90--9024706962401065335","collectionIdent":"collection-21--9024706962401065335","commitTimestamp":null}}
17:31:27.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.555-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fae66e79-5110-4268-829d-b62acfdce062"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53671","protocol":"op_msg","durationMillis":843}}
17:31:27.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.556-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:53671","uuid":"38149281-a554-4d1c-ac7b-79a6f449f474","connectionId":16,"connectionCount":30}}
17:31:27.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.564-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-57--9024706962401065335","collectionIdent":"collection-22--9024706962401065335","commitTimestamp":null}}
17:31:27.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.564-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-91--9024706962401065335","collectionIdent":"collection-22--9024706962401065335","commitTimestamp":null}}
17:31:27.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.564-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4e27532b-4329-4ed3-973e-0701839320c3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53672","protocol":"op_msg","durationMillis":851}}
17:31:27.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.564-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:53672","uuid":"a5edf657-5fe7-48b6-a907-5c00ee4fabe8","connectionId":17,"connectionCount":29}}
17:31:27.572 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.572-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
17:31:27.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.581-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-59--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:27.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.581-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-93--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:27.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.581-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"61de5518-f85d-4f90-8115-2928eb059f1a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53674","protocol":"op_msg","durationMillis":866}}
17:31:27.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.581-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:53674","uuid":"d93940f3-9f16-44ba-8ec4-391839282a15","connectionId":19,"connectionCount":28}}
17:31:27.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.589-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.598-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.606-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.615 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.615-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.633 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.633-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.641 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.642-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
17:31:27.651 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.652-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-67--9024706962401065335","collectionIdent":"collection-32--9024706962401065335","commitTimestamp":null}}
17:31:27.651 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.652-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-100--9024706962401065335","collectionIdent":"collection-32--9024706962401065335","commitTimestamp":null}}
17:31:27.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.652-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a47f4f39-8cd9-4440-8bab-2c01ba52e352"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53681","protocol":"op_msg","durationMillis":929}}
17:31:27.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.653-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:53681","uuid":"6b5c5c5a-2967-4369-8fb2-7138c86fb6b0","connectionId":26,"connectionCount":27}}
17:31:27.660 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.661-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
17:31:27.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.671-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-69--9024706962401065335","collectionIdent":"collection-34--9024706962401065335","commitTimestamp":null}}
17:31:27.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.671-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-102--9024706962401065335","collectionIdent":"collection-34--9024706962401065335","commitTimestamp":null}}
17:31:27.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.671-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"798a624e-cb90-4737-8794-0e9ac66e7720"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53683","protocol":"op_msg","durationMillis":946}}
17:31:27.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.671-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:53683","uuid":"029191f6-ed6a-4995-a56a-fa7dae800f31","connectionId":28,"connectionCount":26}}
17:31:27.680 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.681-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:27.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.695-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-71--9024706962401065335","collectionIdent":"collection-36--9024706962401065335","commitTimestamp":null}}
17:31:27.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.695-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-104--9024706962401065335","collectionIdent":"collection-36--9024706962401065335","commitTimestamp":null}}
17:31:27.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.695-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1f8f7d8e-b740-4a68-af3c-31aebf7fa292"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53685","protocol":"op_msg","durationMillis":968}}
17:31:27.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.695-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:53685","uuid":"ac7e1db4-73ed-43f2-804e-4c320b34d61f","connectionId":30,"connectionCount":25}}
17:31:27.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.705-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
17:31:27.713 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.714-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
17:31:27.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.725-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-74--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:27.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.726-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-107--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:27.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.726-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fbef7ce9-f493-4fb9-88b5-99bb38f6dc41"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:53688","protocol":"op_msg","durationMillis":996}}
17:31:27.725 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.726-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:53688","uuid":"8a675485-1da9-4221-8a5d-03946fc983df","connectionId":33,"connectionCount":24}}
17:31:27.734 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.735-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:27.744 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.745-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:27.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.765-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:27.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.773-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
17:31:27.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.774-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn1","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
17:31:27.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.774-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":12}}
17:31:27.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:27.774-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:53657","uuid":"f5167aff-f599-45e1-a78a-4eac2f240d1d","connectionId":1,"connectionCount":23}}
17:31:28.072 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.073-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4e6a3260-09b6-485f-89d4-3128edc1acb6"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"indexes":1,"firstIndex":{"name":"tenant_order_number_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
17:31:28.187 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.187-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3ae8efc2-2929-44bb-b371-14be128a2e6a"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"e14f6f3a-d2f1-4e32-bc8b-c4aabfe4f8e7"}},"indexes":1,"firstIndex":{"name":"tenant_email_idx"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
17:31:28.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.195-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e30f13e4-978d-4b1c-a160-299b41c0e150"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"indexes":1,"firstIndex":{"name":"tenant_slug_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
17:31:28.214 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.214-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7bfb3-4c77-4e7c-bb60-b68b85bf8faa"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.214 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.214-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"e1d7bfb3-4c77-4e7c-bb60-b68b85bf8faa"}},"collectionUUID":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}}}}
17:31:28.222 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.222-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"194e6f26-4169-4f7b-81e0-ba049df00e02"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.222 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.222-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"194e6f26-4169-4f7b-81e0-ba049df00e02"}},"collectionUUID":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}}}}
17:31:28.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.230-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0ca006a7-2072-4b6b-8b7a-7d65e0de6306"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.230-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn18","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"0ca006a7-2072-4b6b-8b7a-7d65e0de6306"}},"collectionUUID":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}}}}
17:31:28.238 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.239-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a6839b20-dfe1-495c-8099-3db4af2fabf2"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.238 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.239-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"a6839b20-dfe1-495c-8099-3db4af2fabf2"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.246 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.247-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5d0f366b-2a20-4e5c-bea1-aa50249bce8e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.246 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.247-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"5d0f366b-2a20-4e5c-bea1-aa50249bce8e"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.255 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.255-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"197b432f-9868-4137-904a-c5c20a9fd418"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.255 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.255-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"197b432f-9868-4137-904a-c5c20a9fd418"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.263 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.263-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4e858fcb-c765-4256-86f1-13f1e7e34dbe"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.263 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.263-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"4e858fcb-c765-4256-86f1-13f1e7e34dbe"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.271 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.271-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1d759a37-3903-482c-8d1a-5f741011824e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.271 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.272-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"1d759a37-3903-482c-8d1a-5f741011824e"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.279 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.280-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn24","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cd9ba4a9-527f-4daa-91b7-4b29f3a734aa"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.279 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.280-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn24","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"cd9ba4a9-527f-4daa-91b7-4b29f3a734aa"}},"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}}}}
17:31:28.288 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.288-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d385e064-ed58-4585-ae38-2651a3e0e57e"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.288 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.288-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"d385e064-ed58-4585-ae38-2651a3e0e57e"}},"collectionUUID":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}}}}
17:31:28.299 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.300-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3f7f291d-204a-43d2-8ed6-ccd016ed5050"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.299 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.300-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"3f7f291d-204a-43d2-8ed6-ccd016ed5050"}},"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}}}}
17:31:28.309 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.310-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"30c8c80a-0f30-4c3c-a8af-287b9c3ad533"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.309 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.310-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"30c8c80a-0f30-4c3c-a8af-287b9c3ad533"}},"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}}}}
17:31:28.328 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.329-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"26f1010e-3a2b-4632-ab35-ad62709af4cf"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
17:31:28.328 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.329-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"26f1010e-3a2b-4632-ab35-ad62709af4cf"}},"collectionUUID":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}}}}
17:31:28.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.344-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn34","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"5e4c2720-8ce9-49ce-9a52-c1a1dd8f0ab4"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.344-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn34","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"5e4c2720-8ce9-49ce-9a52-c1a1dd8f0ab4"}},"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}}}}
17:31:28.357 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.357-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2f2803ae-5bd2-4ba1-9cf9-50df3f8f05d9"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.357 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.357-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"2f2803ae-5bd2-4ba1-9cf9-50df3f8f05d9"}},"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}}}}
17:31:28.369 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.370-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn36","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"55ad9cb6-b881-40c1-a504-369cb0012f96"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.369 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.370-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn36","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"55ad9cb6-b881-40c1-a504-369cb0012f96"}},"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}}}}
17:31:28.380 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.381-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"aa4070e5-643d-4e57-af29-a134280c92ca"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.380 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.381-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"aa4070e5-643d-4e57-af29-a134280c92ca"}},"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}}}}
17:31:28.392 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.392-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-112--9024706962401065335","collectionIdent":"collection-7--9024706962401065335","commitTimestamp":null}}
17:31:28.392 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a605b86e-3c6a-4267-ade7-f09d86e445f1"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4e6a3260-09b6-485f-89d4-3128edc1acb6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn5","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"a605b86e-3c6a-4267-ade7-f09d86e445f1"}},"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6830a699-3dee-4da5-a573-4020220f6c5f"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4e6a3260-09b6-485f-89d4-3128edc1acb6"}}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn6","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"6830a699-3dee-4da5-a573-4020220f6c5f"}},"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}}}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6353111c-ba21-4e36-9a30-bd3b2b852a99"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":104311}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53658","protocol":"op_msg","durationMillis":1695}}
17:31:28.393 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.393-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:53658","uuid":"5142a011-6f9b-4add-af8c-4b896361b547","connectionId":3,"connectionCount":22}}
17:31:28.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.405-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e14f6f3a-d2f1-4e32-bc8b-c4aabfe4f8e7"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-113--9024706962401065335","collectionIdent":"collection-11--9024706962401065335","commitTimestamp":null}}
17:31:28.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.405-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3ae8efc2-2929-44bb-b371-14be128a2e6a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.405 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.405-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3ae8efc2-2929-44bb-b371-14be128a2e6a"}}}}
17:31:28.406 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.405-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"14c44b40-99a0-4a66-abfa-9b7cf06e42dd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53662","protocol":"op_msg","durationMillis":1703}}
17:31:28.406 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.406-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:53662","uuid":"41f1754d-3ad1-4ac8-a5f2-115948e2132c","connectionId":8,"connectionCount":21}}
17:31:28.416 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.416-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-114--9024706962401065335","collectionIdent":"collection-14--9024706962401065335","commitTimestamp":null}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e30f13e4-978d-4b1c-a160-299b41c0e150"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e30f13e4-978d-4b1c-a160-299b41c0e150"}}}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1afc5656-ecc8-4304-aa47-1e094f8e26be"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn12","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"1afc5656-ecc8-4304-aa47-1e094f8e26be"}},"collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}}}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7178335e-e077-4578-918e-07b07676d18a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":8642}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53664","protocol":"op_msg","durationMillis":1711}}
17:31:28.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.417-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:53664","uuid":"1fd1fb84-2d4a-4b7b-bcdb-6a65b6381fb3","connectionId":9,"connectionCount":20}}
17:31:28.428 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.428-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-115--9024706962401065335","collectionIdent":"collection-34--9024706962401065335","commitTimestamp":null}}
17:31:28.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.428-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3f7f291d-204a-43d2-8ed6-ccd016ed5050"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.428-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3f7f291d-204a-43d2-8ed6-ccd016ed5050"}}}}
17:31:28.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.429-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b2246a4b-eb88-45db-9956-61b4488cd21d"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53684","protocol":"op_msg","durationMillis":1703}}
17:31:28.429 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.429-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:53684","uuid":"65e3d7f4-e02d-4e8e-bf8d-0d0afdf7c3c6","connectionId":29,"connectionCount":19}}
17:31:28.447 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.447-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"79a5f5be-679b-448c-aad5-a638f18180bf"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-116--9024706962401065335","collectionIdent":"collection-16--9024706962401065335","commitTimestamp":null}}
17:31:28.448 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.447-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7bfb3-4c77-4e7c-bb60-b68b85bf8faa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.448 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.448-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e1d7bfb3-4c77-4e7c-bb60-b68b85bf8faa"}}}}
17:31:28.448 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.448-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d3604438-3832-4e63-b3aa-6f651b859aa6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53668","protocol":"op_msg","durationMillis":1738}}
17:31:28.448 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.448-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:53668","uuid":"e66e3f93-0543-4cd9-b5d8-aa835b321014","connectionId":13,"connectionCount":18}}
17:31:28.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.459-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fbef1e3a-ae0c-4c28-a26d-321515244e16"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-117--9024706962401065335","collectionIdent":"collection-34--9024706962401065335","commitTimestamp":null}}
17:31:28.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.459-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"30c8c80a-0f30-4c3c-a8af-287b9c3ad533"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.459-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"30c8c80a-0f30-4c3c-a8af-287b9c3ad533"}}}}
17:31:28.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.459-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2945c94d-5369-47b0-bfa6-b8e473b1431c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":23290}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53686","protocol":"op_msg","durationMillis":1732}}
17:31:28.460 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.460-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:53686","uuid":"af8d7f7e-530d-4b48-9972-a6c269b851ed","connectionId":31,"connectionCount":17}}
17:31:28.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.470-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c9b85bd0-a30a-4787-b3e0-d09870df7ee6"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-118--9024706962401065335","collectionIdent":"collection-19--9024706962401065335","commitTimestamp":null}}
17:31:28.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.470-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"194e6f26-4169-4f7b-81e0-ba049df00e02"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.470-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"194e6f26-4169-4f7b-81e0-ba049df00e02"}}}}
17:31:28.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.470-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c7889bda-e4a0-4a40-9d99-acc363350be1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53670","protocol":"op_msg","durationMillis":1758}}
17:31:28.470 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.470-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:53670","uuid":"9350f9e7-cc4a-4df7-8c55-db3093f103d2","connectionId":15,"connectionCount":16}}
17:31:28.486 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.486-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"35053fe9-4e7a-4825-86d8-f1c804ddad3f"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-119--9024706962401065335","collectionIdent":"collection-22--9024706962401065335","commitTimestamp":null}}
17:31:28.487 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.487-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0ca006a7-2072-4b6b-8b7a-7d65e0de6306"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.487 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.487-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0ca006a7-2072-4b6b-8b7a-7d65e0de6306"}}}}
17:31:28.487 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.487-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d6121101-d872-4bc9-832c-9652d0d9bd25"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53673","protocol":"op_msg","durationMillis":1772}}
17:31:28.487 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.487-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:53673","uuid":"a289d59b-c4f8-493c-8b91-c2113e1e6a98","connectionId":18,"connectionCount":15}}
17:31:28.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.498-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-120--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.499-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a6839b20-dfe1-495c-8099-3db4af2fabf2"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.499-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a6839b20-dfe1-495c-8099-3db4af2fabf2"}}}}
17:31:28.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.499-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"82aa9a6d-4c07-4854-ae37-683c95a14eeb"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53675","protocol":"op_msg","durationMillis":1782}}
17:31:28.499 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.499-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:53675","uuid":"8afbaec8-24e2-4f6d-867d-c7f7c7070081","connectionId":20,"connectionCount":14}}
17:31:28.511 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.512-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-121--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.512-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5d0f366b-2a20-4e5c-bea1-aa50249bce8e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.512-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5d0f366b-2a20-4e5c-bea1-aa50249bce8e"}}}}
17:31:28.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.512-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7b354a8f-b32c-4b0b-92a2-2e0a2b8969ba"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28755}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53676","protocol":"op_msg","durationMillis":1795}}
17:31:28.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.512-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:53676","uuid":"f2fb08b7-11ba-4b32-af27-75ba73064007","connectionId":21,"connectionCount":13}}
17:31:28.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.524-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-122--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.524-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"197b432f-9868-4137-904a-c5c20a9fd418"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.524-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"197b432f-9868-4137-904a-c5c20a9fd418"}}}}
17:31:28.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.524-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7527717c-434a-41df-ad05-39407919df79"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":25274}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53677","protocol":"op_msg","durationMillis":1806}}
17:31:28.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.525-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:53677","uuid":"39c1b381-6189-422b-80da-1574cbc71120","connectionId":22,"connectionCount":12}}
17:31:28.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.535-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-123--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.535-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4e858fcb-c765-4256-86f1-13f1e7e34dbe"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.535-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4e858fcb-c765-4256-86f1-13f1e7e34dbe"}}}}
17:31:28.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.535-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"44698946-73ef-42e9-9501-fb1852cf2d2a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":25408}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53678","protocol":"op_msg","durationMillis":1817}}
17:31:28.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.536-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:53678","uuid":"ac9af528-e0ed-4700-90aa-da8a85fe3bcb","connectionId":23,"connectionCount":11}}
17:31:28.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.547-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6a61996f-1824-4e8a-b920-56e032488631"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-124--9024706962401065335","collectionIdent":"collection-32--9024706962401065335","commitTimestamp":null}}
17:31:28.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.547-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d385e064-ed58-4585-ae38-2651a3e0e57e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.547-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d385e064-ed58-4585-ae38-2651a3e0e57e"}}}}
17:31:28.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.547-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d2ad259e-fc1b-4bc0-aea4-6b2bda393dd3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53682","protocol":"op_msg","durationMillis":1823}}
17:31:28.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.547-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:53682","uuid":"c6cb8db7-712e-4aa7-b7ee-f6215d5e2344","connectionId":27,"connectionCount":10}}
17:31:28.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.560-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-125--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.560-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1d759a37-3903-482c-8d1a-5f741011824e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.560-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1d759a37-3903-482c-8d1a-5f741011824e"}}}}
17:31:28.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.561-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fbed6a1a-4f70-416c-b95b-7333b3047309"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":23447}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53680","protocol":"op_msg","durationMillis":1840}}
17:31:28.561 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.561-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:53680","uuid":"4238592a-e991-4956-ae8d-932d0cb7f4f5","connectionId":25,"connectionCount":9}}
17:31:28.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.569-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c89f528-f18b-449b-be26-fd6acac972a7"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-126--9024706962401065335","collectionIdent":"collection-36--9024706962401065335","commitTimestamp":null}}
17:31:28.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.569-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"26f1010e-3a2b-4632-ab35-ad62709af4cf"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.569-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"26f1010e-3a2b-4632-ab35-ad62709af4cf"}}}}
17:31:28.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.570-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a6bc5c1b-8918-4dc3-9373-59bf15d3e8c1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53687","protocol":"op_msg","durationMillis":1840}}
17:31:28.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.570-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:53687","uuid":"2df15d6a-feb2-4820-a911-e82712c2d8c3","connectionId":32,"connectionCount":8}}
17:31:28.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.581-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d785b3d4-7ee7-4ebe-b564-f0a4fc4f9125"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-127--9024706962401065335","collectionIdent":"collection-24--9024706962401065335","commitTimestamp":null}}
17:31:28.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.581-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn24","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cd9ba4a9-527f-4daa-91b7-4b29f3a734aa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.581-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn24","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cd9ba4a9-527f-4daa-91b7-4b29f3a734aa"}}}}
17:31:28.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.581-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"fd83a845-98cd-4508-b487-bc68ee6bd3a5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":36387}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53679","protocol":"op_msg","durationMillis":1860}}
17:31:28.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.581-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:53679","uuid":"0a58e391-79f9-4209-a912-2bb6e84d2f4a","connectionId":24,"connectionCount":7}}
17:31:28.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.590-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-128--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:28.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.590-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn34","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"5e4c2720-8ce9-49ce-9a52-c1a1dd8f0ab4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.590-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn34","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"5e4c2720-8ce9-49ce-9a52-c1a1dd8f0ab4"}}}}
17:31:28.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.590-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"dc796416-c70b-4bfe-af83-edfbfdedc9bd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53689","protocol":"op_msg","durationMillis":1859}}
17:31:28.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.591-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:53689","uuid":"7889629b-2180-4266-b924-cc86de41396d","connectionId":34,"connectionCount":6}}
17:31:28.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.603-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-129--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:28.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.603-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2f2803ae-5bd2-4ba1-9cf9-50df3f8f05d9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.603-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2f2803ae-5bd2-4ba1-9cf9-50df3f8f05d9"}}}}
17:31:28.603 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.604-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4fdee3f0-c2f6-4fc6-b62a-9c2fe668424c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":20945}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:53690","protocol":"op_msg","durationMillis":1870}}
17:31:28.604 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.604-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:53690","uuid":"16a12539-7cff-4b88-b700-d7e7949a84ec","connectionId":35,"connectionCount":5}}
17:31:28.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.617-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-131--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:28.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.617-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn36","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"55ad9cb6-b881-40c1-a504-369cb0012f96"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.617-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn36","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"55ad9cb6-b881-40c1-a504-369cb0012f96"}}}}
17:31:28.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.618-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"31b5acdf-c3ff-47df-a4d3-7145a42216a6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":22632}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:53691","protocol":"op_msg","durationMillis":1883}}
17:31:28.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.618-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:53691","uuid":"e0d7f313-73de-4c04-959b-da2f7aa93d7e","connectionId":36,"connectionCount":4}}
17:31:28.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.628-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-130--9024706962401065335","collectionIdent":"collection-7--9024706962401065335","commitTimestamp":null}}
17:31:28.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.628-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6830a699-3dee-4da5-a573-4020220f6c5f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.628-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6830a699-3dee-4da5-a573-4020220f6c5f"}}}}
17:31:28.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.628-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cc1aa826-3976-4bda-96d6-be9871a8106f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":244543}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53661","protocol":"op_msg","durationMillis":1929}}
17:31:28.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.629-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:53661","uuid":"6b245730-a2ec-4d76-ab5f-2bda9c9ebcbd","connectionId":6,"connectionCount":3}}
17:31:28.641 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.642-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b7b0d1f8-3bf4-43cd-ba07-7b6d1429255c"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-132--9024706962401065335","collectionIdent":"collection-39--9024706962401065335","commitTimestamp":null}}
17:31:28.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.642-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"aa4070e5-643d-4e57-af29-a134280c92ca"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.642-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"aa4070e5-643d-4e57-af29-a134280c92ca"}}}}
17:31:28.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.642-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b340c5b4-cbac-48f5-8884-fb4b92568cf9"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":26890}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:53692","protocol":"op_msg","durationMillis":1907}}
17:31:28.642 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.642-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:53692","uuid":"09a377bf-cb9f-4056-953e-8f052d8eff63","connectionId":37,"connectionCount":2}}
17:31:28.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.656-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"949d067f-6a4a-40a9-97dd-8327ff0bd2bc"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-133--9024706962401065335","collectionIdent":"collection-14--9024706962401065335","commitTimestamp":null}}
17:31:28.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.656-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1afc5656-ecc8-4304-aa47-1e094f8e26be"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.656-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1afc5656-ecc8-4304-aa47-1e094f8e26be"}}}}
17:31:28.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.656-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cae8f675-5bc7-47f9-a981-00bc2d2f1c5c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":212403}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:53667","protocol":"op_msg","durationMillis":1947}}
17:31:28.656 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.656-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:53667","uuid":"575da13b-d870-4aeb-842b-53331f47c9d7","connectionId":12,"connectionCount":1}}
17:31:28.666 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.666-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e68ffa7f-baa9-40be-beb5-c16e5bb5a31a"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-134--9024706962401065335","collectionIdent":"collection-7--9024706962401065335","commitTimestamp":null}}
17:31:28.666 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.666-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a605b86e-3c6a-4267-ade7-f09d86e445f1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
17:31:28.666 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.666-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a605b86e-3c6a-4267-ade7-f09d86e445f1"}}}}
17:31:28.666 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.666-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1976d594-1cb7-4594-9e69-4a9b105b33a7"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":215351,"W":10877}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:53660","protocol":"op_msg","durationMillis":1966}}
17:31:28.666 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.666-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:53660","uuid":"14db665a-b185-48a2-8436-9f2f0f143b1b","connectionId":5,"connectionCount":0}}
17:31:28.908 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.909-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53696","uuid":"28b60a39-ea79-4cec-b610-59b5e271adf8","connectionId":38,"connectionCount":1}}
17:31:28.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.909-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:53696"}}}
17:31:28.909 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
17:31:28.910 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:28.910-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:53696","uuid":"28b60a39-ea79-4cec-b610-59b5e271adf8","connectionId":38,"connectionCount":0}}
17:31:29.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.012-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:53697","uuid":"1bd7b39f-3279-48d0-8a4c-168693fe416f","connectionId":39,"connectionCount":1}}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.014-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.014-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.014-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.014-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.014-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
17:31:29.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.015-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
17:31:29.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
17:31:29.016 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
17:31:29.016 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.016-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
17:31:29.016 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.017-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
17:31:29.017 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.017-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:29.017 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.017-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
17:31:29.017 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.017-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
17:31:29.017 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
17:31:29.017 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
17:31:29.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
17:31:29.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
17:31:29.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
17:31:29.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
17:31:29.018 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.018-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
17:31:29.045 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.046-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.046-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.046-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.046-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.046-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.047-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.047-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.047-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
17:31:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.047-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
17:31:29.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.084-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":37}}
17:31:29.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.084-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
17:31:29.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.084-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
17:31:29.083 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.084-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
17:31:29.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.086-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
17:31:29.085 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T17:31:29.086-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
17:31:29.213 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
17:31:29.214 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 97 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 108 common frames omitted



============================
CONDITIONS EVALUATION REPORT
============================


Positive matches:
-----------------

    None


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



17:31:29.214 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.domain.product.ProductServiceTest@1ea555d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 97 common frames omitted
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 108 common frames omitted
17:31:29.216 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.domain.product.ProductServiceTest@2a37e02b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.216 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.domain.product.ProductServiceTest@5a7ec872]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.217 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.domain.product.ProductServiceTest@2d2ec76]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.218 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.domain.product.ProductServiceTest@9405163]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 3.343 s <<< FAILURE! -- in com.retail.domain.product.ProductServiceTest
[ERROR] com.retail.domain.product.ProductServiceTest.shouldCreateProductForTenant -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productSearchRepository' defined in com.retail.infrastructure.search.ProductSearchRepository defined in @EnableReactiveElasticsearchRepositories declared on ElasticsearchConfig: @Field annotation must not be used on a @MultiField property.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 41 more
Caused by: org.springframework.data.mapping.MappingException: @Field annotation must not be used on a @MultiField property.
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchPersistentProperty.<init>(SimpleElasticsearchPersistentProperty.java:107)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:77)
	at org.springframework.data.elasticsearch.core.mapping.SimpleElasticsearchMappingContext.createPersistentProperty(SimpleElasticsearchMappingContext.java:34)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:568)
	at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:546)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:728)
	at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:426)
	at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:383)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:279)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:205)
	at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:91)
	at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:74)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getEntityInformation(ReactiveElasticsearchRepositoryFactory.java:120)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 52 more

[ERROR] com.retail.domain.product.ProductServiceTest.shouldIsolateProductsByTenant -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.domain.product.ProductServiceTest.shouldNotFindProductFromDifferentTenant -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.domain.product.ProductServiceTest.shouldUpdateProductOnlyForCorrectTenant -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.domain.product.ProductServiceTest.shouldDeleteProductOnlyForCorrectTenant -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.product.ProductServiceUnitTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s -- in com.retail.domain.product.ProductServiceUnitTest
[INFO] Running com.retail.domain.product.ProductTest
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s -- in com.retail.domain.product.ProductTest
[INFO] Running com.retail.domain.shipping.ShippingRateCalculatorTest
17:31:29.240 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.242 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.243 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.243 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.243 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.243 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
17:31:29.245 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.247 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 90001
17:31:29.248 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.248 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
17:31:29.248 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.249 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.250 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.251 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.251 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
17:31:29.253 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.254 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.254 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
17:31:29.256 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.256 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
17:31:29.257 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 10050
17:31:29.258 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
17:31:29.259 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.020 s -- in com.retail.domain.shipping.ShippingRateCalculatorTest
[INFO] Running com.retail.domain.tax.TaxCalculationServiceTest
17:31:29.261 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
17:31:29.262 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
17:31:29.263 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, PA
17:31:29.263 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.29 for tenant: test-tenant
17:31:29.264 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.264 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
17:31:29.264 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.264 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 9.97 for tenant: test-tenant
17:31:29.265 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, DE
17:31:29.265 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
17:31:29.266 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, IL
17:31:29.266 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.06 for tenant: test-tenant
17:31:29.266 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, FL
17:31:29.266 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
17:31:29.268 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, OR
17:31:29.268 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
17:31:29.268 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in New York, NY
17:31:29.268 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
17:31:29.275 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.275 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 8.26 for tenant: test-tenant
17:31:29.276 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, WA
17:31:29.276 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.85 for tenant: test-tenant
17:31:29.276 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, TX
17:31:29.276 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
17:31:29.277 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.278 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
17:31:29.278 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 2.47 for tenant: test-tenant
17:31:29.278 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.278 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
17:31:29.280 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
17:31:29.280 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
17:31:29.280 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, XX
17:31:29.281 WARN  c.r.domain.tax.TaxCalculationService - Unknown state: XX, applying zero tax
[ERROR] Tests run: 20, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.021 s <<< FAILURE! -- in com.retail.domain.tax.TaxCalculationServiceTest
[ERROR] com.retail.domain.tax.TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware -- Time elapsed: 0.001 s <<< FAILURE!
java.lang.AssertionError: expectation "expectNext(0)" failed (expected value: 0; actual value: 0.00)
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:512)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSubscribe(DefaultStepVerifierBuilder.java:1161)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.tax.TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware(TaxCalculationServiceTest.java:217)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.001 s <<< FAILURE! -- in com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]
	at org.springframework.test.context.BootstrapUtils.resolveExplicitTestContextBootstrapper(BootstrapUtils.java:194)
	at org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:150)
	at org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:126)
	at org.springframework.test.context.TestContextManager.<init>(TestContextManager.java:126)
	at org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:366)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:131)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 s <<< FAILURE! -- in com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: Configuration error: found multiple declarations of @BootstrapWith for test class [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]
	at org.springframework.test.context.BootstrapUtils.resolveExplicitTestContextBootstrapper(BootstrapUtils.java:194)
	at org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:150)
	at org.springframework.test.context.BootstrapUtils.resolveTestContextBootstrapper(BootstrapUtils.java:126)
	at org.springframework.test.context.TestContextManager.<init>(TestContextManager.java:126)
	at org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:366)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:131)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.RetailApplicationTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s -- in com.retail.RetailApplicationTest
[INFO] Running com.retail.security.AuthenticationSecurityTest
17:31:29.289 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthenticationSecurityTest]: AuthenticationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:29.297 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthenticationSecurityTest
17:31:29.299 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@4906fbd0]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.300 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@16c5e7ad]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.301 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@682c8352]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.301 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@3feefdcc]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.302 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@7488a9ac]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.302 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@46441754]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.303 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@1bf1f019]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.303 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@17d1cd42]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.304 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@67dd1ef]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.305 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@227f6796]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.306 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@1cff987c]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.306 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@16d8ee2e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.308 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthenticationSecurityTest@2c56d4ab]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 0.021 s <<< FAILURE! -- in com.retail.security.AuthenticationSecurityTest
[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectUnauthenticatedRequests -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testHttpsRequirement -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testPasswordHashing -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectExpiredJwtToken -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSqlInjectionPrevention -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSecureCookieFlags -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testLoginRateLimiting -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectInvalidJwtToken -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testPasswordNotInErrorMessages -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectWeakPasswords -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testTokenInvalidationOnLogout -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testUserEnumerationPrevention -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testNoSqlInjectionPrevention -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.AuthorizationSecurityTest
17:31:29.310 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthorizationSecurityTest]: AuthorizationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:29.312 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthorizationSecurityTest
17:31:29.314 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@6185f1ec]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.315 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@4ddb3312]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.316 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@534b0af3]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.317 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@43ab3f26]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.317 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@2943c93d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.318 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@26dc0c5]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.318 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@351cc4b5]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.319 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@6dfd4db2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.320 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@33c440bb]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.321 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@630bd6c1]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.321 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@622ec92a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.322 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@5f8b60f3]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.323 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@4cf22d79]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.323 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@72364ff1]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.324 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@7963767d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.325 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.AuthorizationSecurityTest@3e7aa2c9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 16, Failures: 0, Errors: 16, Skipped: 0, Time elapsed: 0.016 s <<< FAILURE! -- in com.retail.security.AuthorizationSecurityTest
[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanDeleteProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testPreventPrivilegeEscalation -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotDeleteProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testMethodLevelSecurity -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanAccessAllEndpoints -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanCreateProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanManageUserRoles -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanCreateProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testRoleChangeAuthorization -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotCreateProducts -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessOwnOrders -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.TenantIsolationSecurityTest
17:31:29.328 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.TenantIsolationSecurityTest]: TenantIsolationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
17:31:29.329 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.TenantIsolationSecurityTest
17:31:29.330 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@4e025001]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.331 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@5d22af13]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.332 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@58cec3bb]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.332 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@344f27f3]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.332 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@1e6dbdb1]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.333 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@45313248]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.333 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@579f253]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.334 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@26159658]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.335 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@48d2a802]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.336 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@7aec4791]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.337 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@3c00c7ab]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.337 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@59b0d24d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
17:31:29.338 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.security.TenantIsolationSecurityTest@7def94bb]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 0.011 s <<< FAILURE! -- in com.retail.security.TenantIsolationSecurityTest
[ERROR] com.retail.security.TenantIsolationSecurityTest.testCannotCreateProductWithDifferentTenantId -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testAutomaticTenantFiltering -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantIsolationInAggregates -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testCrossTenantProductDelete -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testSearchQueriesRespectTenantIsolation -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testCrossTenantProductUpdate -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantBCannotSeeTenantAProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantACannotSeeTenantBProducts -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testCrossTenantOrderAccessByOrderNumber -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantContextCannotBeOverridden -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantACannotSeeTenantBOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testCrossTenantOrderAccessById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.TenantIsolationSecurityTest.testCrossTenantProductAccessById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate:249 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.127423700Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.123386Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully:273 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.223008900Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.222009600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics:225 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-03T23:31:25.220011400Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-03T23:31:25.219030600Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview:99 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold:177 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   SavedCartServiceTest.getSavedCart_whenExists_shouldReturnExistingCart:58 expectation "assertNext" failed (expected: onNext(); actual: onError(java.lang.NullPointerException: other))
[ERROR]   TaxCalculationServiceTest.shouldGetZeroEffectiveTaxRateForDelaware:217 expectation "expectNext(0)" failed (expected value: 0; actual value: 0.00)
[ERROR] Errors: 
[ERROR]   HealthControllerTest.health_ShouldReturnStatusUp  IllegalState Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@78a03662 testClass = com.retail.controller.HealthControllerTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1ac32da1 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testCreateProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testDeleteProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testGetLowStockProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testGetProductById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testGetProductByIdNotFound  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testListProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testListProductsWithCategoryFilter  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testListProductsWithStatusFilter  IllegalState Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testPagination  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testRequestWithoutTenantHeader  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testUpdateProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductControllerIntegrationTest.testUpdateProductNotFound  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@74e8ef59 testClass = com.retail.controller.ProductControllerIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@2e1a8c1a key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OAuth2ServiceTest.authenticateWithOAuth2_invalidProvider_shouldFail:202  IllegalArgument Unsupported OAuth2 provider: INVALID_PROVIDER
[ERROR]   PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment:69  PotentialStubbingProblem 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'createTransaction' method:
    paymentService.createTransaction(
    "order-123",
    100.00,
    "USD",
    PAYPAL,
    null
);
    -> at com.retail.domain.payment.PaymentProcessingService.processPayment(PaymentProcessingService.java:67)
 - has following stubbing(s) with different arguments:
    1. paymentService.createTransaction(
    null,
    null,
    null,
    null,
    ""
);
      -> at com.retail.domain.payment.PaymentProcessingServiceTest.processPayment_shouldCreateAndAuthorizePayment(PaymentProcessingServiceTest.java:57)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
[ERROR]   ProductServiceTest.shouldCreateProductForTenant  IllegalState Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductServiceTest.shouldDeleteProductOnlyForCorrectTenant  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductServiceTest.shouldIsolateProductsByTenant  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductServiceTest.shouldNotFindProductFromDifferentTenant  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductServiceTest.shouldUpdateProductOnlyForCorrectTenant  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3bdb3f28 testClass = com.retail.domain.product.ProductServiceTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1653ae9d key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest  IllegalState Configuration error: found multiple declarations of @BootstrapWith for test class [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]
[ERROR]   ProductRepositoryIntegrationTest  IllegalState Configuration error: found multiple declarations of @BootstrapWith for test class [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest]: [@org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTestContextBootstrapper.class), @org.springframework.test.context.BootstrapWith(value=org.springframework.boot.test.context.SpringBootTestContextBootstrapper.class)]
[ERROR]   AuthenticationSecurityTest.testHttpsRequirement  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testLoginRateLimiting  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testNoSqlInjectionPrevention  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testPasswordHashing  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testPasswordNotInErrorMessages  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testRejectExpiredJwtToken  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testRejectInvalidJwtToken  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testRejectUnauthenticatedRequests  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testRejectWeakPasswords  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testSecureCookieFlags  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testSqlInjectionPrevention  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testTokenInvalidationOnLogout  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthenticationSecurityTest.testUserEnumerationPrevention  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@3b44d50b testClass = com.retail.security.AuthenticationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@84fb597 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testAdminCanAccessAllEndpoints  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testAdminCanCreateProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testAdminCanDeleteProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testAdminCanManageUserRoles  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessOwnOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCannotCreateProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testCustomerCannotDeleteProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testMethodLevelSecurity  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testPreventPrivilegeEscalation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testRoleChangeAuthorization  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanCreateProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@289bc75c testClass = com.retail.security.AuthorizationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4c6c2473 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, com.retail.TestRedisConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@83c4cc5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testAutomaticTenantFiltering  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCannotCreateProductWithDifferentTenantId  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCrossTenantOrderAccessById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCrossTenantOrderAccessByOrderNumber  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCrossTenantProductAccessById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCrossTenantProductDelete  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testCrossTenantProductUpdate  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testSearchQueriesRespectTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testTenantACannotSeeTenantBOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testTenantACannotSeeTenantBProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testTenantBCannotSeeTenantAProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testTenantContextCannotBeOverridden  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   TenantIsolationSecurityTest.testTenantIsolationInAggregates  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@7defd5f5 testClass = com.retail.security.TenantIsolationSecurityTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a09fe7e key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7c847072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@71e4b308, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f70a21b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@1937eaff, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@5ad5be4a, org.springframework.boot.test.context.SpringBootTestAnnotation@354ad8ff], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[INFO] 
[ERROR] Tests run: 247, Failures: 7, Errors: 65, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  27.012 s
[INFO] Finished at: 2025-12-03T17:31:29-06:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.2.3:test (default-test) on project retail-backend: There are test failures.
[ERROR] 
[ERROR] Please refer to D:\code\retail-agentic\backend\target\surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
