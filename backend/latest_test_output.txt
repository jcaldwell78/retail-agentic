WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.fusesource.jansi.internal.JansiLoader in an unnamed module (file:/D:/apache-maven-3.9.9-bin/apache-maven-3.9.9/lib/jansi-2.4.1.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper (file:/D:/apache-maven-3.9.9-bin/apache-maven-3.9.9/lib/guava-33.2.1-jre.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.common.util.concurrent.AbstractFuture$UnsafeAtomicHelper
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< com.retail:retail-backend >----------------------
[INFO] Building Retail Platform Backend 1.0.0-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- jacoco:0.8.14:prepare-agent (default) @ retail-backend ---
[INFO] argLine set to -javaagent:C:\\Users\\codep\\.m2\\repository\\org\\jacoco\\org.jacoco.agent\\0.8.14\\org.jacoco.agent-0.8.14-runtime.jar=destfile=D:\\code\\retail-agentic\\backend\\target\\jacoco.exec
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ retail-backend ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.14.1:compile (default-compile) @ retail-backend ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ retail-backend ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.14.1:testCompile (default-testCompile) @ retail-backend ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.5.4:test (default-test) @ retail-backend ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.retail.controller.AuthControllerTest
WARNING: A Java agent has been loaded dynamically (C:\Users\codep\.m2\repository\net\bytebuddy\byte-buddy-agent\1.15.10\byte-buddy-agent-1.15.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::objectFieldOffset has been called by net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction (file:/C:/Users/codep/.m2/repository/net/bytebuddy/byte-buddy/1.15.10/byte-buddy-1.15.10.jar)
WARNING: Please consider reporting this to the maintainers of class net.bytebuddy.dynamic.loading.ClassInjector$UsingUnsafe$Dispatcher$CreationAction
WARNING: sun.misc.Unsafe::objectFieldOffset will be removed in a future release
21:32:22.519 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
21:32:22.546 [main] INFO com.retail.controller.AuthController -- Login successful for: test@example.com
21:32:22.588 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: existing@example.com tenant: test-tenant
21:32:22.597 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: newuser@example.com tenant: test-tenant
21:32:22.599 [main] INFO com.retail.controller.AuthController -- Registration successful for: newuser@example.com
21:32:22.604 [main] INFO com.retail.controller.AuthController -- Login attempt for email: nonexistent@example.com tenant: test-tenant
21:32:22.605 [main] WARN com.retail.controller.AuthController -- Login failed for: nonexistent@example.com
21:32:22.613 [main] INFO com.retail.controller.AuthController -- Login attempt for email: test@example.com tenant: test-tenant
21:32:22.613 [main] WARN com.retail.controller.AuthController -- Login failed for: test@example.com
21:32:22.621 [main] INFO com.retail.controller.AuthController -- Registration attempt for email: shared@example.com tenant: test-tenant
21:32:22.622 [main] INFO com.retail.controller.AuthController -- Registration successful for: shared@example.com
21:32:22.630 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
21:32:22.632 [main] ERROR com.retail.controller.AuthController -- OAuth2 login failed
java.lang.RuntimeException: Invalid token
	at com.retail.controller.AuthControllerTest.oauth2Login_invalidToken_shouldReturnUnauthorized(AuthControllerTest.java:194)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:22.643 [main] INFO com.retail.controller.AuthController -- Login attempt for email: oauth@example.com tenant: test-tenant
21:32:22.644 [main] WARN com.retail.controller.AuthController -- Login failed for: oauth@example.com
21:32:22.652 [main] INFO com.retail.controller.AuthController -- OAuth2 login for provider: GOOGLE tenant: test-tenant
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.442 s -- in com.retail.controller.AuthControllerTest
[INFO] Running com.retail.controller.HealthControllerTest
21:32:22.807 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.retail.controller.HealthControllerTest]: HealthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:23.062 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.HealthControllerTest
21:32:23.225 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

21:32:23.601 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
21:32:23.633 INFO  c.r.controller.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 41952 (started by codep in D:\code\retail-agentic\backend)
21:32:23.633 INFO  c.r.controller.HealthControllerTest - The following 1 profile is active: "test"
21:32:25.611 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:25.653 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:25.743 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:25.781 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:25.788 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:26.056 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
21:32:26.371 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.370-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
21:32:26.440 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.440-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
21:32:26.440 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.441-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
21:32:26.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.443-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
21:32:26.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.443-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
21:32:26.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.443-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
21:32:26.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.443-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
21:32:26.444 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.445-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":16344,"port":59754,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--afaa40fc-86b4-4b4a-8b86-0c5a65de75f2/mongod-database18022557526881655496","architecture":"64-bit","host":"jon-desktop"}}
21:32:26.445 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.445-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
21:32:26.445 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.445-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
21:32:26.445 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.445-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
21:32:26.445 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.445-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":59754},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--afaa40fc-86b4-4b4a-8b86-0c5a65de75f2\\mongod-database18022557526881655496","journal":{"enabled":false},"syncPeriodSecs":0}}}}
21:32:26.447 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.448-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
21:32:26.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.503-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":55}}
21:32:26.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.503-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:26.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.542-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"5138ca12-9494-49a2-b6a9-54fdb1861ef1"}},"options":{"uuid":{"$uuid":"5138ca12-9494-49a2-b6a9-54fdb1861ef1"}}}}
21:32:26.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5138ca12-9494-49a2-b6a9-54fdb1861ef1"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--713539220772356579","collectionIdent":"collection-0--713539220772356579","commitTimestamp":null}}
21:32:26.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
21:32:26.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
21:32:26.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:26.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:26.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.565-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
21:32:26.572 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.572-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
21:32:26.572 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.572-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
21:32:26.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.795-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--afaa40fc-86b4-4b4a-8b86-0c5a65de75f2/mongod-database18022557526881655496/diagnostic.data"}}
21:32:26.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.797-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0a9cdd85-0481-4489-8440-3cd3cda24fdd"}},"options":{"capped":true,"size":10485760}}}
21:32:26.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.823-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"0a9cdd85-0481-4489-8440-3cd3cda24fdd"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--713539220772356579","collectionIdent":"collection-2--713539220772356579","commitTimestamp":null}}
21:32:26.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.823-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
21:32:26.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.823-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
21:32:26.824 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.825-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
21:32:26.824 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.825-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ff9d2971-0fd8-414e-a650-e7282e2170ef"}},"options":{}}}
21:32:26.824 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.825-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
21:32:26.825 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.825-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":59754,"ssl":"off"}}
21:32:26.892 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.892-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ff9d2971-0fd8-414e-a650-e7282e2170ef"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--713539220772356579","collectionIdent":"collection-4--713539220772356579","commitTimestamp":null}}
21:32:26.892 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:26.892-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ff9d2971-0fd8-414e-a650-e7282e2170ef"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--713539220772356579","collectionIdent":"collection-4--713539220772356579","commitTimestamp":null}}
21:32:27.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.235-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59756","uuid":"c79b352f-7892-4f53-bf72-2ca41ed6e494","connectionId":1,"connectionCount":1}}
21:32:27.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.235-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59757","uuid":"bfc5eab3-0f3b-4717-9d4f-e3f356d23a03","connectionId":2,"connectionCount":2}}
21:32:27.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.275-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:59756","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.275-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:59757","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.571 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
21:32:27.572 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
21:32:27.648 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
21:32:27.648 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
21:32:27.652 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
21:32:27.652 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
21:32:27.653 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.654-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59759","uuid":"0848d361-21ff-49e1-8283-85c37b40e81f","connectionId":3,"connectionCount":3}}
21:32:27.653 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.654-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59760","uuid":"d05cca54-6246-478d-bf8d-7e42f0d5e408","connectionId":4,"connectionCount":4}}
21:32:27.657 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
21:32:27.657 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
21:32:27.659 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
21:32:27.659 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
21:32:27.659 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
21:32:27.660 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.660-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:59760","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.660 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.660-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:59759","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.661 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
21:32:27.665 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
21:32:27.667 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
21:32:27.668 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.669-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59761","uuid":"6c5d42a5-bccc-49c1-a9b1-c1c1401618e7","connectionId":5,"connectionCount":5}}
21:32:27.669 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.669-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59762","uuid":"e4d16b81-9667-4d59-abcf-2b67f642ffe1","connectionId":6,"connectionCount":6}}
21:32:27.670 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
21:32:27.670 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
21:32:27.670 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
21:32:27.670 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
21:32:27.670 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.671-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:59761","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.671 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.671-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:59762","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.672 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
21:32:27.672 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
21:32:27.675 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.675-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59763","uuid":"40b195d1-6828-4d36-80a7-52eeee69ce05","connectionId":7,"connectionCount":7}}
21:32:27.676 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.676-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59764","uuid":"620c1b8b-19f9-44fd-b80d-bb15f439e2ed","connectionId":8,"connectionCount":8}}
21:32:27.676 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
21:32:27.676 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
21:32:27.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.677-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:59763","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.678 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.678-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:59764","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.679 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
21:32:27.679 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
21:32:27.679 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
21:32:27.679 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
21:32:27.679 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
21:32:27.681 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.681-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59765","uuid":"517df0b2-70c2-4b28-a57e-1f6457791783","connectionId":9,"connectionCount":9}}
21:32:27.681 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.681-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59766","uuid":"5414f27b-2084-434d-a7bf-3eb964cd5839","connectionId":10,"connectionCount":10}}
21:32:27.682 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
21:32:27.684 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.683-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:59766","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.684 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.683-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:59765","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.688 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.688-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59767","uuid":"190ca818-e22b-4b80-984b-677084ec3bb8","connectionId":11,"connectionCount":11}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.688-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59768","uuid":"afb2e18d-bfd3-4230-ada9-4e58544b6e43","connectionId":12,"connectionCount":12}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.688-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.688-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"17287529-6a8d-49d6-a0fb-55767b86dc52"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0a880c82-b6d8-4158-8d80-3a5eeba1dc81"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0dddef25-f25e-4313-8891-b22a5dadbc0d"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5ca45e23-f376-4864-beff-53a5b8d4b4e5"}},"options":{}}}
21:32:27.689 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.689-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ae18de2e-f729-43c5-9c73-e428bb388993"}},"options":{}}}
21:32:27.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.690-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:59768","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.691 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.690-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:59767","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.693-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e639c0d-95a9-4cbc-9959-4b9695bf752b"}},"options":{}}}
21:32:27.693 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.693-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"54189f59-c42f-4f64-8847-723af4b49526"}},"options":{}}}
21:32:27.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.694-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59769","uuid":"84e7826e-e488-4beb-ad72-c58e9abb8f46","connectionId":13,"connectionCount":13}}
21:32:27.695 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.695-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59771","uuid":"69ba531c-2339-4dc8-8f9e-270501585974","connectionId":14,"connectionCount":14}}
21:32:27.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.696-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:59769","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.697-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:59771","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.699-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b3a91c57-6315-4767-a372-013565882ec5"}},"options":{}}}
21:32:27.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.699-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6b681405-b38d-4d86-8d4d-e000a465fb11"}},"options":{}}}
21:32:27.699 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.700-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59772","uuid":"cb83cfc1-0858-4a84-88ee-5d28581e8c50","connectionId":15,"connectionCount":15}}
21:32:27.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.701-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59773","uuid":"88f2bc37-27c0-4148-8430-0012cb8c366b","connectionId":16,"connectionCount":16}}
21:32:27.702 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.702-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:59772","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.703-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:59773","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.705-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"45d232b6-0379-4f41-b575-1b65c182e87d"}},"options":{}}}
21:32:27.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.705-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59774","uuid":"ab6350ff-ad71-43e3-a164-3bad288f1301","connectionId":17,"connectionCount":17}}
21:32:27.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.706-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"78812720-24b7-4d4b-a8d3-1257b4dfa822"}},"options":{}}}
21:32:27.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.707-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59775","uuid":"172d3bd0-325e-4db3-ac13-ae21b67823a8","connectionId":18,"connectionCount":18}}
21:32:27.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.707-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:59774","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.709-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:59775","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.709-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"options":{}}}
21:32:27.711 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.711-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59776","uuid":"1a84f2cd-5802-4a9d-a64b-cc570df55b42","connectionId":19,"connectionCount":19}}
21:32:27.711 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.711-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed07c1f8-a565-4dee-9ff0-1791409011a5"}},"options":{}}}
21:32:27.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.713-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59777","uuid":"693250b0-4055-4132-9035-a5fbad594be8","connectionId":20,"connectionCount":20}}
21:32:27.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.713-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:59776","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.715-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:59777","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.714 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.715-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bee21c71-577f-4c15-b5da-2b66b962f112"}},"options":{}}}
21:32:27.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.716-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59778","uuid":"d6ad14fa-bdfa-40e4-8525-cf84bba85530","connectionId":21,"connectionCount":21}}
21:32:27.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.717-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e8e39460-8d7c-48b5-a852-01f43abc2aa0"}},"options":{}}}
21:32:27.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.718-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:59778","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.718 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.718-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59779","uuid":"87c37aa5-f777-4f92-bb6b-dfa69cf68df1","connectionId":22,"connectionCount":22}}
21:32:27.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.720-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"options":{}}}
21:32:27.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.721-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:59779","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.722-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59780","uuid":"c9b4c4d2-a9d1-45ed-b5ed-1ada426d084e","connectionId":23,"connectionCount":23}}
21:32:27.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.723-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"373b1d4f-e0ea-4744-8abc-2c8b7ee69330"}},"options":{}}}
21:32:27.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.724-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59781","uuid":"7f6a9101-4a67-4fae-8a90-e6120ed858d0","connectionId":24,"connectionCount":24}}
21:32:27.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.725-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:59781","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.728 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.728-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0a1600b3-f9df-4f7f-8a85-07473df05061"}},"options":{}}}
21:32:27.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.729-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59782","uuid":"2c14f7f1-ac45-459c-881a-61ec20fa5547","connectionId":25,"connectionCount":25}}
21:32:27.731 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.731-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:59782","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.731 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.731-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:59780","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.733-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"71a38292-97eb-4e21-acf2-73c6710328ce"}},"options":{}}}
21:32:27.734 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.733-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3ec17031-10e4-4613-9ef4-8887beacce94"}},"options":{}}}
21:32:27.734 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.734-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59783","uuid":"5f10e0f7-cf88-465e-a2dc-98c3a648377d","connectionId":26,"connectionCount":26}}
21:32:27.735 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.735-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59784","uuid":"8db265d8-4374-42de-8c0e-04a6fac7f697","connectionId":27,"connectionCount":27}}
21:32:27.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.737-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:59783","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.737 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.737-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:59784","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.739 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.739-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}},"options":{}}}
21:32:27.739 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.739-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b7716ebb-250c-49c8-a354-4f41deedd416"}},"options":{}}}
21:32:27.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.740-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59785","uuid":"c0812b19-8847-42f9-8402-bccdc9383700","connectionId":28,"connectionCount":28}}
21:32:27.740 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.740-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59786","uuid":"8f7cdc10-464a-4216-b3d9-4e879020602e","connectionId":29,"connectionCount":29}}
21:32:27.742 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.742-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:59785","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.743 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.742-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:59786","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.745 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.745-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}},"options":{}}}
21:32:27.745 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.745-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4c12186f-5ed2-4852-9e2f-ce9713f8f227"}},"options":{}}}
21:32:27.746 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.746-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59787","uuid":"c97d40c2-28d8-484a-b6da-d0e4fdb66df8","connectionId":30,"connectionCount":30}}
21:32:27.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.746-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59788","uuid":"12c44a68-271b-42bf-ac16-6fcf8f81cf82","connectionId":31,"connectionCount":31}}
21:32:27.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.748-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:59787","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.749 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.748-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:59788","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.751-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}},"options":{}}}
21:32:27.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.751-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7dac1e42-17e0-4144-a833-207bc09a8692"}},"options":{}}}
21:32:27.751 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.751-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59789","uuid":"1d915db4-932c-4534-ac4c-8f3d62524890","connectionId":32,"connectionCount":32}}
21:32:27.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.752-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59790","uuid":"c7e7442e-c134-4fa6-a263-8a38fd6867bb","connectionId":33,"connectionCount":33}}
21:32:27.754 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.754-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:59789","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.754 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.754-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:59790","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.757-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59791","uuid":"42b9ffc9-0194-4815-a659-1e44426de509","connectionId":34,"connectionCount":34}}
21:32:27.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.757-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}},"options":{}}}
21:32:27.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.757-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd4a3a8e-b12b-4a61-a69b-43135c259c48"}},"options":{}}}
21:32:27.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.759-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59792","uuid":"c59a2e52-8ae9-4440-909c-a9362226e26c","connectionId":35,"connectionCount":35}}
21:32:27.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.759-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:59791","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.762 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.762-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:59792","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.762 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.762-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}},"options":{}}}
21:32:27.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.764-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59793","uuid":"0cfb38d0-c362-4525-8dab-62cf476a9d4d","connectionId":36,"connectionCount":36}}
21:32:27.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.764-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c47b4153-0389-43f4-9872-e9f05ffa0fe7"}},"options":{}}}
21:32:27.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.765-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59794","uuid":"5a1a9819-7043-4b5f-bb13-098df0a8949a","connectionId":37,"connectionCount":37}}
21:32:27.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.767-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:59793","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.767-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:59794","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:27.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.769-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}},"options":{}}}
21:32:27.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:27.769-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ced1d518-8bd4-4b6d-998b-08c2eb2a452e"}},"options":{}}}
21:32:28.442 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.442-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-22--713539220772356579","collectionIdent":"collection-7--713539220772356579","commitTimestamp":null}}
21:32:28.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.442-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-57--713539220772356579","collectionIdent":"collection-7--713539220772356579","commitTimestamp":null}}
21:32:28.443 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.443-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0f801580-1bff-47b9-a6ab-a872ceb437bb"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:59759","protocol":"op_msg","durationMillis":754}}
21:32:28.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.549-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-29--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:28.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.549-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-64--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:28.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.549-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"75b12307-5691-47b9-9e74-04704e63dc27"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:59766","protocol":"op_msg","durationMillis":861}}
21:32:28.687 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.686-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-38--713539220772356579","collectionIdent":"collection-8--713539220772356579","commitTimestamp":null}}
21:32:28.688 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.687-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-73--713539220772356579","collectionIdent":"collection-8--713539220772356579","commitTimestamp":null}}
21:32:28.688 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.687-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6a3439d1-72da-4c85-82dd-03af0b95eaeb"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59763","protocol":"op_msg","durationMillis":998}}
21:32:28.785 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.786-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:28.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.799-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:28.811 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.812-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:28.827 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.827-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:28.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.839-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:28.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.857-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.867 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.866-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.879 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.879-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.895 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.895-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.910 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.910-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.926 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.926-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:28.941 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.941-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-56--713539220772356579","collectionIdent":"collection-21--713539220772356579","commitTimestamp":null}}
21:32:28.941 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.941-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-91--713539220772356579","collectionIdent":"collection-21--713539220772356579","commitTimestamp":null}}
21:32:28.941 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.941-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8b806320-6fa4-4339-bdda-44c2bc5cf7ab"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59774","protocol":"op_msg","durationMillis":1231}}
21:32:28.957 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.957-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:28.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.972-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:28.987 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.987-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e8e39460-8d7c-48b5-a852-01f43abc2aa0"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-60--713539220772356579","collectionIdent":"collection-25--713539220772356579","commitTimestamp":null}}
21:32:28.987 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.987-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e8e39460-8d7c-48b5-a852-01f43abc2aa0"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-94--713539220772356579","collectionIdent":"collection-25--713539220772356579","commitTimestamp":null}}
21:32:28.987 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:28.987-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"66e3fef5-f440-4570-9c50-4ac45bd0f538"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59777","protocol":"op_msg","durationMillis":1270}}
21:32:29.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.003-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-61--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:29.004 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.003-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-95--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:29.004 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.004-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"33a05b75-b703-46e4-bab6-09c68f7b8727"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59778","protocol":"op_msg","durationMillis":1283}}
21:32:29.016 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.016-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:29.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.032-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:29.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.047-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:29.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.060-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:29.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.075-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-67--713539220772356579","collectionIdent":"collection-32--713539220772356579","commitTimestamp":null}}
21:32:29.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.075-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-100--713539220772356579","collectionIdent":"collection-32--713539220772356579","commitTimestamp":null}}
21:32:29.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.075-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"db5db891-fb17-484d-8ac8-4bc2edd22dbb"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59783","protocol":"op_msg","durationMillis":1336}}
21:32:29.087 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.088-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
21:32:29.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.099-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-69--713539220772356579","collectionIdent":"collection-34--713539220772356579","commitTimestamp":null}}
21:32:29.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.100-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-102--713539220772356579","collectionIdent":"collection-34--713539220772356579","commitTimestamp":null}}
21:32:29.099 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.100-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0a7d7072-6222-43c8-b61b-e18889f3727d"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59786","protocol":"op_msg","durationMillis":1355}}
21:32:29.117 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.117-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
21:32:29.133 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.133-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-71--713539220772356579","collectionIdent":"collection-36--713539220772356579","commitTimestamp":null}}
21:32:29.133 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.133-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-104--713539220772356579","collectionIdent":"collection-36--713539220772356579","commitTimestamp":null}}
21:32:29.133 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.133-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7df9be56-c56d-494a-9668-64df2ca894f4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59788","protocol":"op_msg","durationMillis":1382}}
21:32:29.148 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.148-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
21:32:29.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.165-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-74--713539220772356579","collectionIdent":"collection-39--713539220772356579","commitTimestamp":null}}
21:32:29.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.165-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-106--713539220772356579","collectionIdent":"collection-39--713539220772356579","commitTimestamp":null}}
21:32:29.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.165-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"20f1c328-9411-4420-ae15-b299d1f86ff3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59790","protocol":"op_msg","durationMillis":1408}}
21:32:29.179 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.180-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
21:32:29.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.196-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-76--713539220772356579","collectionIdent":"collection-41--713539220772356579","commitTimestamp":null}}
21:32:29.196 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.196-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-108--713539220772356579","collectionIdent":"collection-41--713539220772356579","commitTimestamp":null}}
21:32:29.196 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.196-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"806473bf-a658-4336-8e26-eb3bd17b3ec3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59791","protocol":"op_msg","durationMillis":1434}}
21:32:29.212 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.212-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
21:32:29.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.228-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-78--713539220772356579","collectionIdent":"collection-43--713539220772356579","commitTimestamp":null}}
21:32:29.229 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.229-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-110--713539220772356579","collectionIdent":"collection-43--713539220772356579","commitTimestamp":null}}
21:32:29.230 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.229-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f9d94635-2902-411e-85cb-b263dcf46b95"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59794","protocol":"op_msg","durationMillis":1459}}
21:32:29.244 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.245-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
21:32:29.415 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
21:32:29.458 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 605d5b41-5d49-45ee-9e75-6a9ab45f211c

21:32:29.578 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
21:32:29.707 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
21:32:29.776 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
21:32:29.808 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
21:32:29.934 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.935-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f1efcf07-353f-4f24-b37b-e970f9efff95"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:29.974 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:29.975-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"99a9d11e-9301-4db1-ad93-0f7cd9620c4e"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.001-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn12","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c46fe91b-3f0d-4cd0-b987-46c03d1dc5ce"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.022 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
21:32:30.077 INFO  c.r.controller.HealthControllerTest - Started HealthControllerTest in 6.862 seconds (process running for 9.809)
21:32:30.080 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.080-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c9f5ea63-0d20-4928-8e97-fe25018f5c81"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.081 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.081-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn18","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"c9f5ea63-0d20-4928-8e97-fe25018f5c81"}},"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}}}}
21:32:30.093 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.093-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a45a7387-7aff-484a-949d-d3d8b8349930"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.093 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.093-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"a45a7387-7aff-484a-949d-d3d8b8349930"}},"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}}}}
21:32:30.107 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.107-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f0fd26d7-3df0-45a9-876e-7a1b518e4b37"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.108 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.107-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"f0fd26d7-3df0-45a9-876e-7a1b518e4b37"}},"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}}}}
21:32:30.114 DEBUG o.s.w.r.f.client.ExchangeFunctions - [8a37c6a] HTTP GET /api/v1/health
21:32:30.120 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.121-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn24","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4b5c6c10-11ef-40d9-9bbe-6ec68b689d48"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.121 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.121-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn24","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"4b5c6c10-11ef-40d9-9bbe-6ec68b689d48"}},"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}}}}
21:32:30.133 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.134-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3f78580e-c14e-4edc-a143-a2874ebbf2c7"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.133 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.134-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"3f78580e-c14e-4edc-a143-a2874ebbf2c7"}},"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}}}}
21:32:30.138 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [271d09af] HTTP GET "/api/v1/health"
21:32:30.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.145-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2c570dd0-49a2-4b36-8104-68bf7ae33c8c"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.145-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"2c570dd0-49a2-4b36-8104-68bf7ae33c8c"}},"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}}}}
21:32:30.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.158-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9fe00ad7-67b1-43ff-891b-8ff17ae9cf70"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.157 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.158-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"9fe00ad7-67b1-43ff-891b-8ff17ae9cf70"}},"collectionUUID":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}}}}
21:32:30.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.170-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9e945856-ed39-44c5-8a6b-b974f371b2fa"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}},"indexes":1,"firstIndex":{"name":"session_tenant_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.170-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"9e945856-ed39-44c5-8a6b-b974f371b2fa"}},"collectionUUID":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}}}}
21:32:30.174 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:30.176 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [271d09af] Completed 404 NOT_FOUND
21:32:30.182 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.183-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"280e3d66-634c-4b7e-83d4-3df74b9e620a"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}},"indexes":1,"firstIndex":{"name":"subdomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"ignoreUnknownIndexOptions":false}}}
21:32:30.182 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.183-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"subdomain":1},"name":"subdomain","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"280e3d66-634c-4b7e-83d4-3df74b9e620a"}},"collectionUUID":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}}}}
21:32:30.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.195-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3735ef59-ba21-45cc-970e-b2e5abf21150"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}},"indexes":1,"firstIndex":{"name":"tenant_email_idx"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
21:32:30.195 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.195-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"3735ef59-ba21-45cc-970e-b2e5abf21150"}},"collectionUUID":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}}}}
21:32:30.200 DEBUG o.s.w.r.f.client.ExchangeFunctions - [8a37c6a] [72b5ddd] Response 404 NOT_FOUND
21:32:30.206 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.207-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7e3e59c2-5dd0-4814-a608-3590773dc29e"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.207 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.207-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7e3e59c2-5dd0-4814-a608-3590773dc29e"}},"collectionUUID":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}}}}
21:32:30.211 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/health
> WebTestClient-Request-Id: [1]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:30.220 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.220-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn36","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"27a9eaba-a2bf-4faf-bf0c-6d40b9562dda"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}},"indexes":1,"firstIndex":{"name":"tenant_name_idx"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
21:32:30.220 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.220-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn36","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"27a9eaba-a2bf-4faf-bf0c-6d40b9562dda"}},"collectionUUID":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}}}}
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 7.552 s <<< FAILURE! -- in com.retail.controller.HealthControllerTest
[ERROR] com.retail.controller.HealthControllerTest.health_ShouldReturnStatusUp -- Time elapsed: 0.139 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.HealthControllerTest.health_ShouldReturnStatusUp(HealthControllerTest.java:33)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.controller.ProductControllerIntegrationTest
21:32:30.232 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.controller.ProductControllerIntegrationTest]: ProductControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:30.234 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-112--713539220772356579","collectionIdent":"collection-7--713539220772356579","commitTimestamp":null}}
21:32:30.234 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f1efcf07-353f-4f24-b37b-e970f9efff95"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f1efcf07-353f-4f24-b37b-e970f9efff95"}}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4081aee9-d58e-49c1-9cb1-c712c02642af"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f464884f-7a73-465d-b107-d19ece02d074"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn5","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"4081aee9-d58e-49c1-9cb1-c712c02642af"}},"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn6","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"f464884f-7a73-465d-b107-d19ece02d074"}},"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}}}}
21:32:30.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.234-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b4c8ee54-d15f-4730-b9b1-ec7da123ff8e"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":26599}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59760","protocol":"op_msg","durationMillis":2546}}
21:32:30.235 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.controller.ProductControllerIntegrationTest
21:32:30.239 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
21:32:30.249 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.249-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-113--713539220772356579","collectionIdent":"collection-8--713539220772356579","commitTimestamp":null}}
21:32:30.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.250-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"99a9d11e-9301-4db1-ad93-0f7cd9620c4e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.250-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"99a9d11e-9301-4db1-ad93-0f7cd9620c4e"}}}}
21:32:30.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.250-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"91b7cff1-507b-458b-b06b-97ea98b65823"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.250-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1a30c150-234a-45d0-aed8-f1cba37396c3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":12031}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59765","protocol":"op_msg","durationMillis":2561}}
21:32:30.250 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.250-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn8","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"91b7cff1-507b-458b-b06b-97ea98b65823"}},"collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-114--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn12","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c46fe91b-3f0d-4cd0-b987-46c03d1dc5ce"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn12","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c46fe91b-3f0d-4cd0-b987-46c03d1dc5ce"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4f6605ca-4585-429a-8767-820feb13b314"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"924077a3-d5c0-4056-b526-c10428fb0d86"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"aab0d4ea-ab4a-411d-9b05-24f62414fee0"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn14","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"0c38de04-2afb-41c5-82fa-6b0eaf83a0cf"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"4f6605ca-4585-429a-8767-820feb13b314"}},"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn16","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"f2eef46e-4298-4c37-9bc0-043814ce813f"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"68c81428-6844-4d40-84c2-4fbb21a12b3d"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":66414}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59768","protocol":"op_msg","durationMillis":2570}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn16","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"f2eef46e-4298-4c37-9bc0-043814ce813f"}},"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn14","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"0c38de04-2afb-41c5-82fa-6b0eaf83a0cf"}},"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"924077a3-d5c0-4056-b526-c10428fb0d86"}},"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}}}}
21:32:30.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.264-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"aab0d4ea-ab4a-411d-9b05-24f62414fee0"}},"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}}}}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

21:32:30.278 INFO  c.r.c.ProductControllerIntegrationTest - Starting ProductControllerIntegrationTest using Java 25.0.1 with PID 41952 (started by codep in D:\code\retail-agentic\backend)
21:32:30.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.278-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-115--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:30.278 INFO  c.r.c.ProductControllerIntegrationTest - The following 1 profile is active: "test"
21:32:30.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.278-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2c570dd0-49a2-4b36-8104-68bf7ae33c8c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.278-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2c570dd0-49a2-4b36-8104-68bf7ae33c8c"}}}}
21:32:30.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.278-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"16c0c5ce-4cdf-43be-a8dc-839ee8755d6f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59780","protocol":"op_msg","durationMillis":2545}}
21:32:30.292 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.292-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c3bb312d-807f-4dbb-a58c-0f614daaf326"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-116--713539220772356579","collectionIdent":"collection-32--713539220772356579","commitTimestamp":null}}
21:32:30.292 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.292-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9fe00ad7-67b1-43ff-891b-8ff17ae9cf70"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.292 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.292-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9fe00ad7-67b1-43ff-891b-8ff17ae9cf70"}}}}
21:32:30.292 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.292-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b875ecec-5a19-447b-b9fd-9bc58ab8bacd"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59784","protocol":"op_msg","durationMillis":2553}}
21:32:30.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.305-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"18e1557f-4157-45bc-af0e-ac9f220f9319"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-117--713539220772356579","collectionIdent":"collection-34--713539220772356579","commitTimestamp":null}}
21:32:30.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.305-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9e945856-ed39-44c5-8a6b-b974f371b2fa"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.305-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9e945856-ed39-44c5-8a6b-b974f371b2fa"}}}}
21:32:30.305 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.305-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a4a88191-c8e1-46af-a513-7225ede3d709"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59785","protocol":"op_msg","durationMillis":2560}}
21:32:30.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.320-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-118--713539220772356579","collectionIdent":"collection-21--713539220772356579","commitTimestamp":null}}
21:32:30.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.320-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c9f5ea63-0d20-4928-8e97-fe25018f5c81"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.320-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c9f5ea63-0d20-4928-8e97-fe25018f5c81"}}}}
21:32:30.319 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.320-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7a346bfb-8fd4-4914-941b-08640afbe844"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59775","protocol":"op_msg","durationMillis":2609}}
21:32:30.333 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.334-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e8b42190-c68f-4798-b79e-e4df96bba634"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-119--713539220772356579","collectionIdent":"collection-41--713539220772356579","commitTimestamp":null}}
21:32:30.334 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.334-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7e3e59c2-5dd0-4814-a608-3590773dc29e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.334 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.334-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7e3e59c2-5dd0-4814-a608-3590773dc29e"}}}}
21:32:30.334 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.334-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7e443da6-6922-4911-9b6c-d1407b7419c8"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59792","protocol":"op_msg","durationMillis":2570}}
21:32:30.346 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.346-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-121--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:30.346 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.347-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f0fd26d7-3df0-45a9-876e-7a1b518e4b37"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.346 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.347-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f0fd26d7-3df0-45a9-876e-7a1b518e4b37"}}}}
21:32:30.346 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.347-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"343120a3-3450-4d49-b324-44cfc7be81b1"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59779","protocol":"op_msg","durationMillis":2623}}
21:32:30.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.359-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"28591caf-8cfd-4422-a78d-74e3899a16a6"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-120--713539220772356579","collectionIdent":"collection-21--713539220772356579","commitTimestamp":null}}
21:32:30.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.359-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a45a7387-7aff-484a-949d-d3d8b8349930"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.359-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a45a7387-7aff-484a-949d-d3d8b8349930"}}}}
21:32:30.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.359-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b22a7bb7-0c00-4b30-800f-8549ea402164"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":27834}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59776","protocol":"op_msg","durationMillis":2644}}
21:32:30.374 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.375-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-122--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:30.375 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.375-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn24","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4b5c6c10-11ef-40d9-9bbe-6ec68b689d48"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.375 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.375-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn24","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4b5c6c10-11ef-40d9-9bbe-6ec68b689d48"}}}}
21:32:30.375 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.375-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7638b073-9f6b-46c2-8044-2e1cce3e1f1e"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":12320}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59781","protocol":"op_msg","durationMillis":2647}}
21:32:30.388 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.389-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-123--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.388 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.389-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4f6605ca-4585-429a-8767-820feb13b314"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.389 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.389-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4f6605ca-4585-429a-8767-820feb13b314"}}}}
21:32:30.389 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.389-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"35f12d5c-7a21-491f-b869-d914dc2f0536"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":235689}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59769","protocol":"op_msg","durationMillis":2690}}
21:32:30.401 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.402-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f3f9b4cb-8874-406f-885e-da03b0a08a61"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-124--713539220772356579","collectionIdent":"collection-36--713539220772356579","commitTimestamp":null}}
21:32:30.401 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.402-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"280e3d66-634c-4b7e-83d4-3df74b9e620a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.401 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.402-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"280e3d66-634c-4b7e-83d4-3df74b9e620a"}}}}
21:32:30.402 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.402-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d5a24896-ac33-401e-95c7-77a047d10226"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59787","protocol":"op_msg","durationMillis":2651}}
21:32:30.417 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.418-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"bdd79d4a-0300-4cec-9079-6690acb0eeb7"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-125--713539220772356579","collectionIdent":"collection-26--713539220772356579","commitTimestamp":null}}
21:32:30.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.418-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3f78580e-c14e-4edc-a143-a2874ebbf2c7"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.418-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3f78580e-c14e-4edc-a143-a2874ebbf2c7"}}}}
21:32:30.418 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.418-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"94b0c358-1967-45a9-952a-6f2997c53af3"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28298}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59782","protocol":"op_msg","durationMillis":2684}}
21:32:30.433 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.434-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"20b7bebb-0eef-4b4c-9d52-4d88f1d3bdad"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-126--713539220772356579","collectionIdent":"collection-39--713539220772356579","commitTimestamp":null}}
21:32:30.434 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.434-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3735ef59-ba21-45cc-970e-b2e5abf21150"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.434 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.434-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3735ef59-ba21-45cc-970e-b2e5abf21150"}}}}
21:32:30.434 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.434-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a7754198-eb62-4e43-9909-24bf5752a19f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59789","protocol":"op_msg","durationMillis":2676}}
21:32:30.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.451-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4d85f8f9-ceb5-4087-b731-e642d40627cb"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-127--713539220772356579","collectionIdent":"collection-43--713539220772356579","commitTimestamp":null}}
21:32:30.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.451-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn36","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"27a9eaba-a2bf-4faf-bf0c-6d40b9562dda"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.451-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn36","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"27a9eaba-a2bf-4faf-bf0c-6d40b9562dda"}}}}
21:32:30.451 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.451-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c418d4e6-6b8c-47db-ac7f-b7f723f44f96"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59793","protocol":"op_msg","durationMillis":2682}}
21:32:30.465 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.465-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-128--713539220772356579","collectionIdent":"collection-7--713539220772356579","commitTimestamp":null}}
21:32:30.465 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.465-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f464884f-7a73-465d-b107-d19ece02d074"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.465 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.465-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f464884f-7a73-465d-b107-d19ece02d074"}}}}
21:32:30.465 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.465-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"16122b12-6786-4abd-ae56-3d6071b3474c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":272883}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59762","protocol":"op_msg","durationMillis":2777}}
21:32:30.482 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.482-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"05f7a776-eceb-44f1-bca5-254375f70b23"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-129--713539220772356579","collectionIdent":"collection-8--713539220772356579","commitTimestamp":null}}
21:32:30.482 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.482-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"91b7cff1-507b-458b-b06b-97ea98b65823"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.482 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.482-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"91b7cff1-507b-458b-b06b-97ea98b65823"}}}}
21:32:30.482 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.483-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"11d751da-21a6-480d-995c-7235bdd3b7b6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":262738}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:59764","protocol":"op_msg","durationMillis":2794}}
21:32:30.497 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.498-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1bbf12e9-725b-48c1-bf45-e16dc3ffeb92"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-130--713539220772356579","collectionIdent":"collection-7--713539220772356579","commitTimestamp":null}}
21:32:30.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.498-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4081aee9-d58e-49c1-9cb1-c712c02642af"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.498-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4081aee9-d58e-49c1-9cb1-c712c02642af"}}}}
21:32:30.498 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.498-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"dc18e795-69bf-4b72-afe9-2dc283fa1617"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":285559,"W":31363}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59761","protocol":"op_msg","durationMillis":2809}}
21:32:30.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.512-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-131--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.512-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"aab0d4ea-ab4a-411d-9b05-24f62414fee0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.512-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"aab0d4ea-ab4a-411d-9b05-24f62414fee0"}}}}
21:32:30.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.512-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5796b235-3911-445b-87cd-fbe25876d281"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":209598}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59772","protocol":"op_msg","durationMillis":2807}}
21:32:30.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.526-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-132--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.526-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"924077a3-d5c0-4056-b526-c10428fb0d86"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.526-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"924077a3-d5c0-4056-b526-c10428fb0d86"}}}}
21:32:30.526 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.526-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5c747e58-472d-4e9f-9d52-7e3576903824"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":248216,"W":29628}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59767","protocol":"op_msg","durationMillis":2832}}
21:32:30.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.541-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-133--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.542-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn16","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"f2eef46e-4298-4c37-9bc0-043814ce813f"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.542-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn16","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"f2eef46e-4298-4c37-9bc0-043814ce813f"}}}}
21:32:30.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.542-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1921bde6-5931-41af-bbb3-4d4093a019f4"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":196535,"W":28049}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59773","protocol":"op_msg","durationMillis":2835}}
21:32:30.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.555-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cb14610d-bcdd-428c-ae7d-2b2389381600"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-134--713539220772356579","collectionIdent":"collection-12--713539220772356579","commitTimestamp":null}}
21:32:30.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.555-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn14","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"0c38de04-2afb-41c5-82fa-6b0eaf83a0cf"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:30.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.555-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn14","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"0c38de04-2afb-41c5-82fa-6b0eaf83a0cf"}}}}
21:32:30.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:30.556-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"44779f33-1aad-471f-a36b-351f6a0f4e08"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":222179,"W":29514}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59771","protocol":"op_msg","durationMillis":2857}}
21:32:30.851 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:30.857 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:30.866 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:30.869 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:30.871 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:30.908 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
21:32:31.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.028-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
21:32:31.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.029-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
21:32:31.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.030-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
21:32:31.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.032-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
21:32:31.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.032-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
21:32:31.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.032-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
21:32:31.031 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.032-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
21:32:31.032 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.033-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":30688,"port":59798,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--0ac129ca-3301-4fa1-8924-277d463a29bb/mongod-database8138593701564960933","architecture":"64-bit","host":"jon-desktop"}}
21:32:31.032 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.033-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
21:32:31.032 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.033-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
21:32:31.033 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.033-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
21:32:31.033 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.033-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":59798},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--0ac129ca-3301-4fa1-8924-277d463a29bb\\mongod-database8138593701564960933","journal":{"enabled":false},"syncPeriodSecs":0}}}}
21:32:31.035 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.036-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
21:32:31.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.100-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":64}}
21:32:31.100 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.100-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:31.145 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.145-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"14a4ff5c-fa37-4b3f-9844-189e8fdf0376"}},"options":{"uuid":{"$uuid":"14a4ff5c-fa37-4b3f-9844-189e8fdf0376"}}}}
21:32:31.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.168-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"14a4ff5c-fa37-4b3f-9844-189e8fdf0376"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1-96396524378826824","collectionIdent":"collection-0-96396524378826824","commitTimestamp":null}}
21:32:31.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.168-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
21:32:31.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.168-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
21:32:31.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.168-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:31.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.169-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:31.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.169-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
21:32:31.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.176-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
21:32:31.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.177-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
21:32:31.369 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.370-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--0ac129ca-3301-4fa1-8924-277d463a29bb/mongod-database8138593701564960933/diagnostic.data"}}
21:32:31.371 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.371-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8e1ec5c-fd56-4c73-b5f2-569e2414cefb"}},"options":{"capped":true,"size":10485760}}}
21:32:31.411 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.411-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f8e1ec5c-fd56-4c73-b5f2-569e2414cefb"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3-96396524378826824","collectionIdent":"collection-2-96396524378826824","commitTimestamp":null}}
21:32:31.411 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.411-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
21:32:31.411 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.412-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
21:32:31.416 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.416-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
21:32:31.416 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.416-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e86444c-23f4-4e1b-8093-03caac957c71"}},"options":{}}}
21:32:31.416 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.416-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
21:32:31.416 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.416-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":59798,"ssl":"off"}}
21:32:31.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.471-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e86444c-23f4-4e1b-8093-03caac957c71"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5-96396524378826824","collectionIdent":"collection-4-96396524378826824","commitTimestamp":null}}
21:32:31.471 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.471-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e86444c-23f4-4e1b-8093-03caac957c71"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6-96396524378826824","collectionIdent":"collection-4-96396524378826824","commitTimestamp":null}}
21:32:31.481 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.481-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59800","uuid":"88e1d668-c1d7-419f-8fcc-6b56955923cb","connectionId":1,"connectionCount":1}}
21:32:31.481 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.482-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59799","uuid":"94ff1865-f5b8-43df-9141-80904f136675","connectionId":2,"connectionCount":2}}
21:32:31.482 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.482-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:59799","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.483 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.483-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:59800","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.531 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
21:32:31.531 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
21:32:31.533 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
21:32:31.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.535-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59802","uuid":"e6e36bcb-bd9b-4eaa-a5c5-de1ccba4593c","connectionId":3,"connectionCount":3}}
21:32:31.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.535-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59801","uuid":"68a0aa49-8c25-4421-9679-9c7b9bfcc908","connectionId":4,"connectionCount":4}}
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
21:32:31.535 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
21:32:31.536 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.536-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:59802","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.536 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.536-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:59801","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.537 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
21:32:31.537 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
21:32:31.537 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
21:32:31.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.537-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"add0fe47-41a9-4f80-99fc-ff991089c962"}},"options":{}}}
21:32:31.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.537-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"175d6e4d-4422-4529-bc47-422ec14a4a4d"}},"options":{}}}
21:32:31.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.538-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59803","uuid":"3122bdd5-15ae-4df9-873c-a6b29012f895","connectionId":5,"connectionCount":5}}
21:32:31.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.538-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59804","uuid":"535eddca-a61a-4ecd-9a7b-1f01a490e7a1","connectionId":6,"connectionCount":6}}
21:32:31.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.539-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:59803","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.539 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
21:32:31.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.539-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:59804","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.539 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
21:32:31.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.540-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"options":{}}}
21:32:31.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.540-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b165eea1-4ad6-4588-98bd-cadc26427cae"}},"options":{}}}
21:32:31.540 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
21:32:31.540 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
21:32:31.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.541-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59805","uuid":"9a55f3fe-9a11-4621-a799-488a1ea1a8d5","connectionId":7,"connectionCount":7}}
21:32:31.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.541-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59806","uuid":"e80f1b8f-2fa9-412b-b8c5-282d149cb3d6","connectionId":8,"connectionCount":8}}
21:32:31.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.541-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:59805","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.541 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.542-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:59806","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.542 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
21:32:31.543 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.543-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"54055fe1-e1ce-4eb1-aa27-006ec288caed"}},"options":{}}}
21:32:31.543 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.543-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3b4de6c1-853d-4308-9690-e5e6e3b15f3f"}},"options":{}}}
21:32:31.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.544-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59807","uuid":"1a4dc0ba-11cf-4987-b698-795cc3d78234","connectionId":9,"connectionCount":9}}
21:32:31.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.545-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:59807","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.545-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59808","uuid":"636e568c-0966-4429-bee0-9a8db9acca1f","connectionId":10,"connectionCount":10}}
21:32:31.545 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
21:32:31.545 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.545-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:59808","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.546-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"87c92fae-84e0-46e5-a2fa-97e7bebf6d7f"}},"options":{}}}
21:32:31.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.547-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}},"options":{}}}
21:32:31.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.547-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59809","uuid":"40685def-729f-4eee-959d-62114499461b","connectionId":11,"connectionCount":11}}
21:32:31.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.547-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:59809","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.548-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59810","uuid":"bc728fbf-7b83-467a-ae1b-7f4206af4adb","connectionId":12,"connectionCount":12}}
21:32:31.547 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
21:32:31.548 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
21:32:31.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.548-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:59810","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.549-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6a411842-bf53-4844-940b-64a0f0f2bd2d"}},"options":{}}}
21:32:31.550 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.550-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"options":{}}}
21:32:31.550 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.550-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59811","uuid":"38eb8c1d-6396-4458-8d9a-e91ace9be99f","connectionId":13,"connectionCount":13}}
21:32:31.550 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.551-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59812","uuid":"680dbb8a-b40f-47de-91cb-126939b7b228","connectionId":14,"connectionCount":14}}
21:32:31.551 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.551-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:59811","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.551 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.551-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:59812","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.551 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
21:32:31.552 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.553-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fa945206-45fc-4abc-975c-5e216a64d570"}},"options":{}}}
21:32:31.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.553-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bfd89437-1b68-4543-86b0-0dd533027576"}},"options":{}}}
21:32:31.553 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
21:32:31.553 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
21:32:31.553 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
21:32:31.553 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
21:32:31.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.554-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59813","uuid":"5cffaaa4-15b4-4a96-af3c-9411077e2d40","connectionId":15,"connectionCount":15}}
21:32:31.554 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
21:32:31.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.554-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59814","uuid":"f5d735c8-bdbf-4c46-823c-62dbc80a3012","connectionId":16,"connectionCount":16}}
21:32:31.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.554-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:59813","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.554-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:59814","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.554 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
21:32:31.554 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
21:32:31.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.556-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}},"options":{}}}
21:32:31.556 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.556-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3076a42d-e2ae-478d-b390-b6ee791dec5f"}},"options":{}}}
21:32:31.556 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.556-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59815","uuid":"07f402fc-f4a9-44aa-a2e8-6917e79e9508","connectionId":17,"connectionCount":17}}
21:32:31.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.557-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:59815","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.557-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59816","uuid":"0c68da36-b34d-4c7d-b596-1fc9449479ef","connectionId":18,"connectionCount":18}}
21:32:31.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.558-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:59816","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.558-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"options":{}}}
21:32:31.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.559-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59817","uuid":"7d949186-5227-437a-8129-dfa302bb7f3e","connectionId":19,"connectionCount":19}}
21:32:31.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.559-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d67e401c-49e5-4c57-8e2d-765f8f4302ca"}},"options":{}}}
21:32:31.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.559-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:59817","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.560-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59818","uuid":"410bcc74-fc17-450a-8676-cc59a961b454","connectionId":20,"connectionCount":20}}
21:32:31.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.560-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:59818","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.561-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"deb0df79-1c76-482f-91ed-e88a111b35e9"}},"options":{}}}
21:32:31.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.562-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59819","uuid":"dfce9c47-8603-492f-b103-a08213a0bcf4","connectionId":21,"connectionCount":21}}
21:32:31.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.562-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"options":{}}}
21:32:31.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.562-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:59819","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.563-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59820","uuid":"d11ab9ba-08b1-45fa-ad89-18f475999fea","connectionId":22,"connectionCount":22}}
21:32:31.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.563-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:59820","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.564-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6426059b-f783-4403-8b26-ee2fd64e1c1c"}},"options":{}}}
21:32:31.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.565-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59821","uuid":"c876e96f-944c-49a4-9260-ecc1543ed0bf","connectionId":23,"connectionCount":23}}
21:32:31.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.565-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"63e57170-1a21-4c1c-b8fb-5f256b7b4fc7"}},"options":{}}}
21:32:31.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.565-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:59821","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.565 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.565-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59822","uuid":"e19a8af7-8c64-4f60-907e-ebf189a0bf7b","connectionId":24,"connectionCount":24}}
21:32:31.566 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.566-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:59822","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.567 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.567-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c7ee9c05-43da-4bf2-983f-908afbcf1266"}},"options":{}}}
21:32:31.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.568-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59824","uuid":"42a465e9-eee4-4990-9403-ceb4e0229897","connectionId":25,"connectionCount":25}}
21:32:31.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.568-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}},"options":{}}}
21:32:31.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.568-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59825","uuid":"b0e0d4ad-2900-4eb9-a0de-49fa3671a50a","connectionId":26,"connectionCount":26}}
21:32:31.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.568-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:59824","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.568 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.569-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:59825","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.569-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f32658d9-e566-491f-8150-ffac50d5b905"}},"options":{}}}
21:32:31.569 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.570-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"options":{}}}
21:32:31.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.571-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59827","uuid":"42fec068-007d-4db8-b2b7-ae3c3e208e98","connectionId":27,"connectionCount":27}}
21:32:31.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.571-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59829","uuid":"b1bae6ac-e3b0-499d-a83c-593500c4d35e","connectionId":28,"connectionCount":28}}
21:32:31.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.571-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:59827","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.571 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.572-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:59829","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.572 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.573-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"bed4f198-84c9-4e7d-a93e-dccfe2adcc4a"}},"options":{}}}
21:32:31.573 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.573-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7448ee52-0d08-4d5e-8a3d-990a83ae4d1d"}},"options":{}}}
21:32:31.574 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.574-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59832","uuid":"227d9663-dce6-45ff-ab0f-615608d0a624","connectionId":29,"connectionCount":29}}
21:32:31.574 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.574-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59830","uuid":"af9dce6b-94b6-44ab-9f5a-d509c255ccd1","connectionId":30,"connectionCount":30}}
21:32:31.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.575-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:59832","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.575 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.575-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:59830","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.577 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.577-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a343fdb6-47ee-47f0-8f8f-ec1244174ef6"}},"options":{}}}
21:32:31.577 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.577-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aa0ec347-514b-46da-9630-7041ad511bec"}},"options":{}}}
21:32:31.577 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.577-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59834","uuid":"24e3f8cd-1565-4603-8db1-e9f63a248852","connectionId":31,"connectionCount":31}}
21:32:31.577 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.578-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59833","uuid":"ef2c401d-3cb7-4e50-929d-3b2db0fe3280","connectionId":32,"connectionCount":32}}
21:32:31.578 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.578-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:59833","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.578 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.578-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:59834","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.580-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9c6dcf32-31a8-4322-a0cf-beff625595ba"}},"options":{}}}
21:32:31.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.580-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"21320075-6cf3-4684-88a3-c4b51decc533"}},"options":{}}}
21:32:31.580 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.581-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59835","uuid":"6a820604-f7cd-4253-ab1a-1846f77732cd","connectionId":33,"connectionCount":33}}
21:32:31.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.581-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59836","uuid":"4db8937e-21de-464a-bc21-9d47f1bc311f","connectionId":34,"connectionCount":34}}
21:32:31.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.581-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:59835","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.581 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.581-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:59836","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.583-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}},"options":{}}}
21:32:31.582 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.583-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"58208eb2-9c96-41ee-a77d-80bb5e06d09c"}},"options":{}}}
21:32:31.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.583-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59838","uuid":"bb620263-be29-42bc-bc53-5ca4c39e5a1f","connectionId":35,"connectionCount":35}}
21:32:31.583 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.584-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59837","uuid":"21ef033c-1374-4212-a1dc-406dc1d82be6","connectionId":36,"connectionCount":36}}
21:32:31.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.584-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:59838","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.584 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.584-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:59837","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.585 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.585-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}},"options":{}}}
21:32:31.585 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.586-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4432d20a-84ed-486a-b330-68f8bd193471"}},"options":{}}}
21:32:31.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.587-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59839","uuid":"28c43a7e-80bd-4904-85f9-da7724b5b991","connectionId":37,"connectionCount":37}}
21:32:31.587 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.587-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:59839","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:31.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:31.589-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7fc7a48d-61bb-407e-8ddc-39e009b30723"}},"options":{}}}
21:32:31.896 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
21:32:31.909 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 26d21675-bc99-4e11-ad5c-21d8ae3dd25d

21:32:31.951 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
21:32:31.975 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
21:32:31.990 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
21:32:31.994 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
21:32:32.055 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
21:32:32.135 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.135-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"add0fe47-41a9-4f80-99fc-ff991089c962"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-13-96396524378826824","collectionIdent":"collection-7-96396524378826824","commitTimestamp":null}}
21:32:32.135 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.135-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"add0fe47-41a9-4f80-99fc-ff991089c962"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-48-96396524378826824","collectionIdent":"collection-7-96396524378826824","commitTimestamp":null}}
21:32:32.135 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.136-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"450dc99b-34de-4f1c-ba05-6303162c57cf"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:59801","protocol":"op_msg","durationMillis":598}}
21:32:32.309 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.309-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
21:32:32.313 INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 59840
21:32:32.321 INFO  c.r.c.ProductControllerIntegrationTest - Started ProductControllerIntegrationTest in 2.082 seconds (process running for 12.053)
21:32:32.361 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:32.382 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:32.33Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:32.33Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:32.383 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:32.421 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.421-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1f61eff8-91e1-44cb-92d8-fd91c138cb59"}},"options":{}}}
21:32:32.452 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.452-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-37-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:32.453 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.452-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-72-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:32.453 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.452-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"94039114-1675-4b50-9a99-5c026d9bf399"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59804","protocol":"op_msg","durationMillis":912}}
21:32:32.552 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.552-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn5","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:32.564 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.564-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:32.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.576-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:32.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.588-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:32.601 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.601-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-50-96396524378826824","collectionIdent":"collection-15-96396524378826824","commitTimestamp":null}}
21:32:32.601 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.601-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-84-96396524378826824","collectionIdent":"collection-15-96396524378826824","commitTimestamp":null}}
21:32:32.601 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.601-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"71418ec4-8021-4d99-97d4-d649b3776a8f"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59808","protocol":"op_msg","durationMillis":1054}}
21:32:32.614 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.614-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
21:32:32.627 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.627-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-52-96396524378826824","collectionIdent":"collection-17-96396524378826824","commitTimestamp":null}}
21:32:32.627 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.627-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-86-96396524378826824","collectionIdent":"collection-17-96396524378826824","commitTimestamp":null}}
21:32:32.627 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.627-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"18eaa0b1-5253-4a85-b6f6-2b33aa03ae76"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59810","protocol":"op_msg","durationMillis":1077}}
21:32:32.639 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.640-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:32.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.652-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:32.665 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.665-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-55-96396524378826824","collectionIdent":"collection-20-96396524378826824","commitTimestamp":null}}
21:32:32.665 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.665-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-89-96396524378826824","collectionIdent":"collection-20-96396524378826824","commitTimestamp":null}}
21:32:32.665 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.665-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3b64f17f-1238-45b7-831f-5e326c32d824"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59814","protocol":"op_msg","durationMillis":1109}}
21:32:32.679 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.679-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
21:32:32.691 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.691-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-57-96396524378826824","collectionIdent":"collection-22-96396524378826824","commitTimestamp":null}}
21:32:32.691 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.691-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-91-96396524378826824","collectionIdent":"collection-22-96396524378826824","commitTimestamp":null}}
21:32:32.691 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.691-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"54895275-12c4-4e32-adca-7a767cd1b21c"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59815","protocol":"op_msg","durationMillis":1133}}
21:32:32.704 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.704-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:32.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.717-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:32.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.730-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-60-96396524378826824","collectionIdent":"collection-25-96396524378826824","commitTimestamp":null}}
21:32:32.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.730-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-94-96396524378826824","collectionIdent":"collection-25-96396524378826824","commitTimestamp":null}}
21:32:32.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.730-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d9c8f322-5b19-4eec-8094-110a512015ca"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59818","protocol":"op_msg","durationMillis":1168}}
21:32:32.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.759-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:32.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.774-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:32.787 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.787-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:32.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.801-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-65-96396524378826824","collectionIdent":"collection-30-96396524378826824","commitTimestamp":null}}
21:32:32.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.801-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-98-96396524378826824","collectionIdent":"collection-30-96396524378826824","commitTimestamp":null}}
21:32:32.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.801-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3cb1dc2f-507f-4c4c-b83e-5de6453e0900"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59822","protocol":"op_msg","durationMillis":1232}}
21:32:32.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.815-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
21:32:32.831 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.831-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-67-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:32.831 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.831-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-100-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:32.832 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.831-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0382a71c-0c4a-41a5-9857-b81c093e4477"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59825","protocol":"op_msg","durationMillis":1261}}
21:32:32.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.846-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.860 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.860-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.887 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.888-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.901 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.901-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.913 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.914-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.927 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.928-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:32.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.943-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-75-96396524378826824","collectionIdent":"collection-40-96396524378826824","commitTimestamp":null}}
21:32:32.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.943-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-108-96396524378826824","collectionIdent":"collection-40-96396524378826824","commitTimestamp":null}}
21:32:32.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.943-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7cd0a5cc-169b-4a05-978b-2e1bc71b256f"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59835","protocol":"op_msg","durationMillis":1360}}
21:32:32.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.957-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
21:32:32.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.972-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-77-96396524378826824","collectionIdent":"collection-42-96396524378826824","commitTimestamp":null}}
21:32:32.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.972-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-110-96396524378826824","collectionIdent":"collection-42-96396524378826824","commitTimestamp":null}}
21:32:32.972 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.972-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"961ccb25-d93a-4942-ac5b-ae21e917f9e6"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59838","protocol":"op_msg","durationMillis":1387}}
21:32:32.988 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:32.988-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
21:32:33.005 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.005-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7fc7a48d-61bb-407e-8ddc-39e009b30723"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-79-96396524378826824","collectionIdent":"collection-44-96396524378826824","commitTimestamp":null}}
21:32:33.005 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.005-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7fc7a48d-61bb-407e-8ddc-39e009b30723"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-112-96396524378826824","collectionIdent":"collection-44-96396524378826824","commitTimestamp":null}}
21:32:33.005 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.005-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d8867a02-a227-4018-bf63-1adbb850f8e3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59839","protocol":"op_msg","durationMillis":1416}}
21:32:33.252 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.253-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:33.468 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.468-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"79ab46c5-31f1-4bd1-a53a-5e44ed15d893"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"add0fe47-41a9-4f80-99fc-ff991089c962"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
21:32:33.598 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.598-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"90b0cb32-1a1e-48bb-a9b7-cd0aee65cd35"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.646 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.646-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn5","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"82ce3b02-5041-4e71-8b55-60028728cb2a"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"indexes":1,"firstIndex":{"name":"tenant_timestamp_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.696-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3bc2a8c7-d14b-468c-b2bd-7660184776ca"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.696-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"3bc2a8c7-d14b-468c-b2bd-7660184776ca"}},"collectionUUID":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}}}}
21:32:33.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.708-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9902f531-6ddb-411d-9aaf-00d5c7e00f07"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.708-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"9902f531-6ddb-411d-9aaf-00d5c7e00f07"}},"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}}}}
21:32:33.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.722-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn14","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ac601c1e-6f6e-4505-b0d2-70752171c7cc"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.723-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn14","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"ac601c1e-6f6e-4505-b0d2-70752171c7cc"}},"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}}}}
21:32:33.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.734-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"bcacae64-eff8-4c37-acb9-64d939eef7e0"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}},"indexes":1,"firstIndex":{"name":"tenant_name_idx"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
21:32:33.733 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.734-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"bcacae64-eff8-4c37-acb9-64d939eef7e0"}},"collectionUUID":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}}}}
21:32:33.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.748-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn18","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6cec8a88-e482-4413-b735-2c5ba19fac14"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.748-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn18","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6cec8a88-e482-4413-b735-2c5ba19fac14"}},"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}}}}
21:32:33.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.764-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fbce90a9-83b4-4157-9f59-ec1201eb2561"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.764-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"fbce90a9-83b4-4157-9f59-ec1201eb2561"}},"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}}}}
21:32:33.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.777-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"add0fe47-41a9-4f80-99fc-ff991089c962"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-114-96396524378826824","collectionIdent":"collection-7-96396524378826824","commitTimestamp":null}}
21:32:33.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.777-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"79ab46c5-31f1-4bd1-a53a-5e44ed15d893"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:33.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.777-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"79ab46c5-31f1-4bd1-a53a-5e44ed15d893"}}}}
21:32:33.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.777-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a52302e8-46c5-437b-93c0-308d26ceecf8"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59802","protocol":"op_msg","durationMillis":2239}}
21:32:33.788 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.789-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"24ea15a1-0a6e-488e-9fa9-cb2f4f076952"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.789-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"24ea15a1-0a6e-488e-9fa9-cb2f4f076952"}},"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}}}}
21:32:33.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.800-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"11f02e80-a8fe-4fff-854b-df0f35c4b64b"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.800-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"11f02e80-a8fe-4fff-854b-df0f35c4b64b"}},"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}}}}
21:32:33.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.812-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8c8ca6bb-fc1d-4f50-bc2d-a168a97cc898"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.812 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.812-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"8c8ca6bb-fc1d-4f50-bc2d-a168a97cc898"}},"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}}}}
21:32:33.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.823-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"854acc9f-a1cc-4895-9096-92331bb93eac"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.823 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.823-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"854acc9f-a1cc-4895-9096-92331bb93eac"}},"collectionUUID":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}}}}
21:32:33.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.909-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn34","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"b4d60b9a-c20b-4708-a194-f3618f863719"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.909 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.909-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn34","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"b4d60b9a-c20b-4708-a194-f3618f863719"}},"collectionUUID":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}}}}
21:32:33.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.921-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn36","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"e5be4193-dee8-4ff3-aee7-7603c3ee3e02"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}},"indexes":1,"firstIndex":{"name":"tenant_product_idx"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"ignoreUnknownIndexOptions":false}}}
21:32:33.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.921-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn36","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"e5be4193-dee8-4ff3-aee7-7603c3ee3e02"}},"collectionUUID":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-115-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn5","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"82ce3b02-5041-4e71-8b55-60028728cb2a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn5","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"82ce3b02-5041-4e71-8b55-60028728cb2a"}}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn9","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ca18d3c7-5fd5-477c-a815-f1d34e770fef"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn7","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"14b8dad0-74be-4253-83e9-0b9a57aee303"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"a184e631-5ad3-48d9-a4fe-1a363fcc5aa9"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn9","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"ca18d3c7-5fd5-477c-a815-f1d34e770fef"}},"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn8","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"a184e631-5ad3-48d9-a4fe-1a363fcc5aa9"}},"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}}}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4ffa19ba-cb79-4fe1-955f-8c1603129070"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":38851}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59803","protocol":"op_msg","durationMillis":2394}}
21:32:33.933 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.934-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn7","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"14b8dad0-74be-4253-83e9-0b9a57aee303"}},"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}}}}
21:32:33.946 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.947-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"a93a0ac7-c7cc-417e-a4eb-8a325b9876e6"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-116-96396524378826824","collectionIdent":"collection-15-96396524378826824","commitTimestamp":null}}
21:32:33.946 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.947-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3bc2a8c7-d14b-468c-b2bd-7660184776ca"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:33.947 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.947-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3bc2a8c7-d14b-468c-b2bd-7660184776ca"}}}}
21:32:33.947 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.947-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e87ad59d-b415-4b90-a973-7d72e48e22cc"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59809","protocol":"op_msg","durationMillis":2398}}
21:32:33.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.982-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-117-96396524378826824","collectionIdent":"collection-17-96396524378826824","commitTimestamp":null}}
21:32:33.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.982-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9902f531-6ddb-411d-9aaf-00d5c7e00f07"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:33.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.982-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9902f531-6ddb-411d-9aaf-00d5c7e00f07"}}}}
21:32:33.982 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.982-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"964821fe-3d82-48d3-9cc5-d7ae6861b5e9"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59811","protocol":"op_msg","durationMillis":2429}}
21:32:33.993 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-118-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"90b0cb32-1a1e-48bb-a9b7-cd0aee65cd35"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn29","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"550eb7ed-9325-4031-b65d-5e28ab8f080e"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"90b0cb32-1a1e-48bb-a9b7-cd0aee65cd35"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"857f8292-7e8f-406a-a6d7-af1cb46bfd44"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn29","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.994-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ff239748-a2b4-4b5a-9bc9-612379939123"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":361379}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59830","protocol":"op_msg","durationMillis":2417}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"550eb7ed-9325-4031-b65d-5e28ab8f080e"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"WRITE",    "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"update","ns":"test-retail-db.products","command":{"q":{"_id":"test-prod-001"},"u":{"_id":"test-prod-001","tenantId":"test-tenant-001","name":"Test Wireless Headphones","sku":"TEST-HP-001","description":"Test product: Test Wireless Headphones","price":"99.99","currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":50,"status":"ACTIVE","createdAt":{"$date":"2025-12-04T03:32:32.330Z"},"updatedAt":{"$date":"2025-12-04T03:32:32.330Z"},"_class":"com.retail.domain.product.Product"},"multi":false,"upsert":true},"planSummary":"IDHACK","keysExamined":0,"docsExamined":0,"nMatched":0,"nModified":0,"nUpserted":1,"keysInserted":3,"writeConflicts":1,"numYields":0,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4},"acquireWaitCount":{"w":1},"timeAcquiringMicros":{"w":134643}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":6},"storage":{},"remote":"127.0.0.1:59801","durationMillis":1573}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"857f8292-7e8f-406a-a6d7-af1cb46bfd44"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}}}}
21:32:33.994 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:33.995-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.$cmd","command":{"update":"products","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"450dc99b-34de-4f1c-ba05-6303162c57cf"}}},"numYields":0,"reslen":117,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"r":1,"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"r":1,"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4},"acquireWaitCount":{"w":1},"timeAcquiringMicros":{"w":134643}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":6},"storage":{},"remote":"127.0.0.1:59801","protocol":"op_msg","durationMillis":1573}}
21:32:33.998 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:33.998 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.000 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.007 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6a39c005] HTTP GET /api/v1/products?status=active
21:32:34.009 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7796b244] HTTP GET "/api/v1/products?status=active"
21:32:34.011 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.011 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7796b244] Completed 404 NOT_FOUND
21:32:34.014 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6a39c005] [78e196c] Response 404 NOT_FOUND
21:32:34.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.014-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"5c27e0d4-b829-4e67-8f3b-e278859671fa"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-119-96396524378826824","collectionIdent":"collection-20-96396524378826824","commitTimestamp":null}}
21:32:34.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.014-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"bcacae64-eff8-4c37-acb9-64d939eef7e0"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.015-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"bcacae64-eff8-4c37-acb9-64d939eef7e0"}}}}
21:32:34.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.015-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8e7d2157-709f-4115-99b8-5a7db87106c5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59813","protocol":"op_msg","durationMillis":2459}}
21:32:34.014 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?status=active
> WebTestClient-Request-Id: [1]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.020 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.033 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.034 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.032Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.032Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.034 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.034-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ce1a2935-3de1-4c34-affb-a6b480663286"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-120-96396524378826824","collectionIdent":"collection-17-96396524378826824","commitTimestamp":null}}
21:32:34.034 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.034 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.035-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn14","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ac601c1e-6f6e-4505-b0d2-70752171c7cc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.034 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.035-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn14","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ac601c1e-6f6e-4505-b0d2-70752171c7cc"}}}}
21:32:34.034 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.035-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"75178ce9-d19d-403c-90e2-d911bba38473"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":34786}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":6},"storage":{},"remote":"127.0.0.1:59812","protocol":"op_msg","durationMillis":2482}}
21:32:34.038 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.038 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.038 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.040 DEBUG o.s.w.r.f.client.ExchangeFunctions - [75d7e128] HTTP PUT /api/v1/products/non-existent-id
21:32:34.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.048-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-121-96396524378826824","collectionIdent":"collection-22-96396524378826824","commitTimestamp":null}}
21:32:34.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.048-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn18","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6cec8a88-e482-4413-b735-2c5ba19fac14"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.048-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn18","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6cec8a88-e482-4413-b735-2c5ba19fac14"}}}}
21:32:34.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.048-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"22e05839-625f-403c-a4f2-3e7f5b9c467c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59816","protocol":"op_msg","durationMillis":2489}}
21:32:34.060 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.061-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn21","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-122-96396524378826824","collectionIdent":"collection-25-96396524378826824","commitTimestamp":null}}
21:32:34.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.061-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"24ea15a1-0a6e-488e-9fa9-cb2f4f076952"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.061-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"24ea15a1-0a6e-488e-9fa9-cb2f4f076952"}}}}
21:32:34.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.061-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9b7b80d0-b681-4b92-8eef-ceac4f68333d"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59819","protocol":"op_msg","durationMillis":2497}}
21:32:34.075 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.076-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ba6897fa-e2a9-4310-8e59-e5840bf5d1e4"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-123-96396524378826824","collectionIdent":"collection-22-96396524378826824","commitTimestamp":null}}
21:32:34.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.076-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fbce90a9-83b4-4157-9f59-ec1201eb2561"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.076-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fbce90a9-83b4-4157-9f59-ec1201eb2561"}}}}
21:32:34.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.076-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1c5f1528-cb0c-4fd6-9cf5-a1691b79f8af"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":33297}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59817","protocol":"op_msg","durationMillis":2515}}
21:32:34.085 DEBUG org.springframework.web.HttpLogging - [75d7e128] Encoding [Product{id='non-existent-id', tenantId='test-tenant-001', name='Test Product', sku='TEST-001', price (truncated)...]
21:32:34.089 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.090-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn22","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-124-96396524378826824","collectionIdent":"collection-25-96396524378826824","commitTimestamp":null}}
21:32:34.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.090-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"11f02e80-a8fe-4fff-854b-df0f35c4b64b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.090-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"11f02e80-a8fe-4fff-854b-df0f35c4b64b"}}}}
21:32:34.090 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.090-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0d1cfe9e-fb3e-4dce-ad73-01fc143b63e2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":13450}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59820","protocol":"op_msg","durationMillis":2525}}
21:32:34.104 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.105-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"281b47c7-3446-490f-8207-e469179b629b"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-125-96396524378826824","collectionIdent":"collection-30-96396524378826824","commitTimestamp":null}}
21:32:34.105 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.105-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"854acc9f-a1cc-4895-9096-92331bb93eac"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.105 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.105-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"854acc9f-a1cc-4895-9096-92331bb93eac"}}}}
21:32:34.105 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.105-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"bf6d5163-b4f7-4642-8c69-93443aaef9aa"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59824","protocol":"op_msg","durationMillis":2535}}
21:32:34.107 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5b79fb1c] HTTP PUT "/api/v1/products/non-existent-id"
21:32:34.108 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.109 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5b79fb1c] Completed 404 NOT_FOUND
21:32:34.111 DEBUG o.s.w.r.f.client.ExchangeFunctions - [75d7e128] [4d845fe] Response 404 NOT_FOUND
21:32:34.112 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.118 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.119-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f6523462-ad03-45bf-b877-11c6bf28f789"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-126-96396524378826824","collectionIdent":"collection-25-96396524378826824","commitTimestamp":null}}
21:32:34.118 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.119-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8c8ca6bb-fc1d-4f50-bc2d-a168a97cc898"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.118 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.119-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8c8ca6bb-fc1d-4f50-bc2d-a168a97cc898"}}}}
21:32:34.118 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.119-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2565fedc-0942-4585-a626-55fef05a3341"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28570}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59821","protocol":"op_msg","durationMillis":2551}}
21:32:34.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.151-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"ab4c375f-c24d-48ed-87cd-b8d3b730de5e"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-128-96396524378826824","collectionIdent":"collection-40-96396524378826824","commitTimestamp":null}}
21:32:34.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.151-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn34","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"b4d60b9a-c20b-4708-a194-f3618f863719"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.152-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn34","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"b4d60b9a-c20b-4708-a194-f3618f863719"}}}}
21:32:34.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.152-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4ea55ad6-006d-464d-b2ed-02851d114d07"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59836","protocol":"op_msg","durationMillis":2569}}
21:32:34.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.164-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d50e90ce-64cf-4035-9c38-b32df305594f"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-129-96396524378826824","collectionIdent":"collection-42-96396524378826824","commitTimestamp":null}}
21:32:34.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.165-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn36","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"e5be4193-dee8-4ff3-aee7-7603c3ee3e02"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.165-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn36","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"e5be4193-dee8-4ff3-aee7-7603c3ee3e02"}}}}
21:32:34.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.165-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0ea172fd-1f7e-4689-bb0e-6ad79325c2c2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59837","protocol":"op_msg","durationMillis":2579}}
21:32:34.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.176-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-127-96396524378826824","collectionIdent":"collection-32-96396524378826824","maxTemporaryMemoryUsageMB":200}}
21:32:34.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.176-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn29","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.176 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.176-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:34.186 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.187 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.185Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.185Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.187 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.190-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-131-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:34.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.190-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"a184e631-5ad3-48d9-a4fe-1a363fcc5aa9"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.190 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.190-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"a184e631-5ad3-48d9-a4fe-1a363fcc5aa9"}}}}
21:32:34.190 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.190-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ef52ee16-ccfa-454d-9cdf-cd26508509e5"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":262404}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59806","protocol":"op_msg","durationMillis":2647}}
21:32:34.190 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.190-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_stock_idx","keysInserted":1,"durationMillis":0}}
21:32:34.191 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.191 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.192 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.193 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7a0daf3d] HTTP GET /api/v1/products/non-existent-id
21:32:34.194 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [efc981] HTTP GET "/api/v1/products/non-existent-id"
21:32:34.195 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.195 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [efc981] Completed 404 NOT_FOUND
21:32:34.196 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7a0daf3d] [7e9090f7] Response 404 NOT_FOUND
21:32:34.198 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.207 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.209 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.206Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.206Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.209 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.212 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.212 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.213 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.213 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.213-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-132-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:34.213 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.213-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn9","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ca18d3c7-5fd5-477c-a815-f1d34e770fef"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.213 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.214-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn9","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ca18d3c7-5fd5-477c-a815-f1d34e770fef"}}}}
21:32:34.213 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.214-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d61f376b-2ce0-4a4d-a1c5-9c9677f91252"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":248588,"W":25199}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59807","protocol":"op_msg","durationMillis":2667}}
21:32:34.214 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2c053537] HTTP GET /api/v1/products
21:32:34.215 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [129192cd] HTTP GET "/api/v1/products"
21:32:34.215 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.215 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [129192cd] Completed 404 NOT_FOUND
21:32:34.217 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2c053537] [6c7c2dc9] Response 404 NOT_FOUND
21:32:34.219 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.227-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5b16e20-b299-4712-aa42-2e6178f5105e"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-133-96396524378826824","collectionIdent":"collection-9-96396524378826824","commitTimestamp":null}}
21:32:34.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.228-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn7","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"14b8dad0-74be-4253-83e9-0b9a57aee303"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.228-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn7","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"14b8dad0-74be-4253-83e9-0b9a57aee303"}}}}
21:32:34.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.228-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"6d272d2c-d309-4f34-9e3d-4cc975522228"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":274706,"W":23548}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59805","protocol":"op_msg","durationMillis":2684}}
21:32:34.263 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.263-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-134-96396524378826824","collectionIdent":"collection-32-96396524378826824","maxTemporaryMemoryUsageMB":200}}
21:32:34.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.263-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.271 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.272 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.271Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.271Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.272 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.275-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-136-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:34.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.276-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"550eb7ed-9325-4031-b65d-5e28ab8f080e"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.276-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"550eb7ed-9325-4031-b65d-5e28ab8f080e"}}}}
21:32:34.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.276-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","totalRecords":0,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:34.276 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.276-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"61d27d90-5e5d-4fb7-b5a1-faf2ee623363"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":98414,"W":36338}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59834","protocol":"op_msg","durationMillis":2695}}
21:32:34.277 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.277 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.277 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.277-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_price_idx","keysInserted":0,"durationMillis":0}}
21:32:34.278 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.278 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.278-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_stock_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":6,"totalInserted":3,"totalDeleted":3,"durationMillis":64}}
21:32:34.279 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1e20dad5] HTTP POST /api/v1/products
21:32:34.280 DEBUG org.springframework.web.HttpLogging - [1e20dad5] Encoding [Product{id='null', tenantId='test-tenant-001', name='New Smart Watch', sku='NEW-SW-001', price=249.9 (truncated)...]
21:32:34.281 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4b9f072a] HTTP POST "/api/v1/products"
21:32:34.283 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.284 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4b9f072a] Completed 404 NOT_FOUND
21:32:34.285 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1e20dad5] [352bec9c] Response 404 NOT_FOUND
21:32:34.288 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/products
> WebTestClient-Request-Id: [5]
> X-Tenant-ID: [test-tenant-001]
> Content-Type: [application/json]
> Content-Length: [357]

{"id":null,"tenantId":"test-tenant-001","name":"New Smart Watch","sku":"NEW-SW-001","description":"Test product: New Smart Watch","price":249.99,"currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":30,"status":"ACTIVE","createdAt":"2025-12-04T03:32:34.279017200Z","updatedAt":"2025-12-04T03:32:34.279017200Z","active":true}

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.290 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.293 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.293-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}}}}
21:32:34.293 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.293-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}},"action":"Single-phase commit"}}
21:32:34.321 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.321-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-137-96396524378826824","collectionIdent":"collection-32-96396524378826824","maxTemporaryMemoryUsageMB":200}}
21:32:34.321 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.322-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":2,"totalInserted":1,"totalDeleted":1,"durationMillis":43}}
21:32:34.321 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.322-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.322 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.322-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_stock_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":0}}
21:32:34.322 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-127-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:34.322 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_stock_idx"],"numIndexesBefore":3,"numIndexesAfter":7}}
21:32:34.323 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn29","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"fa8af657-2052-430a-858c-611be4419ec1"}}}}
21:32:34.323 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"STORAGE",  "id":51803,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Slow query","attr":{"type":"none","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"v":2,"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a50a06ae-e3bc-4953-996a-be51e2c24c11"}}},"numYields":3,"locks":{"FeatureCompatibilityVersion":{"acquireCount":{"w":9}},"ReplicationStateTransition":{"acquireCount":{"w":11}},"Global":{"acquireCount":{"w":9}},"Database":{"acquireCount":{"w":9}},"Collection":{"acquireCount":{"w":6,"R":1,"W":2},"acquireWaitCount":{"w":3,"R":1,"W":1},"timeAcquiringMicros":{"w":35890,"R":14339,"W":29444}},"Mutex":{"acquireCount":{"r":2}}},"flowControl":{"acquireCount":8,"timeAcquiringMicros":10},"storage":{"data":{"bytesRead":178},"timeWaitingMicros":{"schemaLock":12515}},"durationMillis":146}}
21:32:34.323 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","totalRecords":0,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:34.323 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.323-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a50a06ae-e3bc-4953-996a-be51e2c24c11"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1},"timeAcquiringMicros":{"r":122869}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59832","protocol":"op_msg","durationMillis":2746}}
21:32:34.325 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.325-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_status_idx","keysInserted":0,"durationMillis":0}}
21:32:34.326 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.326-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":0}}
21:32:34.326 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.326-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}}}}
21:32:34.326 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.326-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}},"action":"Single-phase commit"}}
21:32:34.330 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.331 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.329Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.329Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.331 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.337 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.337-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-139-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:34.337 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.337-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"857f8292-7e8f-406a-a6d7-af1cb46bfd44"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:34.337 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.337-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"857f8292-7e8f-406a-a6d7-af1cb46bfd44"}}}}
21:32:34.337 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.337-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"70b0c34e-81a3-4f5c-8715-303be77492ce"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":160032,"W":3181}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59829","protocol":"op_msg","durationMillis":2764}}
21:32:34.341 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.342-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-134-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:34.341 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.342-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_price_idx"],"numIndexesBefore":4,"numIndexesAfter":8}}
21:32:34.342 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.342-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenant_status_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":0,"totalDeleted":1,"durationMillis":4}}
21:32:34.342 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.342-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"6bc3e313-6c13-4e29-b6da-3f11760acef6"}}}}
21:32:34.342 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.342-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"94768a74-64ee-4a3d-b1da-70e5cabbde93"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":35021,"W":403}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:59833","protocol":"op_msg","durationMillis":2762}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenant_status_idx","collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":1,"totalDeleted":0,"durationMillis":0}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}}}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}},"action":"Single-phase commit"}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-137-96396524378826824","collectionIdent":"collection-32-96396524378826824","commitTimestamp":null}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}},"collectionUUID":{"uuid":{"$uuid":"b48a1cb3-f376-4f48-9f8c-83d37979310d"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_status_idx"],"numIndexesBefore":6,"numIndexesAfter":8}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.343-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"c0626ed8-1fe5-4647-8e14-d66a8afab49a"}}}}
21:32:34.343 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.344-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4a326f31-a060-4e60-821f-d92bc12c20cb"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"r":1,"W":1},"timeAcquiringMicros":{"r":146503,"W":2439}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59827","protocol":"op_msg","durationMillis":2770}}
21:32:34.343 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.343 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.344 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.345 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='low-stock-001', tenantId='test-tenant-001', name='Low Stock Item', sku='LOW-001', price=49.99, currency='USD', stock=5, status=ACTIVE} })
21:32:34.346 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='low-stock-001', tenantId='test-tenant-001', name='Low Stock Item', sku='LOW-001', price=49.99, currency='USD', stock=5, status=ACTIVE} }, { "_id" : "low-stock-001", "tenantId" : "test-tenant-001", "name" : "Low Stock Item", "sku" : "LOW-001", "description" : "Test product: Low Stock Item", "price" : "49.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 5, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.345Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.345Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.346 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.350 DEBUG c.r.d.product.ProductEventListener - Product saved event: low-stock-001
21:32:34.350 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Low Stock Item (low-stock-001)
21:32:34.351 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: low-stock-001
21:32:34.351 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4a02197b] HTTP GET /api/v1/products/low-stock?threshold=10
21:32:34.353 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [489c742e] HTTP GET "/api/v1/products/low-stock?threshold=10"
21:32:34.354 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.354 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [489c742e] Completed 404 NOT_FOUND
21:32:34.355 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4a02197b] [36ab0f88] Response 404 NOT_FOUND
21:32:34.355 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products/low-stock?threshold=10
> WebTestClient-Request-Id: [6]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.356 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.366 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.367 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.365Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.365Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.367 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.373 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.373 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.373 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.374 DEBUG o.s.w.r.f.client.ExchangeFunctions - [55204c19] HTTP PUT /api/v1/products/test-prod-001
21:32:34.376 DEBUG org.springframework.web.HttpLogging - [55204c19] Encoding [Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-H (truncated)...]
21:32:34.376 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [711eb6a1] HTTP PUT "/api/v1/products/test-prod-001"
21:32:34.377 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.377 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [711eb6a1] Completed 404 NOT_FOUND
21:32:34.378 DEBUG o.s.w.r.f.client.ExchangeFunctions - [55204c19] [f90e177] Response 404 NOT_FOUND
21:32:34.379 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> PUT /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [7]
> X-Tenant-ID: [test-tenant-001]
> Content-Type: [application/json]
> Content-Length: [380]

{"id":"test-prod-001","tenantId":"test-tenant-001","name":"Test Wireless Headphones","sku":"TEST-HP-001","description":"Test product: Test Wireless Headphones","price":89.99,"currency":"USD","category":["Electronics","Test"],"images":[],"attributes":{},"stock":60,"status":"ACTIVE","createdAt":"2025-12-04T03:32:34.365550Z","updatedAt":"2025-12-04T03:32:34.365550Z","active":true}

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.380 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.390 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.391 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.389Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.389Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.391 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.396 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.396 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.396 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.398 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-0', tenantId='test-tenant-001', name='Test Product 0', sku='TEST-0', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.399 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-0', tenantId='test-tenant-001', name='Test Product 0', sku='TEST-0', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-0", "tenantId" : "test-tenant-001", "name" : "Test Product 0", "sku" : "TEST-0", "description" : "Test product: Test Product 0", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.397Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.397Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.399 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.402 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-0
21:32:34.402 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 0 (test-prod-0)
21:32:34.403 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-0
21:32:34.404 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-1', tenantId='test-tenant-001', name='Test Product 1', sku='TEST-1', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.405 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-1', tenantId='test-tenant-001', name='Test Product 1', sku='TEST-1', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-1", "tenantId" : "test-tenant-001", "name" : "Test Product 1", "sku" : "TEST-1", "description" : "Test product: Test Product 1", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.403Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.403Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.405 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.408 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-1
21:32:34.408 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 1 (test-prod-1)
21:32:34.409 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-1
21:32:34.410 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-2', tenantId='test-tenant-001', name='Test Product 2', sku='TEST-2', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.411 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-2', tenantId='test-tenant-001', name='Test Product 2', sku='TEST-2', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-2", "tenantId" : "test-tenant-001", "name" : "Test Product 2", "sku" : "TEST-2", "description" : "Test product: Test Product 2", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.409Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.409Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.411 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.414 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.414-06:00"},"s":"I",  "c":"STORAGE",  "id":22260,   "ctx":"TimestampMonitor","msg":"Removing drop-pending idents with drop timestamps before timestamp","attr":{"timestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:34.414 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.414-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-130-96396524378826824","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:34.415 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-2
21:32:34.415 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 2 (test-prod-2)
21:32:34.415 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-2
21:32:34.417 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-3', tenantId='test-tenant-001', name='Test Product 3', sku='TEST-3', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.418 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-3', tenantId='test-tenant-001', name='Test Product 3', sku='TEST-3', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-3", "tenantId" : "test-tenant-001", "name" : "Test Product 3", "sku" : "TEST-3", "description" : "Test product: Test Product 3", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.415Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.415Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.418 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.422 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-3
21:32:34.422 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 3 (test-prod-3)
21:32:34.422 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-3
21:32:34.423 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-4', tenantId='test-tenant-001', name='Test Product 4', sku='TEST-4', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.424 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-4', tenantId='test-tenant-001', name='Test Product 4', sku='TEST-4', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-4", "tenantId" : "test-tenant-001", "name" : "Test Product 4", "sku" : "TEST-4", "description" : "Test product: Test Product 4", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.422Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.422Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.425 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.428 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.428-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-135-96396524378826824","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:34.428 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-4
21:32:34.428 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Product 4 (test-prod-4)
21:32:34.429 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-4
21:32:34.429 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3be23894] HTTP GET /api/v1/products?page=0&size=3
21:32:34.430 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5bfd8314] HTTP GET "/api/v1/products?page=0&size=3"
21:32:34.431 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.431 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5bfd8314] Completed 404 NOT_FOUND
21:32:34.432 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3be23894] [25591848] Response 404 NOT_FOUND
21:32:34.432 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?page=0&size=3
> WebTestClient-Request-Id: [8]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.433 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.444 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.445 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.443Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.443Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.445 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.450 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.450 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.450 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.450 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:34.450-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-138-96396524378826824","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:34.451 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4eb168a1] HTTP GET /api/v1/products/test-prod-001
21:32:34.453 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7885cf90] HTTP GET "/api/v1/products/test-prod-001"
21:32:34.453 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.453 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7885cf90] Completed 404 NOT_FOUND
21:32:34.454 DEBUG o.s.w.r.f.client.ExchangeFunctions - [4eb168a1] [602138f] Response 404 NOT_FOUND
21:32:34.454 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [9]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.455 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.465 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.466 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.464Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.464Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.466 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.470 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.470 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.470 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.471 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5a74d858] HTTP GET /api/v1/products?page=0&size=10
21:32:34.472 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2d349d3d] HTTP GET "/api/v1/products?page=0&size=10"
21:32:34.472 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.473 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2d349d3d] Completed 404 NOT_FOUND
21:32:34.473 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5a74d858] [53662f67] Response 404 NOT_FOUND
21:32:34.474 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?page=0&size=10
> WebTestClient-Request-Id: [10]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.474 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.483 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.483 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.482Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.482Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.483 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.486 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.486 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.486 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.487 DEBUG o.s.w.r.f.client.ExchangeFunctions - [62b0059] HTTP DELETE /api/v1/products/test-prod-001
21:32:34.488 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7fcb694e] HTTP DELETE "/api/v1/products/test-prod-001"
21:32:34.489 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.489 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7fcb694e] Completed 404 NOT_FOUND
21:32:34.490 DEBUG o.s.w.r.f.client.ExchangeFunctions - [62b0059] [1cb6458] Response 404 NOT_FOUND
21:32:34.491 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> DELETE /api/v1/products/test-prod-001
> WebTestClient-Request-Id: [11]
> X-Tenant-ID: [test-tenant-001]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.492 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.500 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.501 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.499Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.499Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.502 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.505 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.505 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.505 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.506 DEBUG o.s.w.r.f.client.ExchangeFunctions - [54fe40e0] HTTP GET /api/v1/products?category=Electronics
21:32:34.508 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4a9bc750] HTTP GET "/api/v1/products?category=Electronics"
21:32:34.509 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.509 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4a9bc750] Completed 404 NOT_FOUND
21:32:34.510 DEBUG o.s.w.r.f.client.ExchangeFunctions - [54fe40e0] [342e2902] Response 404 NOT_FOUND
21:32:34.510 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products?category=Electronics
> WebTestClient-Request-Id: [12]
> X-Tenant-ID: [test-tenant-001]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:34.512 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:34.520 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} })
21:32:34.521 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='test-prod-001', tenantId='test-tenant-001', name='Test Wireless Headphones', sku='TEST-HP-001', price=99.99, currency='USD', stock=50, status=ACTIVE} }, { "_id" : "test-prod-001", "tenantId" : "test-tenant-001", "name" : "Test Wireless Headphones", "sku" : "TEST-HP-001", "description" : "Test product: Test Wireless Headphones", "price" : "99.99", "currency" : "USD", "category" : ["Electronics", "Test"], "images" : [], "attributes" : {}, "stock" : 50, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:34.519Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:34.519Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:34.521 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:34.525 DEBUG c.r.d.product.ProductEventListener - Product saved event: test-prod-001
21:32:34.525 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Test Wireless Headphones (test-prod-001)
21:32:34.525 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: test-prod-001
21:32:34.527 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1e9d97ff] HTTP GET /api/v1/products/test-prod-001
21:32:34.529 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [647b48c5] HTTP GET "/api/v1/products/test-prod-001"
21:32:34.529 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:34.530 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [647b48c5] Completed 404 NOT_FOUND
21:32:34.530 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1e9d97ff] [1ae06d24] Response 404 NOT_FOUND
21:32:34.534 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
[ERROR] Tests run: 13, Failures: 9, Errors: 0, Skipped: 0, Time elapsed: 4.312 s <<< FAILURE! -- in com.retail.controller.ProductControllerIntegrationTest
[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithStatusFilter -- Time elapsed: 1.705 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProductsWithStatusFilter(ProductControllerIntegrationTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testCreateProduct -- Time elapsed: 0.057 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201 CREATED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isCreated(StatusAssertions.java:75)
	at com.retail.controller.ProductControllerIntegrationTest.testCreateProduct(ProductControllerIntegrationTest.java:147)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetLowStockProducts -- Time elapsed: 0.035 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testGetLowStockProducts(ProductControllerIntegrationTest.java:234)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testUpdateProduct -- Time elapsed: 0.023 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testUpdateProduct(ProductControllerIntegrationTest.java:169)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testPagination -- Time elapsed: 0.053 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testPagination(ProductControllerIntegrationTest.java:289)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testGetProductById -- Time elapsed: 0.020 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testGetProductById(ProductControllerIntegrationTest.java:110)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProducts -- Time elapsed: 0.017 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProducts(ProductControllerIntegrationTest.java:68)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testDeleteProduct -- Time elapsed: 0.016 s <<< FAILURE!
java.lang.AssertionError: Status expected:<204 NO_CONTENT> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isNoContent(StatusAssertions.java:89)
	at com.retail.controller.ProductControllerIntegrationTest.testDeleteProduct(ProductControllerIntegrationTest.java:203)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.controller.ProductControllerIntegrationTest.testListProductsWithCategoryFilter -- Time elapsed: 0.019 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.controller.ProductControllerIntegrationTest.testListProductsWithCategoryFilter(ProductControllerIntegrationTest.java:86)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.domain.analytics.AdminDashboardServiceTest
[ERROR] Tests run: 8, Failures: 5, Errors: 0, Skipped: 0, Time elapsed: 0.648 s <<< FAILURE! -- in com.retail.domain.analytics.AdminDashboardServiceTest
[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate -- Time elapsed: 0.555 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.090586500Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.089586Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:249)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.090586500Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.089586Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold -- Time elapsed: 0.004 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:168)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8777)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:177)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:163)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview -- Time elapsed: 0.004 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:99)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics -- Time elapsed: 0.003 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.186056600Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.185051500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:225)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.186056600Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.185051500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[ERROR] com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully -- Time elapsed: 0.003 s <<< FAILURE!
java.lang.AssertionError: 
expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.190056100Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.189054800Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:276)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:136)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:273)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	Suppressed: org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.190056100Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.189054800Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.
		at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
		... 16 more

[INFO] Running com.retail.domain.analytics.ReportingServiceTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 s -- in com.retail.domain.analytics.ReportingServiceTest
[INFO] Running com.retail.domain.audit.AuditLogServiceTest
21:32:35.303 WARN  c.r.domain.audit.AuditLogService - Audit (FAILED): USER_LOGIN_FAILED - Login attempt failed - User: testuser - Error: Invalid credentials
21:32:35.309 INFO  c.r.domain.audit.AuditLogService - Audit: SUSPICIOUS_ACTIVITY - Multiple failed login attempts - User: null - Entity: null/null
21:32:35.314 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Updated product details - User: testuser - Entity: Product/product-123
21:32:35.316 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_UPDATED - Price changed - User: testuser - Entity: Product/product-123
21:32:35.322 INFO  c.r.domain.audit.AuditLogService - Audit: USER_LOGIN - null - User: testuser - Entity: null/null
21:32:35.330 INFO  c.r.domain.audit.AuditLogService - Audit: PRODUCT_CREATED - Test description - User: null - Entity: null/null
21:32:35.333 INFO  c.r.domain.audit.AuditLogService - Cleaning up audit events older than 90 days for tenant tenant-123
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.117 s -- in com.retail.domain.audit.AuditLogServiceTest
[INFO] Running com.retail.domain.auth.OAuth2ServiceTest
21:32:35.597 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: FACEBOOK tenant: test-tenant
21:32:35.600 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: fbuser@example.com provider: FACEBOOK
21:32:35.601 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
21:32:35.606 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
21:32:35.606 INFO  c.retail.domain.auth.OAuth2Service - Creating new OAuth2 user: test@example.com provider: GOOGLE
21:32:35.607 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
21:32:35.615 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
21:32:35.618 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
21:32:35.618 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Email not provided by OAuth2 provider
	at com.retail.domain.auth.OAuth2Service.findOrCreateUser(OAuth2Service.java:113)
	at com.retail.domain.auth.OAuth2Service.lambda$authenticateWithOAuth2$2(OAuth2Service.java:54)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.request(FluxMapFuseable.java:360)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onSubscribe(FluxMapFuseable.java:265)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_noEmailProvided_shouldFail(OAuth2ServiceTest.java:250)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:35.622 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
21:32:35.622 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication successful for tenant: test-tenant
21:32:35.628 INFO  c.retail.domain.auth.OAuth2Service - OAuth2 authentication for provider: GOOGLE tenant: test-tenant
21:32:35.629 ERROR c.retail.domain.auth.OAuth2Service - Failed to fetch user info from GOOGLE: 401 Unauthorized
21:32:35.629 ERROR c.retail.domain.auth.OAuth2Service - OAuth2 authentication failed
com.retail.domain.auth.OAuth2Exception: Failed to fetch user info from GOOGLE: 401 Unauthorized
	at com.retail.domain.auth.OAuth2Service.lambda$fetchUserInfo$2(OAuth2Service.java:93)
	at reactor.core.publisher.Mono.lambda$onErrorMap$28(Mono.java:3799)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at com.retail.domain.auth.OAuth2ServiceTest.authenticateWithOAuth2_providerReturnsError_shouldFail(OAuth2ServiceTest.java:227)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.295 s -- in com.retail.domain.auth.OAuth2ServiceTest
[INFO] Running Cart Entity Tests
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 s -- in Cart Entity Tests
[INFO] Running com.retail.domain.cart.SavedCartServiceTest
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.172 s -- in com.retail.domain.cart.SavedCartServiceTest
[INFO] Running com.retail.domain.notification.NotificationServiceTest
21:32:35.905 INFO  c.r.d.n.NotificationService - Creating notification: type=ORDER_CONFIRMATION, channel=EMAIL, userId=user-123
21:32:35.909 INFO  c.r.d.n.NotificationService - Scheduling notification: type=PROMOTIONAL, scheduledFor=2025-12-04T04:32:35.909735900Z, userId=user-123
21:32:35.912 INFO  c.r.d.n.NotificationService - Notification cancelled: id=notification-123
21:32:35.915 INFO  c.r.d.n.NotificationService - Creating notification from template: type=ORDER_CONFIRMATION, template=order-confirmation-template, userId=user-123
21:32:35.918 INFO  c.r.d.n.NotificationService - Cleaning up notifications older than 90 days for tenant tenant-123
21:32:35.928 INFO  c.r.d.n.NotificationService - Notification sent: id=notification-123, externalId=external-456
21:32:35.930 WARN  c.r.d.n.NotificationService - Notification failed: id=notification-123, error=SMTP connection failed, retryCount=1
21:32:35.932 INFO  c.r.d.n.NotificationService - Notification delivered: id=notification-123
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.107 s -- in com.retail.domain.notification.NotificationServiceTest
[INFO] Running com.retail.domain.order.OrderServiceUnitTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.046 s -- in com.retail.domain.order.OrderServiceUnitTest
[INFO] Running Order Entity Tests
[INFO] Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s -- in Order Entity Tests
[INFO] Running com.retail.domain.payment.gateway.PayPalGatewayServiceTest
21:32:35.997 INFO  c.r.d.p.gateway.PayPalGatewayService - Refunding PayPal payment: CAPTURE-test-123 for amount: 50.00
21:32:35.998 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal refund processed: REFUND-37abae09-48d2-4e26-8c5e-547ee362ffd7
21:32:35.999 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: false
21:32:36.001 INFO  c.r.d.p.gateway.PayPalGatewayService - Capturing PayPal payment: PAYPAL-test-123 for amount: 100.00
21:32:36.001 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment captured: CAPTURE-df9f4bb8-dbcf-4627-a3af-5ff78252434c
21:32:36.003 INFO  c.r.d.p.gateway.PayPalGatewayService - Authorizing PayPal payment for amount: 100.00 USD
21:32:36.004 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal payment authorized: PAYPAL-3166f95f-cb52-44d5-9196-a904804b8b5e
21:32:36.007 INFO  c.r.d.p.gateway.PayPalGatewayService - PayPal webhook signature verification: true
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 s -- in com.retail.domain.payment.gateway.PayPalGatewayServiceTest
[INFO] Running com.retail.domain.payment.PaymentProcessingServiceTest
21:32:36.203 INFO  c.r.d.p.PaymentProcessingService - Capturing payment: tx-123 amount: 100.00
21:32:36.208 INFO  c.r.d.p.PaymentProcessingService - Processing refund: tx-123 amount: 50.00 reason: Customer request
21:32:36.211 INFO  c.r.d.p.PaymentProcessingService - Processing payment for order: order-123 amount: 100.00 USD
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.217 s -- in com.retail.domain.payment.PaymentProcessingServiceTest
[INFO] Running com.retail.domain.product.ProductServiceTest
21:32:36.230 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.domain.product.ProductServiceTest]: ProductServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:36.256 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.domain.product.ProductServiceTest
21:32:36.260 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

21:32:36.286 INFO  c.r.d.product.ProductServiceTest - Starting ProductServiceTest using Java 25.0.1 with PID 41952 (started by codep in D:\code\retail-agentic\backend)
21:32:36.286 DEBUG c.r.d.product.ProductServiceTest - Running with Spring Boot v3.2.1, Spring v6.1.2
21:32:36.286 INFO  c.r.d.product.ProductServiceTest - The following 1 profile is active: "test"
21:32:36.824 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:36.828 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:36.836 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:36.839 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:36.841 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:36.864 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
21:32:36.942 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:36.942-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
21:32:36.944 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:36.944-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
21:32:37.000 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.001-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
21:32:37.002 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.002-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
21:32:37.002 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.002-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
21:32:37.002 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.002-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
21:32:37.002 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.002-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
21:32:37.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.004-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":31464,"port":59843,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--f01d8486-5e77-4991-b5f4-a208ec688619/mongod-database9922380499616665269","architecture":"64-bit","host":"jon-desktop"}}
21:32:37.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.004-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
21:32:37.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.004-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
21:32:37.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.004-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
21:32:37.003 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.004-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":59843},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--f01d8486-5e77-4991-b5f4-a208ec688619\\mongod-database9922380499616665269","journal":{"enabled":false},"syncPeriodSecs":0}}}}
21:32:37.006 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.007-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
21:32:37.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.068-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":61}}
21:32:37.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.068-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:37.126 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.126-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"d5cb0706-d52a-45ff-9f7e-8105ce8a5899"}},"options":{"uuid":{"$uuid":"d5cb0706-d52a-45ff-9f7e-8105ce8a5899"}}}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d5cb0706-d52a-45ff-9f7e-8105ce8a5899"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--4670548312448192126","collectionIdent":"collection-0--4670548312448192126","commitTimestamp":null}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:37.152 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.152-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
21:32:37.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.168-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
21:32:37.168 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.169-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
21:32:37.460 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.460-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--f01d8486-5e77-4991-b5f4-a208ec688619/mongod-database9922380499616665269/diagnostic.data"}}
21:32:37.462 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.462-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"410f0c0c-5a1d-481f-b85b-d36185691956"}},"options":{"capped":true,"size":10485760}}}
21:32:37.518 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.519-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"410f0c0c-5a1d-481f-b85b-d36185691956"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--4670548312448192126","collectionIdent":"collection-2--4670548312448192126","commitTimestamp":null}}
21:32:37.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.519-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
21:32:37.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.519-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
21:32:37.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.523-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
21:32:37.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.523-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"1492ac0a-0fa5-485c-a965-0d0ec490445c"}},"options":{}}}
21:32:37.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.523-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
21:32:37.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.523-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":59843,"ssl":"off"}}
21:32:37.593 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.593-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1492ac0a-0fa5-485c-a965-0d0ec490445c"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--4670548312448192126","collectionIdent":"collection-4--4670548312448192126","commitTimestamp":null}}
21:32:37.593 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.593-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"1492ac0a-0fa5-485c-a965-0d0ec490445c"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--4670548312448192126","collectionIdent":"collection-4--4670548312448192126","commitTimestamp":null}}
21:32:37.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.645-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59845","uuid":"b0011805-7d17-4bec-9cf3-c8f521b0619a","connectionId":1,"connectionCount":1}}
21:32:37.645 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.646-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:59845","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.652 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.653-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59846","uuid":"a921a348-fbb1-4d54-b508-d63b24412579","connectionId":2,"connectionCount":2}}
21:32:37.655 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.656-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:59846","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.689 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
21:32:37.693 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
21:32:37.693 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
21:32:37.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.696-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59848","uuid":"55fe72ee-db51-467e-9fe3-ab6559eaf1ec","connectionId":3,"connectionCount":3}}
21:32:37.696 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.696-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59847","uuid":"f0e72793-694e-4f5f-9854-bf6c91d951ad","connectionId":4,"connectionCount":4}}
21:32:37.697 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
21:32:37.697 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
21:32:37.697 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
21:32:37.697 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
21:32:37.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.698-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:59848","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.698 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.698-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:59847","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.700-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"efd02cec-db93-4aef-8ed3-641fdf82bc00"}},"options":{}}}
21:32:37.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.700-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fc57deba-d872-4174-808c-b54f4c9356fb"}},"options":{}}}
21:32:37.701 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
21:32:37.701 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
21:32:37.701 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.701-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59849","uuid":"7bf9e3a1-7c72-4dc6-ac2a-ddd36d65b368","connectionId":5,"connectionCount":5}}
21:32:37.702 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.702-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59850","uuid":"250d4265-457a-4085-8bcf-4e38bed6cf79","connectionId":6,"connectionCount":6}}
21:32:37.702 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
21:32:37.703 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
21:32:37.704 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
21:32:37.704 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
21:32:37.704 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
21:32:37.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.705-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:59849","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.705 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
21:32:37.705 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.706-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:59850","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.707-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d68f87ec-5631-493a-9bbd-55f4f83d764e"}},"options":{}}}
21:32:37.707 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.707-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6e95d97d-ac9e-4fd3-a895-c46a91e04b15"}},"options":{}}}
21:32:37.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.708-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59851","uuid":"61f2fc7b-a291-475c-8528-ef1fbce71599","connectionId":7,"connectionCount":7}}
21:32:37.708 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.709-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59852","uuid":"cef4fac6-60c9-48cd-aa93-1666f36d10cb","connectionId":8,"connectionCount":8}}
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
21:32:37.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.709-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:59851","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
21:32:37.709 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
21:32:37.709 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.710-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:59852","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.710-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"06c4f30b-5a37-46e0-8579-9952b8bf2adc"}},"options":{}}}
21:32:37.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.711-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"10582780-e106-40ca-b6aa-3213bfb1ab10"}},"options":{}}}
21:32:37.710 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
21:32:37.711 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
21:32:37.711 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
21:32:37.711 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.712-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59853","uuid":"aca29d69-1c07-4bf2-a3fb-f098ceb638fc","connectionId":9,"connectionCount":9}}
21:32:37.712 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.712-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59854","uuid":"6d8f3b75-4631-4b5e-9d19-f8bf5efecad5","connectionId":10,"connectionCount":10}}
21:32:37.713 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
21:32:37.714 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
21:32:37.715 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.716-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:59853","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.717 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
21:32:37.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.719-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"580c9dbc-c880-4c4f-b924-2b92134957ba"}},"options":{}}}
21:32:37.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.720-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:59854","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.721 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.720-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59855","uuid":"ddd9456c-6205-4fd0-bfee-33bc5720c5ea","connectionId":11,"connectionCount":11}}
21:32:37.722 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.722-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"options":{}}}
21:32:37.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.726-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59856","uuid":"0f381118-e050-4a89-ae5c-f98d0dcdc569","connectionId":12,"connectionCount":12}}
21:32:37.727 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.727-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:59855","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.729 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.729-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a2e5bf77-bed3-4dd0-8693-dc9f6db42639"}},"options":{}}}
21:32:37.730 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.730-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:59856","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.731-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59857","uuid":"c1af54fc-6119-4978-aa41-e7ce90c27939","connectionId":13,"connectionCount":13}}
21:32:37.732 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.732-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}},"options":{}}}
21:32:37.736 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.735-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59858","uuid":"8e70dd5b-51c6-4819-b95e-8942ddd63302","connectionId":14,"connectionCount":14}}
21:32:37.741 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.741-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:59857","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.742 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.742-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:59858","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.744 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.743-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2effbc4d-6635-4674-8a35-f75178326781"}},"options":{}}}
21:32:37.744 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.744-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"options":{}}}
21:32:37.747 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.747-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59859","uuid":"addfca04-9678-4779-875f-6820a4442899","connectionId":15,"connectionCount":15}}
21:32:37.748 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.748-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59860","uuid":"d9466959-3aed-48de-972a-3961e8399d69","connectionId":16,"connectionCount":16}}
21:32:37.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.752-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:59859","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.753 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.753-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:59860","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.753 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.753-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8e7612a8-6105-4e2b-8cf7-4dd3ca0936ff"}},"options":{}}}
21:32:37.754 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.754-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"780aea8b-e6ee-4727-a959-5ec9c1476fff"}},"options":{}}}
21:32:37.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.757-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59861","uuid":"b6251bda-0221-4e44-bf63-862f8539c963","connectionId":17,"connectionCount":17}}
21:32:37.757 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.757-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59862","uuid":"56d987bf-bf01-4429-9522-776cc112b8ca","connectionId":18,"connectionCount":18}}
21:32:37.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.758-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:59861","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.758 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.758-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:59862","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.759 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.759-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"options":{}}}
21:32:37.760 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.759-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f63b078f-2780-44bb-a22a-6c33569f7c66"}},"options":{}}}
21:32:37.761 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.761-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59863","uuid":"5cc42427-8269-41d0-bd0f-69ee0f5b022c","connectionId":19,"connectionCount":19}}
21:32:37.762 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.762-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59864","uuid":"b01be4d0-0ef3-4aa0-8831-4ceaf6891b39","connectionId":20,"connectionCount":20}}
21:32:37.763 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.763-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:59863","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.763 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.763-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:59864","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.764 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.764-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d3beb0a7-e4fa-46b2-ac7d-2bdf4837a5c5"}},"options":{}}}
21:32:37.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.765-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c567e5f0-838f-4838-b01e-29c45575e592"}},"options":{}}}
21:32:37.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.766-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59865","uuid":"8f23e133-22df-4ca0-94e5-ae4dad15028c","connectionId":21,"connectionCount":21}}
21:32:37.767 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.767-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:59865","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.769 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.768-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7f7ba73c-0f67-4167-861e-854fd02e6af7"}},"options":{}}}
21:32:37.772 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.772-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59866","uuid":"857d856f-cb32-4831-9815-83a4f26cab2a","connectionId":22,"connectionCount":22}}
21:32:37.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.773-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59867","uuid":"6d65632a-64b6-46a9-a392-0faae8c412d7","connectionId":23,"connectionCount":23}}
21:32:37.773 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.773-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:59866","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.777 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.777-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59868","uuid":"85f16f29-3011-45a7-abea-fe44fe8e1acf","connectionId":24,"connectionCount":24}}
21:32:37.778 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.778-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:59867","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.778 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.778-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"923f5032-c262-4b74-b8dc-edac5d395ed1"}},"options":{}}}
21:32:37.779 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.779-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3244f5d6-6e6c-478e-a8a9-c510b743f0b6"}},"options":{}}}
21:32:37.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.781-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59869","uuid":"70ff099d-0244-4fb5-99f1-ee41c7273a70","connectionId":25,"connectionCount":25}}
21:32:37.781 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.781-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:59868","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.782 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.782-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:59869","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.782 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.782-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}},"options":{}}}
21:32:37.783 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.783-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"8c457cc9-ad7a-4acd-9ca8-bc35a472ecd0"}},"options":{}}}
21:32:37.788 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.788-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59870","uuid":"0f00e862-ad54-4849-88b0-8b780b3b200e","connectionId":26,"connectionCount":26}}
21:32:37.789 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.789-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59872","uuid":"2a521934-96a8-440f-85b7-e5f4aaae3445","connectionId":27,"connectionCount":27}}
21:32:37.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.791-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:59870","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.793 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.793-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"options":{}}}
21:32:37.794 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.794-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:59872","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.797-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59873","uuid":"0e206dce-6754-47b6-8ad4-ca566e8ac2b7","connectionId":28,"connectionCount":28}}
21:32:37.798 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.798-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59874","uuid":"6333a71f-1b84-4601-98e3-b771356a3404","connectionId":29,"connectionCount":29}}
21:32:37.799 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.799-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"61019a16-5361-4f1f-813d-725900d47803"}},"options":{}}}
21:32:37.800 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.800-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:59873","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.801 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.801-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:59874","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.803-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0d0c90c8-65bf-4513-b181-c385384bd6d6"}},"options":{}}}
21:32:37.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.803-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59875","uuid":"b438a960-2224-46cd-a3ec-a7ecbd580203","connectionId":30,"connectionCount":30}}
21:32:37.804 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.804-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"options":{}}}
21:32:37.805 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.805-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59876","uuid":"0efec282-80c2-46d1-beed-3f965fa3e281","connectionId":31,"connectionCount":31}}
21:32:37.806 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.806-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:59875","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.807-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"30965f1d-d8ae-43bc-9ecd-8c8cf138e43d"}},"options":{}}}
21:32:37.808 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.808-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:59876","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.809 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.809-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59877","uuid":"020d8f5c-4ff6-4294-8fcf-5c13276f1082","connectionId":32,"connectionCount":32}}
21:32:37.810 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.810-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"90e0824d-4fd1-4871-b261-fa03cf324d2d"}},"options":{}}}
21:32:37.811 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.810-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:59877","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.811 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.811-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59878","uuid":"e323116a-5079-4752-a7a2-e8fb394870bf","connectionId":33,"connectionCount":33}}
21:32:37.813 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.812-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:59878","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.813 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.813-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fd5a24e4-4b1a-496d-a49a-f3722ea061b0"}},"options":{}}}
21:32:37.813 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.813-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59879","uuid":"5d3f10b0-8f3d-4c47-be4e-20340ccacb53","connectionId":34,"connectionCount":34}}
21:32:37.814 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.814-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fbc856ba-5928-49a4-8b33-3336dc0ce1e5"}},"options":{}}}
21:32:37.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.815-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:59879","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.816-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59880","uuid":"89999279-044e-44c6-86fa-01fea2f6a55a","connectionId":35,"connectionCount":35}}
21:32:37.817 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.817-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"options":{}}}
21:32:37.818 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.818-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59881","uuid":"055e322d-a292-4866-95b3-b3dd08624041","connectionId":36,"connectionCount":36}}
21:32:37.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.822-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:59880","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.822 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.823-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:59881","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.826 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.826-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59882","uuid":"5c05ca6a-4358-4a88-8390-5b0c92f05581","connectionId":37,"connectionCount":37}}
21:32:37.829 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.830-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e031cde7-083c-4c78-a816-bf75e2ae24f9"}},"options":{}}}
21:32:37.831 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.831-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a2698dc6-d569-4ec6-b427-2ba0c973d44c"}},"options":{}}}
21:32:37.832 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.832-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:59882","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:37.835 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:37.836-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"a92ea67e-06dd-4bed-8041-ed51b8a49bbe"}},"options":{}}}
21:32:38.198 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
21:32:38.210 INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 0b64e844-6e52-4b30-b418-829fb27db703

21:32:38.247 DEBUG o.s.w.r.r.m.a.RequestMappingHandlerMapping - 65 mappings in 'requestMappingHandlerMapping'
21:32:38.293 DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
21:32:38.330 DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 3 @ExceptionHandler
21:32:38.338 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - enableLoggingRequestDetails='false': form data and headers will be masked to prevent unsafe logging of potentially sensitive data
21:32:38.442 INFO  c.r.d.product.ProductServiceTest - Started ProductServiceTest in 2.182 seconds (process running for 18.175)
21:32:38.456 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:38.460 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.460-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59883","uuid":"fea36413-18de-47e4-916d-79b47361cc78","connectionId":38,"connectionCount":38}}
21:32:38.461 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.461-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn38","msg":"client metadata","attr":{"remote":"127.0.0.1:59883","client":"conn38","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:38.465 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
21:32:38.482 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:38.486 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.486-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn38","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6261510a-ae27-41c2-a07d-526d430ea4c0"}},"options":{}}}
21:32:38.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.626-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"efd02cec-db93-4aef-8ed3-641fdf82bc00"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-14--4670548312448192126","collectionIdent":"collection-7--4670548312448192126","commitTimestamp":null}}
21:32:38.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.626-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"efd02cec-db93-4aef-8ed3-641fdf82bc00"}},"namespace":"test-retail-db.persisted_carts","index":"session_tenant_idx","ident":"index-49--4670548312448192126","collectionIdent":"collection-7--4670548312448192126","commitTimestamp":null}}
21:32:38.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.626-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"13f9ff77-b8e9-4233-ac4e-8f3de233f794"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1}},"Mutex":{"acquireCount":{"r":7}}},"storage":{},"remote":"127.0.0.1:59847","protocol":"op_msg","durationMillis":926}}
21:32:38.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.691-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn3","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
21:32:38.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d68f87ec-5631-493a-9bbd-55f4f83d764e"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-25--4670548312448192126","collectionIdent":"collection-9--4670548312448192126","commitTimestamp":null}}
21:32:38.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.766-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d68f87ec-5631-493a-9bbd-55f4f83d764e"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-58--4670548312448192126","collectionIdent":"collection-9--4670548312448192126","commitTimestamp":null}}
21:32:38.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.767-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a56e9746-b2ed-4be6-aebe-c3fe7d673e19"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59849","protocol":"op_msg","durationMillis":1060}}
21:32:38.926 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:38.926-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
21:32:39.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.127-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"06c4f30b-5a37-46e0-8579-9952b8bf2adc"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-43--4670548312448192126","collectionIdent":"collection-11--4670548312448192126","commitTimestamp":null}}
21:32:39.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.127-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn7","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"06c4f30b-5a37-46e0-8579-9952b8bf2adc"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-79--4670548312448192126","collectionIdent":"collection-11--4670548312448192126","commitTimestamp":null}}
21:32:39.127 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.127-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cb44948b-5083-442b-a88c-f40a5b7de786"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59851","protocol":"op_msg","durationMillis":1416}}
21:32:39.197 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.197-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
21:32:39.212 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.212-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"580c9dbc-c880-4c4f-b924-2b92134957ba"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-48--4670548312448192126","collectionIdent":"collection-13--4670548312448192126","commitTimestamp":null}}
21:32:39.212 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.212-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn9","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"580c9dbc-c880-4c4f-b924-2b92134957ba"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-84--4670548312448192126","collectionIdent":"collection-13--4670548312448192126","commitTimestamp":null}}
21:32:39.212 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.212-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"339d11ee-922f-446f-be33-c28c53fbf104"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59853","protocol":"op_msg","durationMillis":1493}}
21:32:39.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.228-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-50--4670548312448192126","collectionIdent":"collection-15--4670548312448192126","commitTimestamp":null}}
21:32:39.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.228-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-85--4670548312448192126","collectionIdent":"collection-15--4670548312448192126","commitTimestamp":null}}
21:32:39.228 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.229-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"eb3d5963-454a-4ca4-b13a-0f99782bf22d"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59854","protocol":"op_msg","durationMillis":1506}}
21:32:39.247 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.247-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn11","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
21:32:39.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.264-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-52--4670548312448192126","collectionIdent":"collection-17--4670548312448192126","commitTimestamp":null}}
21:32:39.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.264-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn12","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-87--4670548312448192126","collectionIdent":"collection-17--4670548312448192126","commitTimestamp":null}}
21:32:39.264 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.264-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"30578570-b049-44e6-bb73-bbd2b079de43"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59856","protocol":"op_msg","durationMillis":1532}}
21:32:39.294 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.294-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn13","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
21:32:39.312 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.312-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-55--4670548312448192126","collectionIdent":"collection-20--4670548312448192126","commitTimestamp":null}}
21:32:39.312 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.312-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn14","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-89--4670548312448192126","collectionIdent":"collection-20--4670548312448192126","commitTimestamp":null}}
21:32:39.312 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.312-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"74a8e34d-65da-4031-be09-41d4d95b01a3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59858","protocol":"op_msg","durationMillis":1568}}
21:32:39.326 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.326-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:39.342 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.342-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:39.357 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.357-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-59--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:39.357 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.357-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn18","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-92--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:39.358 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.358-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"07dee75d-6265-498d-8b47-1003c3889ff0"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59862","protocol":"op_msg","durationMillis":1598}}
21:32:39.378 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.378-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.395 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.396-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.411 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.411-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn20","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.428 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.428-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.441 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.441-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.456 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.457-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn23","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:39.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.472-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-66--4670548312448192126","collectionIdent":"collection-31--4670548312448192126","commitTimestamp":null}}
21:32:39.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.472-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn24","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-99--4670548312448192126","collectionIdent":"collection-31--4670548312448192126","commitTimestamp":null}}
21:32:39.472 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.472-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"ffc478cc-3969-4310-9a62-b421f5e364f1"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59868","protocol":"op_msg","durationMillis":1690}}
21:32:39.487 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.488-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn25","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
21:32:39.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.522-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-69--4670548312448192126","collectionIdent":"collection-34--4670548312448192126","commitTimestamp":null}}
21:32:39.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.523-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn26","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-101--4670548312448192126","collectionIdent":"collection-34--4670548312448192126","commitTimestamp":null}}
21:32:39.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.523-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"8ce80860-3696-4a56-b9f3-a34a676f3395"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59870","protocol":"op_msg","durationMillis":1729}}
21:32:39.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.541-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn27","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:39.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.558-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn28","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:39.573 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.574-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-72--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:39.574 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.574-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn29","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"tenant_timestamp_idx","ident":"index-104--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:39.574 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.574-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b35e8cac-0782-4dc6-9fb9-3ba5c1a526b2"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59874","protocol":"op_msg","durationMillis":1770}}
21:32:39.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.589-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:39.606 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.606-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:39.625 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.625-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn32","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:39.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.644-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn33","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:39.663 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.663-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn38","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
21:32:39.679 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.679-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-78--4670548312448192126","collectionIdent":"collection-42--4670548312448192126","commitTimestamp":null}}
21:32:39.679 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.679-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn34","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-110--4670548312448192126","collectionIdent":"collection-42--4670548312448192126","commitTimestamp":null}}
21:32:39.679 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.679-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1c0852d6-0342-4280-9b43-1b062571f632"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59879","protocol":"op_msg","durationMillis":1862}}
21:32:39.694 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.694-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:39.710 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.710-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:39.726 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:39.726-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:40.151 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.152-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn3","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"4b60ec34-2e22-4e93-aee5-27cc246c37e3"}},"namespace":"test-retail-db.persisted_carts","collectionUUID":{"uuid":{"$uuid":"efd02cec-db93-4aef-8ed3-641fdf82bc00"}},"indexes":1,"firstIndex":{"name":"tenant_updated_idx"},"command":{"createIndexes":"persisted_carts","v":2,"indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.304 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.304-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"205d7a61-27d0-4c0c-b05b-d2bcca790a74"}},"namespace":"test-retail-db.users","collectionUUID":{"uuid":{"$uuid":"d68f87ec-5631-493a-9bbd-55f4f83d764e"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"users","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.409 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.409-06:00"},"s":"I",  "c":"WRITE",    "id":51803,   "ctx":"conn38","msg":"Slow query","attr":{"type":"update","ns":"test-retail-db.tenants","command":{"q":{"_id":"tenant-a-test"},"u":{"_id":"tenant-a-test","subdomain":"tenant-a","name":"Test Store tenant-a","contactEmail":"test@tenant-a.com","branding":{"primaryColor":"#1E40AF","secondaryColor":"#9333EA","accentColor":"#F59E0B","fontFamily":"Inter"},"settings":{"currency":"USD","taxRate":0.09,"freeShippingThreshold":50,"lowStockThreshold":10},"createdAt":{"$date":"2025-12-04T03:32:38.468Z"},"updatedAt":{"$date":"2025-12-04T03:32:38.468Z"},"_class":"com.retail.domain.tenant.Tenant"},"multi":false,"upsert":true},"planSummary":"IDHACK","keysExamined":0,"docsExamined":0,"nMatched":0,"nModified":0,"nUpserted":1,"keysInserted":2,"writeConflicts":1,"numYields":0,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":8},"storage":{},"remote":"127.0.0.1:59883","durationMillis":1922}}
21:32:40.409 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.409-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn38","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.$cmd","command":{"update":"tenants","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"117ee861-db7f-48cf-814a-43638cf472e7"}}},"numYields":0,"reslen":117,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"FeatureCompatibilityVersion":{"acquireCount":{"r":1,"w":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"r":1,"w":4}},"Database":{"acquireCount":{"w":4}},"Collection":{"acquireCount":{"w":4}},"Mutex":{"acquireCount":{"r":5}}},"flowControl":{"acquireCount":4,"timeAcquiringMicros":8},"storage":{},"remote":"127.0.0.1:59883","protocol":"op_msg","durationMillis":1922}}
21:32:40.412 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:40.419 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.422 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.416Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.416Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.422 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.435 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863e8
21:32:40.435 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (693100d8fa5d915e5c2863e8)
21:32:40.436 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863e8
21:32:40.444 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:40.448 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
21:32:40.452 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:40.457 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:40.461 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.462 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.462 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.465 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863e9
21:32:40.465 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A1 (693100d8fa5d915e5c2863e9)
21:32:40.466 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863e9
21:32:40.466 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.467 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.467 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.470 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863ea
21:32:40.470 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A2 (693100d8fa5d915e5c2863ea)
21:32:40.470 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863ea
21:32:40.471 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.472 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.472 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.474 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.474-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn8","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"9d8d0a48-eddf-4e0a-87ec-4390c66de4dd"}},"namespace":"test-retail-db.product_attribute_definitions","collectionUUID":{"uuid":{"$uuid":"06c4f30b-5a37-46e0-8579-9952b8bf2adc"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"product_attribute_definitions","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.475 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863eb
21:32:40.475 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B1 (693100d8fa5d915e5c2863eb)
21:32:40.475 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863eb
21:32:40.476 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.476 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.477 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.480 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863ec
21:32:40.480 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B2 (693100d8fa5d915e5c2863ec)
21:32:40.480 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863ec
21:32:40.490 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
21:32:40.490 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.491-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn11","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
21:32:40.490 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.491-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn11","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true,"v":2}],"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}},"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}}}}
21:32:40.498 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:40.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.506-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"efd02cec-db93-4aef-8ed3-641fdf82bc00"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-114--4670548312448192126","collectionIdent":"collection-7--4670548312448192126","commitTimestamp":null}}
21:32:40.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.506-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn3","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"4b60ec34-2e22-4e93-aee5-27cc246c37e3"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.506-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn3","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"4b60ec34-2e22-4e93-aee5-27cc246c37e3"}}}}
21:32:40.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.506-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"500fd02d-ccc5-4ac7-973c-aa011e7e69f2"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59848","protocol":"op_msg","durationMillis":2806}}
21:32:40.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.525-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn13","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"81239154-05e9-425f-87be-db90ac98bb3d"}},"namespace":"test-retail-db.inventory","collectionUUID":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"inventory","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.525-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn13","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"81239154-05e9-425f-87be-db90ac98bb3d"}},"collectionUUID":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}}}}
21:32:40.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.545-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn15","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"125e641d-53a5-41c1-8517-cdafa9ea1007"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.546-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn15","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"125e641d-53a5-41c1-8517-cdafa9ea1007"}},"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}}}}
21:32:40.550 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d8fa5d915e5c2863e9"}, "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.559 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d8fa5d915e5c2863e9"}, "tenantId" : "tenant-a-test", "name" : "Product A1", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.461Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d8fa5d915e5c2863e9', tenantId='tenant-a-test', name='Product A1', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.560 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d8fa5d915e5c2863ea"}, "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.560 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d8fa5d915e5c2863ea"}, "tenantId" : "tenant-a-test", "name" : "Product A2", "sku" : "SKU-A-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.466Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d8fa5d915e5c2863ea', tenantId='tenant-a-test', name='Product A2', sku='SKU-A-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.561 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
21:32:40.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.562-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn16","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"2e66782c-2b36-49e7-9ff5-c5794d22cc6c"}},"namespace":"test-retail-db.categories","collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"indexes":1,"firstIndex":{"name":"tenant_parent_idx"},"command":{"createIndexes":"categories","v":2,"indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.562-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn16","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"2e66782c-2b36-49e7-9ff5-c5794d22cc6c"}},"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}}}}
21:32:40.562 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:40.565 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d8fa5d915e5c2863eb"}, "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.567 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d8fa5d915e5c2863eb"}, "tenantId" : "tenant-b-test", "name" : "Product B1", "sku" : "SKU-B-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.47Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d8fa5d915e5c2863eb', tenantId='tenant-b-test', name='Product B1', sku='SKU-B-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.567 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d8fa5d915e5c2863ec"}, "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.567 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d8fa5d915e5c2863ec"}, "tenantId" : "tenant-b-test", "name" : "Product B2", "sku" : "SKU-B-002", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.475Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d8fa5d915e5c2863ec', tenantId='tenant-b-test', name='Product B2', sku='SKU-B-002', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.572 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:40.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.576-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn17","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"128acb27-44e4-47be-91fc-ed59213f3c55"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.576 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
21:32:40.576 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.576-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn17","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"128acb27-44e4-47be-91fc-ed59213f3c55"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.589-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn19","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"32f25c0d-fda5-4f93-853d-5cd64e9cf6c8"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenant_category_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.590 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.590-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn19","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"32f25c0d-fda5-4f93-853d-5cd64e9cf6c8"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.602 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.602-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn20","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.602 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.602-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn20","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.617-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn21","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenant_stock_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.618 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.617-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn21","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.630-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn22","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenant_price_idx"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.630-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn22","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.644-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn23","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}},"namespace":"test-retail-db.products","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"products","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.644 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.645-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn23","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}}}}
21:32:40.661 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.661-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn25","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"97fc0a34-97b1-4dea-a3d3-c76e9e904f11"}},"namespace":"test-retail-db.saved_carts","collectionUUID":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"saved_carts","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.661 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.661-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn25","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"97fc0a34-97b1-4dea-a3d3-c76e9e904f11"}},"collectionUUID":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}}}}
21:32:40.675 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.675-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d68f87ec-5631-493a-9bbd-55f4f83d764e"}},"namespace":"test-retail-db.users","index":"tenantId","ident":"index-115--4670548312448192126","collectionIdent":"collection-9--4670548312448192126","commitTimestamp":null}}
21:32:40.675 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.675-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"205d7a61-27d0-4c0c-b05b-d2bcca790a74"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.675 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.675-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"205d7a61-27d0-4c0c-b05b-d2bcca790a74"}}}}
21:32:40.675 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.675-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"661aeb0d-43f0-4a7e-ac27-527dd7edd11a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59850","protocol":"op_msg","durationMillis":2968}}
21:32:40.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.690-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn27","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"1bd7e65e-9e78-45ea-a819-56bf402606bc"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"indexes":1,"firstIndex":{"name":"tenant_status_idx"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.690 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.690-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn27","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"1bd7e65e-9e78-45ea-a819-56bf402606bc"}},"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}}}}
21:32:40.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.704-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn28","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"8049bae1-c353-4292-97ce-6726b88dbb3a"}},"namespace":"test-retail-db.notifications","collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"notifications","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.703 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.704-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn28","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"8049bae1-c353-4292-97ce-6726b88dbb3a"}},"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}}}}
21:32:40.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.719-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn30","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"87c3d625-3986-4231-acb8-25973fe1db25"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"indexes":1,"firstIndex":{"name":"tenant_user_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.719 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.719-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn30","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"87c3d625-3986-4231-acb8-25973fe1db25"}},"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}}}}
21:32:40.736 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.735-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn31","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"daedd258-49bb-41dc-939a-7d4a73fc4e53"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"indexes":1,"firstIndex":{"name":"tenant_entity_idx"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.736 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.736-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn31","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"daedd258-49bb-41dc-939a-7d4a73fc4e53"}},"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}}}}
21:32:40.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.750-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn32","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"144176aa-fbb5-4bf7-9553-0327b83f1be4"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.750 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.750-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn32","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"144176aa-fbb5-4bf7-9553-0327b83f1be4"}},"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}}}}
21:32:40.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.765-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn33","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3eca83aa-6c1c-4674-8ce7-a2863b708f39"}},"namespace":"test-retail-db.audit_events","collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"indexes":1,"firstIndex":{"name":"timestamp"},"command":{"createIndexes":"audit_events","v":2,"indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.765 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.765-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn33","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"timestamp":1},"name":"timestamp","v":2}],"buildUUID":{"uuid":{"$uuid":"3eca83aa-6c1c-4674-8ce7-a2863b708f39"}},"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}}}}
21:32:40.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.777-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn36","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"cff2b95a-5122-4747-9ddb-8d02a0ad080b"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"indexes":1,"firstIndex":{"name":"tenant_customer_email_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.776 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.777-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn36","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"cff2b95a-5122-4747-9ddb-8d02a0ad080b"}},"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}}}}
21:32:40.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.791-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn35","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ed6f54d2-660c-4eb7-b580-5561e67c3c28"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.791 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.791-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn35","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx","v":2}],"buildUUID":{"uuid":{"$uuid":"ed6f54d2-660c-4eb7-b580-5561e67c3c28"}},"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}}}}
21:32:40.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.803-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn37","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"7e9e6f99-02eb-4847-8962-f162746f5421"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"indexes":1,"firstIndex":{"name":"tenantId"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"ignoreUnknownIndexOptions":false}}}
21:32:40.803 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.803-06:00"},"s":"I",  "c":"STORAGE",  "id":4715500, "ctx":"conn37","msg":"Too many index builds running simultaneously, waiting until the number of active index builds is below the threshold","attr":{"numActiveIndexBuilds":3,"maxNumActiveUserIndexBuilds":3,"indexSpecs":[{"key":{"tenantId":1},"name":"tenantId","v":2}],"buildUUID":{"uuid":{"$uuid":"7e9e6f99-02eb-4847-8962-f162746f5421"}},"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}}}}
21:32:40.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.816-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn8","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"06c4f30b-5a37-46e0-8579-9952b8bf2adc"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenantId","ident":"index-116--4670548312448192126","collectionIdent":"collection-11--4670548312448192126","commitTimestamp":null}}
21:32:40.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.816-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn8","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"9d8d0a48-eddf-4e0a-87ec-4390c66de4dd"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.815 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.816-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn8","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"9d8d0a48-eddf-4e0a-87ec-4390c66de4dd"}}}}
21:32:40.816 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.816-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"84560028-756b-4fa3-8df3-ce5d858455d0"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59852","protocol":"op_msg","durationMillis":3105}}
21:32:40.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.857-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn17","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_status_idx","ident":"index-118--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:40.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.857-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn17","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"128acb27-44e4-47be-91fc-ed59213f3c55"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.857-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn17","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"128acb27-44e4-47be-91fc-ed59213f3c55"}}}}
21:32:40.857 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.857-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5583afd9-7163-4005-9ff8-1ea3f65c1e5f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59861","protocol":"op_msg","durationMillis":3098}}
21:32:40.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.878-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d83aeb48-89e5-4ff1-8a31-cf4a8c972b9f"}},"namespace":"test-retail-db.inventory","index":"tenantId","ident":"index-119--4670548312448192126","collectionIdent":"collection-17--4670548312448192126","commitTimestamp":null}}
21:32:40.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.878-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn13","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"81239154-05e9-425f-87be-db90ac98bb3d"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.878-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn13","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"81239154-05e9-425f-87be-db90ac98bb3d"}}}}
21:32:40.878 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.878-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"e8b35004-67fb-4a55-864f-1df0f2d72396"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59857","protocol":"op_msg","durationMillis":3135}}
21:32:40.906 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.907-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn15","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"namespace":"test-retail-db.categories","index":"tenantId","ident":"index-121--4670548312448192126","collectionIdent":"collection-20--4670548312448192126","commitTimestamp":null}}
21:32:40.907 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.907-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn15","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"125e641d-53a5-41c1-8517-cdafa9ea1007"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.907 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.907-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn15","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"125e641d-53a5-41c1-8517-cdafa9ea1007"}}}}
21:32:40.907 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.908-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c4b34289-de3c-4d8e-bc8b-13a9c03a9626"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59859","protocol":"op_msg","durationMillis":3154}}
21:32:40.918 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.918-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","properties":{"v":2,"unique":true,"key":{"customDomain":1},"name":"customDomain","sparse":true},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-117--4670548312448192126","collectionIdent":"collection-15--4670548312448192126","maxTemporaryMemoryUsageMB":200}}
21:32:40.918 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.919-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","totalRecords":2,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:40.918 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.919-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn11","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.918 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.919-06:00"},"s":"I",  "c":"WRITE",    "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"remove","ns":"test-retail-db.tenants","command":{"q":{},"limit":0},"planSummary":"COLLSCAN","keysExamined":0,"docsExamined":2,"ndeleted":2,"keysDeleted":4,"numYields":0,"queryHash":"17830885","locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":1}},"FeatureCompatibilityVersion":{"acquireCount":{"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":1}},"Global":{"acquireCount":{"w":1}},"Database":{"acquireCount":{"w":1}},"Collection":{"acquireCount":{"w":1},"acquireWaitCount":{"w":1},"timeAcquiringMicros":{"w":341220}},"Mutex":{"acquireCount":{"r":1}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:59848","durationMillis":341}}
21:32:40.919 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.919-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.$cmd","command":{"delete":"tenants","ordered":true,"$db":"test-retail-db","lsid":{"id":{"$uuid":"500fd02d-ccc5-4ac7-973c-aa011e7e69f2"}}},"numYields":0,"reslen":45,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":1}},"FeatureCompatibilityVersion":{"acquireCount":{"r":1,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":1}},"Global":{"acquireCount":{"r":1,"w":1}},"Database":{"acquireCount":{"w":1}},"Collection":{"acquireCount":{"w":1},"acquireWaitCount":{"w":1},"timeAcquiringMicros":{"w":341220}},"Mutex":{"acquireCount":{"r":1}}},"flowControl":{"acquireCount":1,"timeAcquiringMicros":1},"storage":{},"remote":"127.0.0.1:59848","protocol":"op_msg","durationMillis":341}}
21:32:40.920 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:40.923 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:40.926 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:40.926 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:40.925Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:40.925Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:40.926 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:40.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.943-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn16","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"10aaeeed-bae3-4a70-ad09-c81db4d2ce43"}},"namespace":"test-retail-db.categories","index":"tenant_parent_idx","ident":"index-123--4670548312448192126","collectionIdent":"collection-20--4670548312448192126","commitTimestamp":null}}
21:32:40.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.944-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn16","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"2e66782c-2b36-49e7-9ff5-c5794d22cc6c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.944-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn16","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"2e66782c-2b36-49e7-9ff5-c5794d22cc6c"}}}}
21:32:40.943 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.944-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"da788777-9f27-4f2c-a1d8-79a374caf324"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":28829}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59860","protocol":"op_msg","durationMillis":3189}}
21:32:40.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.956-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn19","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_category_idx","ident":"index-124--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:40.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.956-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn19","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"32f25c0d-fda5-4f93-853d-5cd64e9cf6c8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:40.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.956-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn19","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"32f25c0d-fda5-4f93-853d-5cd64e9cf6c8"}}}}
21:32:40.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.956-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d6c540b4-bacc-420f-a4f2-3e7fff55eddf"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59863","protocol":"op_msg","durationMillis":3192}}
21:32:40.956 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.957-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.tenants","index":"customDomain","keysInserted":0,"durationMillis":0}}
21:32:40.957 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d8fa5d915e5c2863ed
21:32:40.957 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (693100d8fa5d915e5c2863ed)
21:32:40.957 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d8fa5d915e5c2863ed
21:32:40.958 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}}}}
21:32:40.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}},"action":"Single-phase commit"}}
21:32:40.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-117--4670548312448192126","collectionIdent":"collection-15--4670548312448192126","commitTimestamp":null}}
21:32:40.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}},"collectionUUID":{"uuid":{"$uuid":"f78272db-61d8-4640-bee7-c35b83e11281"}},"namespace":"test-retail-db.tenants","indexesBuilt":["customDomain"],"numIndexesBefore":2,"numIndexesAfter":3}}
21:32:40.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn11","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"69399055-c834-479f-aa14-6eaf5c5ec633"}}}}
21:32:40.959 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.959-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5c9f20ff-b3be-4909-84b7-bfdeac5a1e73"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59855","protocol":"op_msg","durationMillis":3230}}
21:32:40.961 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d8fa5d915e5c2863ed", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
21:32:40.961 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "693100d8fa5d915e5c2863ed"}, "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:40.969 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:40.986 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.986-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-125--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","maxTemporaryMemoryUsageMB":200}}
21:32:40.986 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:40.986-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn20","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.012-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-127--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","maxTemporaryMemoryUsageMB":200}}
21:32:41.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.013-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn21","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.013-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:41.012 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.013-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:41.014 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.015-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_status_created_idx","keysInserted":1,"durationMillis":0}}
21:32:41.015 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.016-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_stock_idx","keysInserted":1,"durationMillis":0}}
21:32:41.015 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
21:32:41.020 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:41.024 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:41.026 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:41.027 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:41.027 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:41.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.046-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-129--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","maxTemporaryMemoryUsageMB":200}}
21:32:41.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.047-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn22","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.046 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.047-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","totalRecords":0,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:41.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.047-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenant_stock_idx","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","numApplied":2,"totalInserted":1,"totalDeleted":1,"durationMillis":0}}
21:32:41.047 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d9fa5d915e5c2863ee
21:32:41.047 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (693100d9fa5d915e5c2863ee)
21:32:41.048 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d9fa5d915e5c2863ee
21:32:41.049 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.049-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenant_price_idx","keysInserted":0,"durationMillis":0}}
21:32:41.050 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.050-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}}}}
21:32:41.050 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.050-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}},"action":"Single-phase commit"}}
21:32:41.050 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.050-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: drained side writes","attr":{"index":"tenant_status_created_idx","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","numApplied":2,"totalInserted":1,"totalDeleted":1,"durationMillis":3}}
21:32:41.051 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ee", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
21:32:41.051 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ee"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:41.054 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ee"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:41.055 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ee"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d9fa5d915e5c2863ee', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:41.056 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='693100d9fa5d915e5c2863ee', tenantId='tenant-a-test', name='Product A Updated', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:41.057 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='693100d9fa5d915e5c2863ee', tenantId='tenant-a-test', name='Product A Updated', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : { "$oid" : "693100d9fa5d915e5c2863ee"}, "tenantId" : "tenant-a-test", "name" : "Product A Updated", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.026Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.056Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:41.057 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:41.065 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.065-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_stock_idx","ident":"index-127--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:41.065 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.065-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_stock_idx"],"numIndexesBefore":4,"numIndexesAfter":7}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}}}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}},"action":"Single-phase commit"}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: drained side writes","attr":{"index":"tenant_price_idx","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","numApplied":1,"totalInserted":1,"totalDeleted":0,"durationMillis":15}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn21","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"113385d5-0fc4-4346-a0fc-d2935983f825"}}}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7d54425f-4b3f-4f3a-b601-84c4ddc83086"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":361}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59865","protocol":"op_msg","durationMillis":3297}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_status_created_idx","ident":"index-125--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:41.066 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.066-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-1","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_status_created_idx"],"numIndexesBefore":4,"numIndexesAfter":7}}
21:32:41.067 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d9fa5d915e5c2863ee
21:32:41.067 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A Updated (693100d9fa5d915e5c2863ee)
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn20","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"23106f46-dba4-40be-aaf5-32a7d0ed4a4c"}}}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}}}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}},"action":"Single-phase commit"}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"44a7b5aa-e5bd-4f88-a46d-97660b38a1fa"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":12958}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59864","protocol":"op_msg","durationMillis":3302}}
21:32:41.067 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d9fa5d915e5c2863ee
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenant_price_idx","ident":"index-129--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-0","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","indexesBuilt":["tenant_price_idx"],"numIndexesBefore":6,"numIndexesAfter":7}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn22","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"d9bf7445-2d1f-4c53-a970-7c6193bab305"}}}}
21:32:41.067 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.067-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c45eb778-dc50-4def-8309-8ddcd1c3f88c"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":53229}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59866","protocol":"op_msg","durationMillis":3289}}
21:32:41.068 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ee", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
21:32:41.068 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ee"}, "tenantId" : "tenant-b-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:41.074 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:41.075 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.075-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"419e152c-cefc-4237-85fb-82b786837db7"}},"namespace":"test-retail-db.saved_carts","index":"tenantId","ident":"index-131--4670548312448192126","collectionIdent":"collection-31--4670548312448192126","commitTimestamp":null}}
21:32:41.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.076-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn25","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"97fc0a34-97b1-4dea-a3d3-c76e9e904f11"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.076-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn25","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"97fc0a34-97b1-4dea-a3d3-c76e9e904f11"}}}}
21:32:41.076 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.076-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7ee09b5f-f9cf-4003-a673-f0948a23f504"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59869","protocol":"op_msg","durationMillis":3292}}
21:32:41.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.101-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"namespace":"test-retail-db.notifications","index":"tenant_status_idx","ident":"index-133--4670548312448192126","collectionIdent":"collection-34--4670548312448192126","commitTimestamp":null}}
21:32:41.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.101-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn27","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"1bd7e65e-9e78-45ea-a819-56bf402606bc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.101-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn27","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"1bd7e65e-9e78-45ea-a819-56bf402606bc"}}}}
21:32:41.101 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.101-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f11757a6-4c68-4394-9cca-8b5c1deac6ee"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59872","protocol":"op_msg","durationMillis":3302}}
21:32:41.114 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.114-06:00"},"s":"I",  "c":"INDEX",    "id":20384,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: starting","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","properties":{"v":2,"key":{"tenantId":1},"name":"tenantId"},"specIndex":0,"numSpecs":1,"method":"Hybrid","ident":"index-132--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","maxTemporaryMemoryUsageMB":200}}
21:32:41.114 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.114-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn23","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.114 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.114-06:00"},"s":"I",  "c":"INDEX",    "id":20391,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: collection scan done","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","totalRecords":1,"readSource":"kNoTimestamp","durationMillis":0}}
21:32:41.117 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: tenants.
21:32:41.119 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:41.123 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, subdomain, name, contactEmail, branding, settings, createdAt, updatedAt, _class]
21:32:41.126 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:41.127 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='null', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} }, { "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:41.127 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class] in collection: products
21:32:41.129 DEBUG c.r.d.product.ProductEventListener - Product saved event: 693100d9fa5d915e5c2863ef
21:32:41.129 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (693100d9fa5d915e5c2863ef)
21:32:41.129 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: 693100d9fa5d915e5c2863ef
21:32:41.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.131-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn30","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-135--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:41.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.132-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn30","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"87c3d625-3986-4231-acb8-25973fe1db25"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.132-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn30","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"87c3d625-3986-4231-acb8-25973fe1db25"}}}}
21:32:41.131 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.132-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"44f6e65d-3428-465c-8631-3af115202da6"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59875","protocol":"op_msg","durationMillis":3324}}
21:32:41.132 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ef", "tenantId" : "tenant-b-test"}, Fields: {}, Sort: {}
21:32:41.134 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-b-test"})
21:32:41.134 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-b-test"} in collection: products.
21:32:41.138 DEBUG c.r.d.product.ProductEventListener - Product deleted event: 693100d9fa5d915e5c2863ef
21:32:41.138 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: 693100d9fa5d915e5c2863ef
21:32:41.139 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: 693100d9fa5d915e5c2863ef
21:32:41.141 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ef", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
21:32:41.142 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:41.145 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:41.146 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product description", "price" : "29.99", "currency" : "USD", "category" : [], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:41.126Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='693100d9fa5d915e5c2863ef', tenantId='tenant-a-test', name='Product A', sku='SKU-A-001', price=29.99, currency='USD', stock=100, status=ACTIVE} })
21:32:41.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.147-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"13e21651-9682-4f9d-9166-153268792544"}},"namespace":"test-retail-db.notifications","index":"tenantId","ident":"index-136--4670548312448192126","collectionIdent":"collection-34--4670548312448192126","commitTimestamp":null}}
21:32:41.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.147-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn28","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"8049bae1-c353-4292-97ce-6726b88dbb3a"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.147-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn28","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"8049bae1-c353-4292-97ce-6726b88dbb3a"}}}}
21:32:41.146 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.147-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"eeade6b2-db6e-44dc-8dd3-b56a0e377910"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":25652}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59873","protocol":"op_msg","durationMillis":3344}}
21:32:41.147 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ef", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
21:32:41.148 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.149-06:00"},"s":"I",  "c":"INDEX",    "id":20685,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: inserted keys from external sorter into index","attr":{"namespace":"test-retail-db.products","index":"tenantId","keysInserted":1,"durationMillis":0}}
21:32:41.148 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test"})
21:32:41.148 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test"} in collection: products.
21:32:41.151 DEBUG c.r.d.product.ProductEventListener - Product deleted event: 693100d9fa5d915e5c2863ef
21:32:41.151 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: 693100d9fa5d915e5c2863ef
21:32:41.151 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: 693100d9fa5d915e5c2863ef
21:32:41.153 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "693100d9fa5d915e5c2863ef", "tenantId" : "tenant-a-test"}, Fields: {}, Sort: {}
21:32:41.153 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : { "$oid" : "693100d9fa5d915e5c2863ef"}, "tenantId" : "tenant-a-test"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.930 s -- in com.retail.domain.product.ProductServiceTest
[INFO] Running com.retail.domain.product.ProductServiceUnitTest
21:32:41.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.162-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn31","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"tenant_entity_idx","ident":"index-137--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:41.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.162-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn31","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"daedd258-49bb-41dc-939a-7d4a73fc4e53"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.162-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn31","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"daedd258-49bb-41dc-939a-7d4a73fc4e53"}}}}
21:32:41.161 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.162-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"26fd3933-528f-42b6-a05b-92f3f2784b82"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":5},"storage":{},"remote":"127.0.0.1:59876","protocol":"op_msg","durationMillis":3352}}
21:32:41.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"INDEX",    "id":20689,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: drained side writes","attr":{"index":"tenantId","collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","numApplied":3,"totalInserted":1,"totalDeleted":2,"durationMillis":26}}
21:32:41.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"STORAGE",  "id":3856203, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: waiting for next action before completing final phase","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}}}}
21:32:41.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"STORAGE",  "id":3856204, "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: received signal","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}},"action":"Single-phase commit"}}
21:32:41.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","index":"tenantId","ident":"index-132--4670548312448192126","collectionIdent":"collection-23--4670548312448192126","commitTimestamp":null}}
21:32:41.188 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"STORAGE",  "id":20663,   "ctx":"IndexBuildsCoordinatorMongod-2","msg":"Index build: completed successfully","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}},"collectionUUID":{"uuid":{"$uuid":"9d469e14-4590-467b-a4af-ec52c8ecd6c6"}},"namespace":"test-retail-db.products","indexesBuilt":["tenantId"],"numIndexesBefore":7,"numIndexesAfter":8}}
21:32:41.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn23","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3d22171a-c32a-4222-ae1c-8773fedf8cb8"}}}}
21:32:41.189 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.189-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"506b5d17-2c38-4458-8d8b-058c834debbe"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":783}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":2},"storage":{},"remote":"127.0.0.1:59867","protocol":"op_msg","durationMillis":3410}}
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.035 s -- in com.retail.domain.product.ProductServiceUnitTest
[INFO] Running Product Entity Tests
21:32:41.198 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.198-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"tenantId","ident":"index-138--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:41.198 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.198-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn32","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"144176aa-fbb5-4bf7-9553-0327b83f1be4"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.198 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.198-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn32","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"144176aa-fbb5-4bf7-9553-0327b83f1be4"}}}}
21:32:41.198 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.199-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2a49ea47-f370-4fa7-b065-3607e6525c3f"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":14863}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59877","protocol":"op_msg","durationMillis":3386}}
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 s -- in Product Entity Tests
[INFO] Running com.retail.domain.shipping.ShippingRateCalculatorTest
21:32:41.207 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.209 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.211 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.211 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.213 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.213 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
21:32:41.216 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.216-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn36","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"namespace":"test-retail-db.orders","index":"tenant_customer_email_idx","ident":"index-139--4670548312448192126","collectionIdent":"collection-42--4670548312448192126","commitTimestamp":null}}
21:32:41.216 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.217-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn36","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"cff2b95a-5122-4747-9ddb-8d02a0ad080b"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.216 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.217-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn36","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"cff2b95a-5122-4747-9ddb-8d02a0ad080b"}}}}
21:32:41.216 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.217-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d4b0a284-5250-41c1-98c3-f120f7f3969a"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59881","protocol":"op_msg","durationMillis":3387}}
21:32:41.216 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.218 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 90001
21:32:41.220 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.220 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
21:32:41.222 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.223 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.225 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.226 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.226 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
21:32:41.229 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.230 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.231 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
21:32:41.233 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.233 INFO  c.r.d.s.ShippingRateCalculator - Shipping rates calculated successfully for tenant: test-tenant
21:32:41.235 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 10050
21:32:41.236 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
21:32:41.237 INFO  c.r.d.s.ShippingRateCalculator - Calculating shipping rates for tenant: test-tenant from 10001 to 20001
[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.034 s -- in com.retail.domain.shipping.ShippingRateCalculatorTest
21:32:41.239 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.239-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"49f8d5ce-b85f-4087-a3ac-ec196ce48ec8"}},"namespace":"test-retail-db.audit_events","index":"timestamp","ident":"index-140--4670548312448192126","collectionIdent":"collection-37--4670548312448192126","commitTimestamp":null}}
21:32:41.239 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.239-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn33","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3eca83aa-6c1c-4674-8ce7-a2863b708f39"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.239 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.239-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn33","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3eca83aa-6c1c-4674-8ce7-a2863b708f39"}}}}
[INFO] Running com.retail.domain.tax.TaxCalculationServiceTest
21:32:41.239 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.239-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2c67a8c4-2bd9-4cfe-a936-13026359fc42"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":36492}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59878","protocol":"op_msg","durationMillis":3425}}
21:32:41.241 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
21:32:41.242 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
21:32:41.245 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, PA
21:32:41.246 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.29 for tenant: test-tenant
21:32:41.247 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.247 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
21:32:41.247 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.247 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 9.97 for tenant: test-tenant
21:32:41.248 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, DE
21:32:41.249 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
21:32:41.250 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, IL
21:32:41.250 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.06 for tenant: test-tenant
21:32:41.252 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, FL
21:32:41.252 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
21:32:41.255 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, OR
21:32:41.255 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 0 for tenant: test-tenant
21:32:41.257 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in New York, NY
21:32:41.257 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 4.71 for tenant: test-tenant
21:32:41.257 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.257-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn35","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-141--4670548312448192126","collectionIdent":"collection-42--4670548312448192126","commitTimestamp":null}}
21:32:41.257 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.257-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn35","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ed6f54d2-660c-4eb7-b580-5561e67c3c28"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.257 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.257-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn35","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ed6f54d2-660c-4eb7-b580-5561e67c3c28"}}}}
21:32:41.257 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.257-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"9c1cb01e-f3be-4f4b-9880-6b29a6198614"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":18131}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"storage":{},"remote":"127.0.0.1:59880","protocol":"op_msg","durationMillis":3426}}
21:32:41.266 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.266 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 8.26 for tenant: test-tenant
21:32:41.269 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, WA
21:32:41.269 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.85 for tenant: test-tenant
21:32:41.270 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, TX
21:32:41.271 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 6.77 for tenant: test-tenant
21:32:41.272 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.273 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, NY
21:32:41.273 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 2.47 for tenant: test-tenant
21:32:41.275 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.275 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
21:32:41.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.275-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn37","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"c39ad6b1-9383-44e5-8bff-d0c8580441e3"}},"namespace":"test-retail-db.orders","index":"tenantId","ident":"index-142--4670548312448192126","collectionIdent":"collection-42--4670548312448192126","commitTimestamp":null}}
21:32:41.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.275-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn37","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"7e9e6f99-02eb-4847-8962-f162746f5421"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:41.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.275-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn37","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"7e9e6f99-02eb-4847-8962-f162746f5421"}}}}
21:32:41.275 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.276-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"44d17a01-cacb-4872-b03c-37a76fdd4397"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":40460}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"storage":{},"remote":"127.0.0.1:59882","protocol":"op_msg","durationMillis":3439}}
21:32:41.278 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, CA
21:32:41.278 INFO  c.r.domain.tax.TaxCalculationService - Tax calculated: 7.87 for tenant: test-tenant
21:32:41.279 INFO  c.r.domain.tax.TaxCalculationService - Calculating tax for tenant: test-tenant in Test City, XX
21:32:41.279 WARN  c.r.domain.tax.TaxCalculationService - Unknown state: XX, applying zero tax
[INFO] Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 s -- in com.retail.domain.tax.TaxCalculationServiceTest
[INFO] Running com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
21:32:41.282 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest]: OrderRepositoryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:41.298 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
21:32:41.303 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

21:32:41.325 INFO  c.r.i.p.OrderRepositoryIntegrationTest - Starting OrderRepositoryIntegrationTest using Java 25.0.1 with PID 41952 (started by codep in D:\code\retail-agentic\backend)
21:32:41.325 DEBUG c.r.i.p.OrderRepositoryIntegrationTest - Running with Spring Boot v3.2.1, Spring v6.1.2
21:32:41.325 INFO  c.r.i.p.OrderRepositoryIntegrationTest - The following 1 profile is active: "test"
21:32:41.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.524-06:00"},"s":"I",  "c":"STORAGE",  "id":22260,   "ctx":"TimestampMonitor","msg":"Removing drop-pending idents with drop timestamps before timestamp","attr":{"timestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.524-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-122--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.540-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-120--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.563 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.563-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-128--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.586 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.586-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-126--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.607 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.607-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-130--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.622 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.622-06:00"},"s":"I",  "c":"STORAGE",  "id":22237,   "ctx":"TimestampMonitor","msg":"Completing drop for ident","attr":{"ident":"internal-134--4670548312448192126","dropTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:41.786 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validationConfig' of type [com.retail.config.ValidationConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [methodValidationPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:41.788 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [fixTransactionAndAuth] is declared through a non-static factory method on that class; consider declaring it as static instead.
21:32:41.795 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'de.flapdoodle.mongodb.embedded-de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties' of type [de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:41.798 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'net' of type [de.flapdoodle.embed.mongo.config.ImmutableNet] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:41.800 WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.data.mongodb-org.springframework.boot.autoconfigure.mongo.MongoProperties' of type [org.springframework.boot.autoconfigure.mongo.MongoProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [fixTransactionAndAuth]? Check the corresponding BeanPostProcessor declaration and its dependencies.
21:32:41.821 INFO  d.f.e.m.s.a.ReactiveClientServerFactory - reactive server factory
21:32:41.901 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.901-06:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true}}}
21:32:41.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.905-06:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
21:32:41.960 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.960-06:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"thread1","msg":"Implicit TCP FastOpen in use."}
21:32:41.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.962-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","namespace":"config.tenantMigrationDonors"}}
21:32:41.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.962-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","namespace":"config.tenantMigrationRecipients"}}
21:32:41.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.962-06:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"ShardSplitDonorService","namespace":"config.tenantSplitDonors"}}
21:32:41.962 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.962-06:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
21:32:41.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.963-06:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":41640,"port":59887,"dbPath":"C:/Users/codep/AppData/Local/Temp/temp--07791c41-acc2-4d61-8fd8-f4d0a98390bc/mongod-database9907238509339296302","architecture":"64-bit","host":"jon-desktop"}}
21:32:41.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.963-06:00"},"s":"I",  "c":"CONTROL",  "id":23398,   "ctx":"initandlisten","msg":"Target operating system minimum version","attr":{"targetMinOS":"Windows 7/Windows Server 2008 R2"}}
21:32:41.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.963-06:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"6.0.9","gitVersion":"90c65f9cc8fc4e6664a5848230abaa9b3f3b02f7","modules":[],"allocator":"tcmalloc","environment":{"distmod":"windows","distarch":"x86_64","target_arch":"x86_64"}}}}
21:32:41.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.963-06:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Microsoft Windows 10","version":"10.0 (build 26200)"}}}
21:32:41.963 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.963-06:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":59887},"security":{"authorization":"disabled"},"storage":{"dbPath":"C:\\Users\\codep\\AppData\\Local\\Temp\\temp--07791c41-acc2-4d61-8fd8-f4d0a98390bc\\mongod-database9907238509339296302","journal":{"enabled":false},"syncPeriodSecs":0}}}}
21:32:41.965 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:41.965-06:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=64867M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,remove=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=2000),statistics_log=(wait=0),json_output=(error,message),verbose=[recovery_progress:1,checkpoint_progress:1,compact_progress:1,backup:0,checkpoint:0,compact:0,evict:0,history_store:0,recovery:0,rts:0,salvage:0,tiered:0,timestamp:0,transaction:0,verify:0,log:0],,log=(enabled=false),"}}
21:32:42.039 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.038-06:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":73}}
21:32:42.039 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.039-06:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
21:32:42.096 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.096-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"6e9848e2-2b5c-44be-a97e-806f3d117245"}},"options":{"uuid":{"$uuid":"6e9848e2-2b5c-44be-a97e-806f3d117245"}}}}
21:32:42.119 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.119-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"6e9848e2-2b5c-44be-a97e-806f3d117245"}},"namespace":"admin.system.version","index":"_id_","ident":"index-1--7248284157939341064","collectionIdent":"collection-0--7248284157939341064","commitTimestamp":null}}
21:32:42.119 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.119-06:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"6.0"}}
21:32:42.119 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.119-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"setFCV"}}
21:32:42.119 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.119-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":17},"outgoing":{"minWireVersion":6,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:42.120 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.119-06:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":17},"incomingInternalClient":{"minWireVersion":17,"maxWireVersion":17},"outgoing":{"minWireVersion":17,"maxWireVersion":17},"isInternalClient":true}}}
21:32:42.120 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.120-06:00"},"s":"I",  "c":"REPL",     "id":5853300, "ctx":"initandlisten","msg":"current featureCompatibilityVersion value","attr":{"featureCompatibilityVersion":"6.0","context":"startup"}}
21:32:42.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.137-06:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
21:32:42.137 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.138-06:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
21:32:42.346 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.346-06:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"C:/Users/codep/AppData/Local/Temp/temp--07791c41-acc2-4d61-8fd8-f4d0a98390bc/mongod-database9907238509339296302/diagnostic.data"}}
21:32:42.347 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.347-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e640775a-432a-4038-9d0d-b547b7e1d5eb"}},"options":{"capped":true,"size":10485760}}}
21:32:42.378 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.378-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e640775a-432a-4038-9d0d-b547b7e1d5eb"}},"namespace":"local.startup_log","index":"_id_","ident":"index-3--7248284157939341064","collectionIdent":"collection-2--7248284157939341064","commitTimestamp":null}}
21:32:42.378 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.379-06:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
21:32:42.378 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.379-06:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
21:32:42.381 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.381-06:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
21:32:42.381 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.382-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d20e3998-7536-45a7-b718-f1f9fd1a3b13"}},"options":{}}}
21:32:42.382 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.382-06:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
21:32:42.382 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.382-06:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":59887,"ssl":"off"}}
21:32:42.432 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.432-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d20e3998-7536-45a7-b718-f1f9fd1a3b13"}},"namespace":"config.system.sessions","index":"_id_","ident":"index-5--7248284157939341064","collectionIdent":"collection-4--7248284157939341064","commitTimestamp":null}}
21:32:42.432 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.432-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"d20e3998-7536-45a7-b718-f1f9fd1a3b13"}},"namespace":"config.system.sessions","index":"lsidTTLIndex","ident":"index-6--7248284157939341064","collectionIdent":"collection-4--7248284157939341064","commitTimestamp":null}}
21:32:42.458 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.458-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59888","uuid":"a8aed278-2455-42ac-b6d4-063c76baed5b","connectionId":1,"connectionCount":1}}
21:32:42.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.459-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59889","uuid":"01bf310d-cbbb-4434-bc67-99ca7942e1a8","connectionId":2,"connectionCount":2}}
21:32:42.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.459-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:59888","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.459 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.459-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:59889","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.498 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant for index information
21:32:42.501 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$OrderItem for index information
21:32:42.501 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.Address for index information
21:32:42.501 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category$CategorySeo for index information
21:32:42.501 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order for index information
21:32:42.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59890","uuid":"f71f6978-86c1-4f7b-91da-ce151e3b84b7","connectionId":3,"connectionCount":3}}
21:32:42.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59891","uuid":"2562202d-3907-41f9-a5bb-f1130e79e34e","connectionId":4,"connectionCount":4}}
21:32:42.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.503-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:59890","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.503-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn4","msg":"client metadata","attr":{"remote":"127.0.0.1:59891","client":"conn4","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.503 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition$AttributeValidation for index information
21:32:42.503 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Customer for index information
21:32:42.503 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.PersistedCart for index information
21:32:42.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.504-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn4","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5d05804e-5ec7-4122-add2-deee33ee6152"}},"options":{}}}
21:32:42.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.504-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"test-retail-db.tenants","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e4f20cd0-0f32-4048-a858-c09dd0fc8f8d"}},"options":{}}}
21:32:42.505 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$Branding for index information
21:32:42.505 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart for index information
21:32:42.505 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.ProductAttributeDefinition for index information
21:32:42.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.505-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59892","uuid":"4d3048ba-0795-48cd-b12e-e59fda425984","connectionId":5,"connectionCount":5}}
21:32:42.506 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.506-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59893","uuid":"1b82c7f8-b317-4165-8a39-765359df7a1d","connectionId":6,"connectionCount":6}}
21:32:42.506 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.506-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn5","msg":"client metadata","attr":{"remote":"127.0.0.1:59892","client":"conn5","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.506 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.506-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn6","msg":"client metadata","attr":{"remote":"127.0.0.1:59893","client":"conn6","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.506 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartSummary for index information
21:32:42.507 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product for index information
21:32:42.507 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.507-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn5","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"3adb742e-51a9-4916-823a-fbfa4f8a41c5"}},"options":{}}}
21:32:42.507 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.507-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn6","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"aac1a22b-60f2-4df9-b011-bdaa4daac936"}},"options":{}}}
21:32:42.508 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.508-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59894","uuid":"680d2b10-6ea8-43f1-be58-21c8a56a63fe","connectionId":7,"connectionCount":7}}
21:32:42.509 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.509-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59895","uuid":"26da8618-63ab-4c2f-9b2d-fa3a8889fa80","connectionId":8,"connectionCount":8}}
21:32:42.509 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.509-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn7","msg":"client metadata","attr":{"remote":"127.0.0.1:59894","client":"conn7","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.509 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.509-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn8","msg":"client metadata","attr":{"remote":"127.0.0.1:59895","client":"conn8","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.509 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Category for index information
21:32:42.510 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.510-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn8","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ba09bd4c-0db3-4f68-895a-ed0f97641cce"}},"options":{}}}
21:32:42.510 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.510-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn7","msg":"createCollection","attr":{"namespace":"test-retail-db.orders","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ea148364-c818-4d8d-bad9-09b463f94f92"}},"options":{}}}
21:32:42.511 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.product.Product$ProductImage for index information
21:32:42.511 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Pricing for index information
21:32:42.511 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart for index information
21:32:42.511 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.511-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59896","uuid":"e83c4950-5c37-4dd1-9ebb-b3e7f82f3ddd","connectionId":9,"connectionCount":9}}
21:32:42.511 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.511-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59897","uuid":"98e34383-54bc-4751-9e34-616b1695702e","connectionId":10,"connectionCount":10}}
21:32:42.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.512-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn9","msg":"client metadata","attr":{"remote":"127.0.0.1:59896","client":"conn9","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.512 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.512-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn10","msg":"client metadata","attr":{"remote":"127.0.0.1:59897","client":"conn10","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.512 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.SavedCart$SavedCartItem for index information
21:32:42.512 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.cart.Cart$CartItem for index information
21:32:42.512 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.user.User for index information
21:32:42.513 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.513-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn10","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"445bbd0f-9dda-428a-ab90-6542f5c57814"}},"options":{}}}
21:32:42.513 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.513-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn9","msg":"createCollection","attr":{"namespace":"test-retail-db.persisted_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"959f9cd8-dcf5-4689-88ff-80ef74c69933"}},"options":{}}}
21:32:42.514 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.infrastructure.migration.MigrationHistory for index information
21:32:42.515 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.514-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59898","uuid":"44ef6ff4-a138-40e3-affb-3918bdae23e9","connectionId":11,"connectionCount":11}}
21:32:42.515 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.515-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59899","uuid":"d7c4f95c-5acf-4b06-88bd-a2ef5648f53c","connectionId":12,"connectionCount":12}}
21:32:42.515 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Address for index information
21:32:42.515 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.notification.Notification for index information
21:32:42.516 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.516-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn11","msg":"client metadata","attr":{"remote":"127.0.0.1:59898","client":"conn11","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.516 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.516-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn12","msg":"client metadata","attr":{"remote":"127.0.0.1:59899","client":"conn12","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.517 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.tenant.Tenant$TenantSettings for index information
21:32:42.517 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.inventory.Inventory for index information
21:32:42.517 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.517-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn11","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd9692f4-254b-425a-8a69-23035b07b25c"}},"options":{}}}
21:32:42.517 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.517-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn12","msg":"createCollection","attr":{"namespace":"test-retail-db.product_attribute_definitions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"385eaa0c-0c13-4960-939e-59592cc73104"}},"options":{}}}
21:32:42.518 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$StatusHistoryEntry for index information
21:32:42.518 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.order.Order$Payment for index information
21:32:42.518 DEBUG o.s.d.m.c.i.ReactiveMongoPersistentEntityIndexCreator - Analyzing class class com.retail.domain.audit.AuditEvent for index information
21:32:42.518 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.518-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59900","uuid":"918eae1b-1072-43da-ba39-9c5992cc5223","connectionId":13,"connectionCount":13}}
21:32:42.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.519-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59901","uuid":"ec47dab5-066c-4186-99b8-0ba7fbff17a6","connectionId":14,"connectionCount":14}}
21:32:42.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.519-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn13","msg":"client metadata","attr":{"remote":"127.0.0.1:59900","client":"conn13","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.519-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn14","msg":"client metadata","attr":{"remote":"127.0.0.1:59901","client":"conn14","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.520-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn13","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fa1daa8d-499d-4c45-a12a-4ca562b96282"}},"options":{}}}
21:32:42.521 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.521-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn14","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"caa70198-b390-40d3-8bd0-2e19a94a0db2"}},"options":{}}}
21:32:42.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.522-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59902","uuid":"0cb7e788-482a-42b9-ad53-25c5814f4119","connectionId":15,"connectionCount":15}}
21:32:42.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.523-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59903","uuid":"33aa4e4f-fe1a-4ebd-b5e0-0508d5df7242","connectionId":16,"connectionCount":16}}
21:32:42.522 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.523-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn15","msg":"client metadata","attr":{"remote":"127.0.0.1:59902","client":"conn15","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.523 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.523-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn16","msg":"client metadata","attr":{"remote":"127.0.0.1:59903","client":"conn16","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.524-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn15","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5cb8771e-8ca4-42d8-bf5b-50ac5958e3d4"}},"options":{}}}
21:32:42.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.524-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn16","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"710e8b63-ba33-4803-9edf-3701375f021f"}},"options":{}}}
21:32:42.526 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.526-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59904","uuid":"7610532f-8bdc-4350-a754-c25002d1755d","connectionId":17,"connectionCount":17}}
21:32:42.526 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.527-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59905","uuid":"a0d1958a-cf24-431e-a2b6-3c8f4b503860","connectionId":18,"connectionCount":18}}
21:32:42.527 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.527-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn18","msg":"client metadata","attr":{"remote":"127.0.0.1:59905","client":"conn18","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.527 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.527-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn17","msg":"client metadata","attr":{"remote":"127.0.0.1:59904","client":"conn17","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.529 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.529-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn18","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e4f6fa80-fa1e-42c8-9f9e-7bb4504faa98"}},"options":{}}}
21:32:42.529 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.529-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn17","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"69af27d2-d983-4821-a58f-4ae3101f0200"}},"options":{}}}
21:32:42.529 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.530-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59906","uuid":"d9fe010b-5a72-4bb6-832e-7c7e887ba2ec","connectionId":19,"connectionCount":19}}
21:32:42.530 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.530-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59907","uuid":"7f0bbb6a-6576-4127-885d-a839e561e211","connectionId":20,"connectionCount":20}}
21:32:42.530 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.531-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn19","msg":"client metadata","attr":{"remote":"127.0.0.1:59906","client":"conn19","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.530 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.531-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn20","msg":"client metadata","attr":{"remote":"127.0.0.1:59907","client":"conn20","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.532 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.532-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn20","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"96b983b5-a90d-4789-b892-ba30e61f51f1"}},"options":{}}}
21:32:42.532 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.532-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn19","msg":"createCollection","attr":{"namespace":"test-retail-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fc954151-8728-4dbd-bc57-814fee233eb1"}},"options":{}}}
21:32:42.533 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.534-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59908","uuid":"91f0458e-ed39-44a7-9523-046f2c757178","connectionId":21,"connectionCount":21}}
21:32:42.533 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.534-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59909","uuid":"f3fef020-41d8-45a0-bac2-7fb789687738","connectionId":22,"connectionCount":22}}
21:32:42.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.534-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn21","msg":"client metadata","attr":{"remote":"127.0.0.1:59908","client":"conn21","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.534 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.534-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn22","msg":"client metadata","attr":{"remote":"127.0.0.1:59909","client":"conn22","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.536-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn22","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b8f17e2f-18ee-4c02-a555-c3cbd5c45f1f"}},"options":{}}}
21:32:42.535 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.536-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn21","msg":"createCollection","attr":{"namespace":"test-retail-db.categories","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5299397c-ca9b-4194-b894-2d9afcfc999f"}},"options":{}}}
21:32:42.536 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.537-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59910","uuid":"e846e042-fbbd-4c83-8617-f7a5665dc552","connectionId":23,"connectionCount":23}}
21:32:42.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.537-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59911","uuid":"756edae8-5dc6-4857-b6ba-ee48906feff8","connectionId":24,"connectionCount":24}}
21:32:42.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.538-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn23","msg":"client metadata","attr":{"remote":"127.0.0.1:59910","client":"conn23","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.537 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.538-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn24","msg":"client metadata","attr":{"remote":"127.0.0.1:59911","client":"conn24","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.539-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn23","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"31b894e9-58af-47d5-ad53-48bea59cbbf9"}},"options":{}}}
21:32:42.538 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.539-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn24","msg":"createCollection","attr":{"namespace":"test-retail-db.saved_carts","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ee79acfd-7d91-41e5-b752-557faf977099"}},"options":{}}}
21:32:42.539 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.540-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59912","uuid":"58601cf7-2130-410d-98d6-9994f9e28ef2","connectionId":25,"connectionCount":25}}
21:32:42.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.540-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59913","uuid":"a69fb99d-1695-48a1-bfb8-8fb9a2a3c04e","connectionId":26,"connectionCount":26}}
21:32:42.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.541-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn25","msg":"client metadata","attr":{"remote":"127.0.0.1:59912","client":"conn25","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.540 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.541-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn26","msg":"client metadata","attr":{"remote":"127.0.0.1:59913","client":"conn26","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.542-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn25","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"44d68bba-5ff4-49f8-9b54-c9323bbca814"}},"options":{}}}
21:32:42.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.542-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn26","msg":"createCollection","attr":{"namespace":"test-retail-db.users","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"760c6a09-c181-4485-afb8-f03899b5b467"}},"options":{}}}
21:32:42.542 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.543-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59914","uuid":"1cfe91b1-8086-4ce6-8d6d-cabb96b38fb7","connectionId":27,"connectionCount":27}}
21:32:42.543 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.543-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59915","uuid":"5cca7ae8-0acb-402a-9fed-ffc43fc561ec","connectionId":28,"connectionCount":28}}
21:32:42.543 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.543-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn27","msg":"client metadata","attr":{"remote":"127.0.0.1:59914","client":"conn27","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.543 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.544-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn28","msg":"client metadata","attr":{"remote":"127.0.0.1:59915","client":"conn28","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.545-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn28","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"38e64fe0-c235-4243-95a2-67b2460640e5"}},"options":{}}}
21:32:42.544 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.545-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn27","msg":"createCollection","attr":{"namespace":"test-retail-db.migration_history","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"27db9f34-7a45-4218-bc7c-38b8a941d14a"}},"options":{}}}
21:32:42.545 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.545-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59916","uuid":"184f4a12-6988-415e-9530-2facaf0e1ee3","connectionId":29,"connectionCount":29}}
21:32:42.545 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.546-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59917","uuid":"8052dc47-224a-456f-ba38-5d3624f9cb50","connectionId":30,"connectionCount":30}}
21:32:42.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.546-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn29","msg":"client metadata","attr":{"remote":"127.0.0.1:59916","client":"conn29","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.546 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.547-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn30","msg":"client metadata","attr":{"remote":"127.0.0.1:59917","client":"conn30","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.547 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.547-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn29","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cd5de98a-7558-444b-9736-91cc9881ca37"}},"options":{}}}
21:32:42.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.548-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn30","msg":"createCollection","attr":{"namespace":"test-retail-db.notifications","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2b9413d9-b814-43d2-9cc1-c0b6980d7558"}},"options":{}}}
21:32:42.548 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.549-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59919","uuid":"52302ec6-8482-4187-8ca9-04a484dfa3f2","connectionId":31,"connectionCount":31}}
21:32:42.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.549-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59918","uuid":"d2add88d-5355-412b-a968-15fb39d46bac","connectionId":32,"connectionCount":32}}
21:32:42.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.550-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn31","msg":"client metadata","attr":{"remote":"127.0.0.1:59919","client":"conn31","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.549 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.550-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn32","msg":"client metadata","attr":{"remote":"127.0.0.1:59918","client":"conn32","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.550 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.551-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn32","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"7487f686-e85a-4cc1-9fb0-3875764a7a57"}},"options":{}}}
21:32:42.550 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.551-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn31","msg":"createCollection","attr":{"namespace":"test-retail-db.inventory","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"eb61c6a1-7132-4bc9-88e9-216304bae32d"}},"options":{}}}
21:32:42.552 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.552-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59921","uuid":"738de031-34e4-474e-91d0-78a00d9c8704","connectionId":33,"connectionCount":33}}
21:32:42.552 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.553-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59920","uuid":"d0af8889-8bee-4fc3-b971-a9c281d4b162","connectionId":34,"connectionCount":34}}
21:32:42.552 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.553-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn33","msg":"client metadata","attr":{"remote":"127.0.0.1:59921","client":"conn33","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.553 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.554-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn34","msg":"client metadata","attr":{"remote":"127.0.0.1:59920","client":"conn34","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.554-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn33","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4cf44daf-7dca-4c18-8932-52a00cbbd6be"}},"options":{}}}
21:32:42.554 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.555-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn34","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"b9c0ee54-a19c-4406-bce7-e40a355bf0fe"}},"options":{}}}
21:32:42.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.555-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59923","uuid":"2c6a08fc-e32f-41ee-a787-cea11e7ed0fb","connectionId":35,"connectionCount":35}}
21:32:42.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.556-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59922","uuid":"15d0dee9-bc3b-4442-9d26-60c1d1623c49","connectionId":36,"connectionCount":36}}
21:32:42.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.556-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn35","msg":"client metadata","attr":{"remote":"127.0.0.1:59923","client":"conn35","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.555 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.556-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn36","msg":"client metadata","attr":{"remote":"127.0.0.1:59922","client":"conn36","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.557-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn35","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"f8de5bc5-f823-4744-8c6a-5a58473101fc"}},"options":{}}}
21:32:42.557 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.557-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn36","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"16bb13ef-80ae-48b7-84bf-bd589aa3350a"}},"options":{}}}
21:32:42.558 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.559-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59924","uuid":"f8d80223-1101-4601-afc6-24fffa730f0d","connectionId":37,"connectionCount":37}}
21:32:42.559 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.559-06:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn37","msg":"client metadata","attr":{"remote":"127.0.0.1:59924","client":"conn37","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.11.1"},"os":{"type":"Windows","name":"Windows 11","architecture":"amd64","version":"10.0"},"platform":"Java/Oracle Corporation/25.0.1+8-LTS-27"}}}
21:32:42.560 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.561-06:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn37","msg":"createCollection","attr":{"namespace":"test-retail-db.audit_events","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0ab01008-8401-4d37-ae23-f5e5bc6301e7"}},"options":{}}}
21:32:42.712 WARN  o.s.b.w.r.c.GenericReactiveWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.retail.infrastructure.search.ProductSearchRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
21:32:42.716 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:42.716-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:59888","uuid":"a8aed278-2455-42ac-b6d4-063c76baed5b","connectionId":1,"connectionCount":36}}
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR o.s.d.m.core.ReactiveMongoTemplate - Unexpected exception during asynchronous execution
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.721 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:42.722 ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
org.springframework.dao.DataAccessResourceFailureException: Exception receiving message
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2762)
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$98(ReactiveMongoTemplate.java:2745)
	at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7204)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)
	at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:521)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:126)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.operation.AsyncOperationHelper$ReferenceCountedReleasingWrappedCallback.onResult(AsyncOperationHelper.java:411)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$executeAsync$1(CreateIndexesOperation.java:151)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$addingRetryableLabelCallback$18(AsyncOperationHelper.java:422)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingWriteCallback$17(AsyncOperationHelper.java:345)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:245)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:86)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:536)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:796)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:786)
	at com.mongodb.internal.connection.InternalStreamConnection$3.failed(InternalStreamConnection.java:677)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:329)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener.lambda$operationComplete$0(NettyStream.java:522)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.NioEventLoop.closeAll(NioEventLoop.java:838)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:595)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:730)
	at com.mongodb.internal.connection.InternalStreamConnection.access$400(InternalStreamConnection.java:98)
	... 22 common frames omitted
Caused by: java.io.IOException: The connection to the server was closed
	... 18 common frames omitted
21:32:43.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.170-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e4f20cd0-0f32-4048-a858-c09dd0fc8f8d"}},"namespace":"test-retail-db.tenants","index":"_id_","ident":"index-15--7248284157939341064","collectionIdent":"collection-8--7248284157939341064","commitTimestamp":null}}
21:32:43.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.170-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e4f20cd0-0f32-4048-a858-c09dd0fc8f8d"}},"namespace":"test-retail-db.tenants","index":"subdomain","ident":"index-49--7248284157939341064","collectionIdent":"collection-8--7248284157939341064","commitTimestamp":null}}
21:32:43.169 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.170-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"subdomain":1},"name":"subdomain","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"b6639c08-7fb3-4021-89bd-b38afa5f28d5"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59890","protocol":"op_msg","durationMillis":665}}
21:32:43.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.171-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:59890","uuid":"f71f6978-86c1-4f7b-91da-ce151e3b84b7","connectionId":3,"connectionCount":35}}
21:32:43.338 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.338-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn4","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.tenants"}}
21:32:43.519 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.520-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"3adb742e-51a9-4916-823a-fbfa4f8a41c5"}},"namespace":"test-retail-db.orders","index":"_id_","ident":"index-39--7248284157939341064","collectionIdent":"collection-9--7248284157939341064","commitTimestamp":null}}
21:32:43.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.520-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn5","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"3adb742e-51a9-4916-823a-fbfa4f8a41c5"}},"namespace":"test-retail-db.orders","index":"tenant_order_number_idx","ident":"index-74--7248284157939341064","collectionIdent":"collection-9--7248284157939341064","commitTimestamp":null}}
21:32:43.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.520-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn5","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"orderNumber":1},"name":"tenant_order_number_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"a42ff2bb-1af9-4be4-b3dc-ec46e40639d7"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59892","protocol":"op_msg","durationMillis":1013}}
21:32:43.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.521-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:59892","uuid":"4d3048ba-0795-48cd-b12e-e59fda425984","connectionId":5,"connectionCount":34}}
21:32:43.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.562-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn2","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
21:32:43.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.562-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":12}}
21:32:43.562 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.562-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:59889","uuid":"01bf310d-cbbb-4434-bc67-99ca7942e1a8","connectionId":2,"connectionCount":33}}
21:32:43.607 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.607-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn6","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:43.620 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.620-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn8","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:43.633 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.634-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn7","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.orders"}}
21:32:43.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.648-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"445bbd0f-9dda-428a-ab90-6542f5c57814"}},"namespace":"test-retail-db.persisted_carts","index":"_id_","ident":"index-48--7248284157939341064","collectionIdent":"collection-13--7248284157939341064","commitTimestamp":null}}
21:32:43.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.648-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn10","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"445bbd0f-9dda-428a-ab90-6542f5c57814"}},"namespace":"test-retail-db.persisted_carts","index":"tenant_updated_idx","ident":"index-83--7248284157939341064","collectionIdent":"collection-13--7248284157939341064","commitTimestamp":null}}
21:32:43.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.649-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn10","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"tenantId":1,"updatedAt":-1},"name":"tenant_updated_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cfe164e2-c46e-4ec0-8d7a-e6d0208d9984"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59897","protocol":"op_msg","durationMillis":1135}}
21:32:43.648 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.649-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:59897","uuid":"98e34383-54bc-4751-9e34-616b1695702e","connectionId":10,"connectionCount":32}}
21:32:43.662 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.663-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn9","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.persisted_carts"}}
21:32:43.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.678-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cd9692f4-254b-425a-8a69-23035b07b25c"}},"namespace":"test-retail-db.product_attribute_definitions","index":"_id_","ident":"index-51--7248284157939341064","collectionIdent":"collection-16--7248284157939341064","commitTimestamp":null}}
21:32:43.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.678-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn11","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"cd9692f4-254b-425a-8a69-23035b07b25c"}},"namespace":"test-retail-db.product_attribute_definitions","index":"tenant_name_idx","ident":"index-85--7248284157939341064","collectionIdent":"collection-16--7248284157939341064","commitTimestamp":null}}
21:32:43.677 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.678-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn11","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1,"name":1},"name":"tenant_name_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"52159c05-ea13-4419-957c-cd41acb16b7a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59898","protocol":"op_msg","durationMillis":1160}}
21:32:43.678 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.678-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:59898","uuid":"44ef6ff4-a138-40e3-affb-3918bdae23e9","connectionId":11,"connectionCount":31}}
21:32:43.691 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.692-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn12","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.product_attribute_definitions"}}
21:32:43.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.706-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fa1daa8d-499d-4c45-a12a-4ca562b96282"}},"namespace":"test-retail-db.products","index":"_id_","ident":"index-53--7248284157939341064","collectionIdent":"collection-18--7248284157939341064","commitTimestamp":null}}
21:32:43.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.706-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn13","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"fa1daa8d-499d-4c45-a12a-4ca562b96282"}},"namespace":"test-retail-db.products","index":"tenant_sku_idx","ident":"index-87--7248284157939341064","collectionIdent":"collection-18--7248284157939341064","commitTimestamp":null}}
21:32:43.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.707-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn13","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"sku":1},"name":"tenant_sku_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"f4376e5e-9cd4-4e6a-8cf3-ff9a3cbfee1c"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59900","protocol":"op_msg","durationMillis":1186}}
21:32:43.706 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.707-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:59900","uuid":"918eae1b-1072-43da-ba39-9c5992cc5223","connectionId":13,"connectionCount":30}}
21:32:43.720 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.720-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn14","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.736 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.737-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn15","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.752 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.751-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn16","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.766 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.766-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn18","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.782 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.782-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn17","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.797-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"96b983b5-a90d-4789-b892-ba30e61f51f1"}},"namespace":"test-retail-db.categories","index":"_id_","ident":"index-59--7248284157939341064","collectionIdent":"collection-24--7248284157939341064","commitTimestamp":null}}
21:32:43.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.797-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn20","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"96b983b5-a90d-4789-b892-ba30e61f51f1"}},"namespace":"test-retail-db.categories","index":"tenant_slug_idx","ident":"index-93--7248284157939341064","collectionIdent":"collection-24--7248284157939341064","commitTimestamp":null}}
21:32:43.796 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.797-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn20","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"slug":1},"name":"tenant_slug_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"861b80e3-898b-40da-b2d5-d782b170c6dc"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59907","protocol":"op_msg","durationMillis":1265}}
21:32:43.797 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.798-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:59907","uuid":"7f0bbb6a-6576-4127-885d-a839e561e211","connectionId":20,"connectionCount":29}}
21:32:43.810 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.810-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn19","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.products"}}
21:32:43.839 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.840-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn22","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:43.855 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.855-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn21","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.categories"}}
21:32:43.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.871-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"31b894e9-58af-47d5-ad53-48bea59cbbf9"}},"namespace":"test-retail-db.saved_carts","index":"_id_","ident":"index-64--7248284157939341064","collectionIdent":"collection-29--7248284157939341064","commitTimestamp":null}}
21:32:43.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.872-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn23","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"31b894e9-58af-47d5-ad53-48bea59cbbf9"}},"namespace":"test-retail-db.saved_carts","index":"tenant_user_idx","ident":"index-97--7248284157939341064","collectionIdent":"collection-29--7248284157939341064","commitTimestamp":null}}
21:32:43.871 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.872-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn23","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1,"userId":1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"226085e2-f0dd-457f-9dd7-8e61aa8e86b3"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59910","protocol":"op_msg","durationMillis":1332}}
21:32:43.872 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.872-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:59910","uuid":"e846e042-fbbd-4c83-8617-f7a5665dc552","connectionId":23,"connectionCount":28}}
21:32:43.887 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.888-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn24","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.saved_carts"}}
21:32:43.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.905-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"44d68bba-5ff4-49f8-9b54-c9323bbca814"}},"namespace":"test-retail-db.users","index":"_id_","ident":"index-66--7248284157939341064","collectionIdent":"collection-31--7248284157939341064","commitTimestamp":null}}
21:32:43.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.905-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn25","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"44d68bba-5ff4-49f8-9b54-c9323bbca814"}},"namespace":"test-retail-db.users","index":"tenant_email_idx","ident":"index-99--7248284157939341064","collectionIdent":"collection-31--7248284157939341064","commitTimestamp":null}}
21:32:43.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.906-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn25","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1,"email":1},"name":"tenant_email_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"10e31607-6680-45df-9f69-81b1d6cfb2b4"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59912","protocol":"op_msg","durationMillis":1363}}
21:32:43.905 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.906-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:59912","uuid":"58601cf7-2130-410d-98d6-9994f9e28ef2","connectionId":25,"connectionCount":27}}
21:32:43.921 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.921-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn26","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.users"}}
21:32:43.936 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.936-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"38e64fe0-c235-4243-95a2-67b2460640e5"}},"namespace":"test-retail-db.notifications","index":"_id_","ident":"index-68--7248284157939341064","collectionIdent":"collection-33--7248284157939341064","commitTimestamp":null}}
21:32:43.936 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.936-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn28","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"38e64fe0-c235-4243-95a2-67b2460640e5"}},"namespace":"test-retail-db.notifications","index":"tenant_user_idx","ident":"index-101--7248284157939341064","collectionIdent":"collection-33--7248284157939341064","commitTimestamp":null}}
21:32:43.936 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.936-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn28","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"userId":1,"createdAt":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"392cff71-7eda-46fd-9781-e46f3f1b6e6a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59915","protocol":"op_msg","durationMillis":1391}}
21:32:43.937 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.937-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:59915","uuid":"5cca7ae8-0acb-402a-9fed-ffc43fc561ec","connectionId":28,"connectionCount":26}}
21:32:43.950 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.950-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"27db9f34-7a45-4218-bc7c-38b8a941d14a"}},"namespace":"test-retail-db.migration_history","index":"_id_","ident":"index-69--7248284157939341064","collectionIdent":"collection-34--7248284157939341064","commitTimestamp":null}}
21:32:43.951 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.950-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn27","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"27db9f34-7a45-4218-bc7c-38b8a941d14a"}},"namespace":"test-retail-db.migration_history","index":"version","ident":"index-102--7248284157939341064","collectionIdent":"collection-34--7248284157939341064","commitTimestamp":null}}
21:32:43.951 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.951-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn27","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.migration_history","command":{"createIndexes":"migration_history","indexes":[{"key":{"version":1},"name":"version","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"962fdd57-1d1e-4787-9f16-8bbca2f72c82"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59914","protocol":"op_msg","durationMillis":1405}}
21:32:43.951 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.951-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:59914","uuid":"1cfe91b1-8086-4ce6-8d6d-cabb96b38fb7","connectionId":27,"connectionCount":25}}
21:32:43.966 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.966-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn29","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:43.981 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.980-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn30","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.notifications"}}
21:32:43.996 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.996-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7487f686-e85a-4cc1-9fb0-3875764a7a57"}},"namespace":"test-retail-db.inventory","index":"_id_","ident":"index-72--7248284157939341064","collectionIdent":"collection-37--7248284157939341064","commitTimestamp":null}}
21:32:43.996 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.996-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn32","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"7487f686-e85a-4cc1-9fb0-3875764a7a57"}},"namespace":"test-retail-db.inventory","index":"tenant_product_idx","ident":"index-105--7248284157939341064","collectionIdent":"collection-37--7248284157939341064","commitTimestamp":null}}
21:32:43.996 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.996-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn32","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1,"productId":1},"name":"tenant_product_idx","unique":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"4910ab46-e7fc-4adc-85f8-6ba7d781323b"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59918","protocol":"op_msg","durationMillis":1445}}
21:32:43.997 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:43.997-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:59918","uuid":"d2add88d-5355-412b-a968-15fb39d46bac","connectionId":32,"connectionCount":24}}
21:32:44.013 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.013-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn31","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.inventory"}}
21:32:44.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.030-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4cf44daf-7dca-4c18-8932-52a00cbbd6be"}},"namespace":"test-retail-db.audit_events","index":"_id_","ident":"index-75--7248284157939341064","collectionIdent":"collection-40--7248284157939341064","commitTimestamp":null}}
21:32:44.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.030-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn33","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"4cf44daf-7dca-4c18-8932-52a00cbbd6be"}},"namespace":"test-retail-db.audit_events","index":"tenant_user_idx","ident":"index-107--7248284157939341064","collectionIdent":"collection-40--7248284157939341064","commitTimestamp":null}}
21:32:44.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.030-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn33","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"userId":1,"timestamp":-1},"name":"tenant_user_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"7e2d8fac-ef36-43fc-b1be-57eaf69c4b34"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":5}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"storage":{},"remote":"127.0.0.1:59921","protocol":"op_msg","durationMillis":1476}}
21:32:44.030 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.031-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:59921","uuid":"738de031-34e4-474e-91d0-78a00d9c8704","connectionId":33,"connectionCount":23}}
21:32:44.045 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.046-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn34","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:44.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.061-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn35","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:44.075 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.076-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn36","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:44.091 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.092-06:00"},"s":"I",  "c":"STORAGE",  "id":5725001, "ctx":"conn37","msg":"Conflicted registering namespace, already have a collection with the same namespace","attr":{"nss":"test-retail-db.audit_events"}}
21:32:44.617 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.617-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn4","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"3cc01e1e-e8fe-4764-8c5a-b2016bfb48dc"}},"namespace":"test-retail-db.tenants","collectionUUID":{"uuid":{"$uuid":"e4f20cd0-0f32-4048-a858-c09dd0fc8f8d"}},"indexes":1,"firstIndex":{"name":"customDomain"},"command":{"createIndexes":"tenants","v":2,"indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"ignoreUnknownIndexOptions":false}}}
21:32:44.742 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.742-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59928","uuid":"68eee606-dce4-4860-8e2a-f6b06e82ee78","connectionId":38,"connectionCount":24}}
21:32:44.743 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.743-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:59928"}}}
21:32:44.743 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
21:32:44.743 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.743-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:59928","uuid":"68eee606-dce4-4860-8e2a-f6b06e82ee78","connectionId":38,"connectionCount":23}}
21:32:44.807 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.807-06:00"},"s":"I",  "c":"INDEX",    "id":20438,   "ctx":"conn6","msg":"Index build: registering","attr":{"buildUUID":{"uuid":{"$uuid":"ea59061a-d83f-4aa8-8f51-241b1a570f19"}},"namespace":"test-retail-db.orders","collectionUUID":{"uuid":{"$uuid":"3adb742e-51a9-4916-823a-fbfa4f8a41c5"}},"indexes":1,"firstIndex":{"name":"tenant_status_created_idx"},"command":{"createIndexes":"orders","v":2,"indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"ignoreUnknownIndexOptions":false}}}
21:32:44.845 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.846-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59929","uuid":"033c6b42-ecce-4e76-a4f9-643660aa19c6","connectionId":39,"connectionCount":24}}
21:32:44.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.847-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
21:32:44.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.847-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
21:32:44.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.847-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
21:32:44.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.847-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
21:32:44.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.847-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.848-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
21:32:44.848 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":26}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn7","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":23,"error":"lock acquire timeout"}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn8","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":24,"error":"lock acquire timeout"}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn7","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"customer.email":1},"name":"tenant_customer_email_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"db450eec-e289-479c-b3f2-a245b091fcfa"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":6}},"Global":{"acquireCount":{"r":5,"w":1}},"Database":{"acquireCount":{"r":5,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1},"acquireWaitCount":{"r":1}},"Mutex":{"acquireCount":{"r":7}}},"remote":"127.0.0.1:59894","protocol":"op_msg","durationMillis":2339}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.849-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn8","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"10189fc0-3c18-4ff9-8723-2908612fcc01"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":6}},"Global":{"acquireCount":{"r":5,"w":1}},"Database":{"acquireCount":{"r":5,"w":1}},"Collection":{"acquireCount":{"r":5,"w":1},"acquireWaitCount":{"r":1}},"Mutex":{"acquireCount":{"r":7}}},"remote":"127.0.0.1:59895","protocol":"op_msg","durationMillis":2339}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.850-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:59894","uuid":"680d2b10-6ea8-43f1-be58-21c8a56a63fe","connectionId":7,"connectionCount":23}}
21:32:44.849 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.850-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:59895","uuid":"26da8618-63ab-4c2f-9b2d-fa3a8889fa80","connectionId":8,"connectionCount":22}}
21:32:44.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.853-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn9","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":28,"error":"lock acquire timeout"}}
21:32:44.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.853-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn9","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.persisted_carts","command":{"createIndexes":"persisted_carts","indexes":[{"key":{"sessionId":1,"tenantId":1},"name":"session_tenant_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"caa44ea3-1ac0-4e2f-9e8a-5f02465ca1c8"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59896","protocol":"op_msg","durationMillis":2339}}
21:32:44.852 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.853-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:59896","uuid":"e83c4950-5c37-4dd1-9ebb-b3e7f82f3ddd","connectionId":9,"connectionCount":21}}
21:32:44.870 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.870-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn12","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":32,"error":"lock acquire timeout"}}
21:32:44.870 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.870-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn12","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.product_attribute_definitions","command":{"createIndexes":"product_attribute_definitions","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2bf8bf30-614f-4fc7-90e5-65fc7d2ea632"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59899","protocol":"op_msg","durationMillis":2353}}
21:32:44.870 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.871-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:59899","uuid":"d7c4f95c-5acf-4b06-88bd-a2ef5648f53c","connectionId":12,"connectionCount":20}}
21:32:44.882 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.882-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn14","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":36,"error":"lock acquire timeout"}}
21:32:44.882 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.882-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn14","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"d47afe3a-947b-4415-b47d-fbaedb405b9d"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59901","protocol":"op_msg","durationMillis":2361}}
21:32:44.882 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.883-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:59901","uuid":"ec47dab5-066c-4186-99b8-0ba7fbff17a6","connectionId":14,"connectionCount":19}}
21:32:44.898 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.898-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn15","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":39,"error":"lock acquire timeout"}}
21:32:44.898 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.898-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn15","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"category":1},"name":"tenant_category_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"817cdc9c-06cc-4f3c-b5b2-c0859c8995ae"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59902","protocol":"op_msg","durationMillis":2374}}
21:32:44.898 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.899-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:59902","uuid":"0cb7e788-482a-42b9-ad53-25c5814f4119","connectionId":15,"connectionCount":18}}
21:32:44.911 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.912-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn16","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":40,"error":"lock acquire timeout"}}
21:32:44.911 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.912-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn16","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1de6f488-c061-49bd-b1ec-a7d432035946"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59903","protocol":"op_msg","durationMillis":2387}}
21:32:44.912 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.912-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:59903","uuid":"33aa4e4f-fe1a-4ebd-b5e0-0508d5df7242","connectionId":16,"connectionCount":17}}
21:32:44.928 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.928-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn18","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":43,"error":"lock acquire timeout"}}
21:32:44.928 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.928-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn18","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"price":1},"name":"tenant_price_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"3e15a48d-dc28-4dfb-8842-c5f8309ebc0d"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59905","protocol":"op_msg","durationMillis":2398}}
21:32:44.928 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.928-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:59905","uuid":"a0d1958a-cf24-431e-a2b6-3c8f4b503860","connectionId":18,"connectionCount":16}}
21:32:44.944 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.944-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn17","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":44,"error":"lock acquire timeout"}}
21:32:44.944 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.945-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn17","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1,"stock":1},"name":"tenant_stock_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"72205d09-ec25-4bff-ba9f-71fc437c5012"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59904","protocol":"op_msg","durationMillis":2415}}
21:32:44.944 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.945-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:59904","uuid":"7610532f-8bdc-4350-a754-c25002d1755d","connectionId":17,"connectionCount":15}}
21:32:44.960 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.961-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn19","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":47,"error":"lock acquire timeout"}}
21:32:44.960 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.961-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn19","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.products","command":{"createIndexes":"products","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2df0ede6-18a3-4da1-b4c4-73d0bc93cba8"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59906","protocol":"op_msg","durationMillis":2428}}
21:32:44.961 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.961-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:59906","uuid":"d9fe010b-5a72-4bb6-832e-7c7e887ba2ec","connectionId":19,"connectionCount":14}}
21:32:44.978 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.979-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn4","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"e4f20cd0-0f32-4048-a858-c09dd0fc8f8d"}},"namespace":"test-retail-db.tenants","index":"customDomain","ident":"index-112--7248284157939341064","collectionIdent":"collection-8--7248284157939341064","commitTimestamp":null}}
21:32:44.979 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.979-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn4","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"3cc01e1e-e8fe-4764-8c5a-b2016bfb48dc"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:44.979 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.979-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn4","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"3cc01e1e-e8fe-4764-8c5a-b2016bfb48dc"}}}}
21:32:44.979 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.979-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn4","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":15,"error":"lock acquire timeout"}}
21:32:44.979 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.979-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn4","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.tenants","command":{"createIndexes":"tenants","indexes":[{"key":{"customDomain":1},"name":"customDomain","unique":true,"sparse":true}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"1ebd7d96-97d2-4856-8a88-a5fda0776b95"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":6,"w":1,"W":1}},"Mutex":{"acquireCount":{"r":9}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":3},"remote":"127.0.0.1:59891","protocol":"op_msg","durationMillis":2475}}
21:32:44.979 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.980-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:59891","uuid":"2562202d-3907-41f9-a5bb-f1130e79e34e","connectionId":4,"connectionCount":13}}
21:32:44.995 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.995-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn22","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":51,"error":"lock acquire timeout"}}
21:32:44.995 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.995-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn22","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"5e68f46f-7856-41c0-a9ff-8f65f60304e5"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59909","protocol":"op_msg","durationMillis":2459}}
21:32:44.995 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:44.995-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:59909","uuid":"f3fef020-41d8-45a0-bac2-7fb789687738","connectionId":22,"connectionCount":12}}
21:32:45.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.011-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn21","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":52,"error":"lock acquire timeout"}}
21:32:45.010 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.011-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn21","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.categories","command":{"createIndexes":"categories","indexes":[{"key":{"tenantId":1,"parentId":1},"name":"tenant_parent_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"2edb86d4-4379-409f-9d18-31eabd1c3455"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59908","protocol":"op_msg","durationMillis":2474}}
21:32:45.011 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.011-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:59908","uuid":"91f0458e-ed39-44a7-9523-046f2c757178","connectionId":21,"connectionCount":11}}
21:32:45.028 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.028-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn24","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":55,"error":"lock acquire timeout"}}
21:32:45.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.028-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn24","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.saved_carts","command":{"createIndexes":"saved_carts","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"08671c18-41cb-4705-a05f-3b1f48242d38"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59911","protocol":"op_msg","durationMillis":2489}}
21:32:45.029 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.029-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:59911","uuid":"756edae8-5dc6-4857-b6ba-ee48906feff8","connectionId":24,"connectionCount":10}}
21:32:45.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.047-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn26","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":60,"error":"lock acquire timeout"}}
21:32:45.047 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.047-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn26","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.users","command":{"createIndexes":"users","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"02825715-2985-4fea-b0e8-c9fb38f9c43e"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59913","protocol":"op_msg","durationMillis":2505}}
21:32:45.048 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.048-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:59913","uuid":"a69fb99d-1695-48a1-bfb8-8fb9a2a3c04e","connectionId":26,"connectionCount":9}}
21:32:45.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.061-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn29","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":67,"error":"lock acquire timeout"}}
21:32:45.061 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.061-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn29","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"68148753-19c9-4c6e-9dce-035f9c8a6b24"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59916","protocol":"op_msg","durationMillis":2513}}
21:32:45.062 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.062-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:59916","uuid":"184f4a12-6988-415e-9530-2facaf0e1ee3","connectionId":29,"connectionCount":8}}
21:32:45.077 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.077-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn30","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":68,"error":"lock acquire timeout"}}
21:32:45.078 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.078-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn30","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.notifications","command":{"createIndexes":"notifications","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"04f3d091-4658-4bff-8b2a-f667c4d71c0c"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59917","protocol":"op_msg","durationMillis":2529}}
21:32:45.078 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.078-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:59917","uuid":"8052dc47-224a-456f-ba38-5d3624f9cb50","connectionId":30,"connectionCount":7}}
21:32:45.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.094-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn31","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":72,"error":"lock acquire timeout"}}
21:32:45.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.094-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn31","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.inventory","command":{"createIndexes":"inventory","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"0fc50c9c-40dd-4855-aa55-613d0cd2dc76"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59919","protocol":"op_msg","durationMillis":2542}}
21:32:45.094 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.094-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:59919","uuid":"52302ec6-8482-4187-8ca9-04a484dfa3f2","connectionId":31,"connectionCount":6}}
21:32:45.109 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.109-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn34","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":76,"error":"lock acquire timeout"}}
21:32:45.109 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.109-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn34","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"timestamp":-1},"name":"tenant_timestamp_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"515f1c2f-b144-49d7-8890-c148299bc47f"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59920","protocol":"op_msg","durationMillis":2554}}
21:32:45.109 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.109-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:59920","uuid":"d0af8889-8bee-4fc3-b971-a9c281d4b162","connectionId":34,"connectionCount":5}}
21:32:45.123 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.124-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn35","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":79,"error":"lock acquire timeout"}}
21:32:45.123 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.124-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn35","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1},"name":"tenantId"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"c62f3695-99c4-42a7-ac9c-d463af472a06"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59923","protocol":"op_msg","durationMillis":2566}}
21:32:45.124 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.124-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:59923","uuid":"2c6a08fc-e32f-41ee-a787-cea11e7ed0fb","connectionId":35,"connectionCount":4}}
21:32:45.138 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.139-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn36","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":80,"error":"lock acquire timeout"}}
21:32:45.138 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.139-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn36","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"tenantId":1,"entityType":1,"entityId":1,"timestamp":-1},"name":"tenant_entity_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"cb3da642-45b2-4a02-9823-7482e6579ae4"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59922","protocol":"op_msg","durationMillis":2581}}
21:32:45.139 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.139-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:59922","uuid":"15d0dee9-bc3b-4442-9d26-60c1d1623c49","connectionId":36,"connectionCount":3}}
21:32:45.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.156-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn37","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":82,"error":"lock acquire timeout"}}
21:32:45.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.156-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn37","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.audit_events","command":{"createIndexes":"audit_events","indexes":[{"key":{"timestamp":1},"name":"timestamp"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"265a70e0-54fd-4def-aed8-a671bba4d246"}}},"writeConflicts":1,"numYields":0,"ok":0,"errMsg":"interrupted at shutdown","errName":"InterruptedAtShutdown","errCode":11600,"reslen":120,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":6}},"FeatureCompatibilityVersion":{"acquireCount":{"r":4,"w":1}},"ReplicationStateTransition":{"acquireCount":{"w":5}},"Global":{"acquireCount":{"r":4,"w":1}},"Database":{"acquireCount":{"r":4,"w":1}},"Collection":{"acquireCount":{"r":4,"w":1}},"Mutex":{"acquireCount":{"r":6}}},"remote":"127.0.0.1:59924","protocol":"op_msg","durationMillis":2595}}
21:32:45.155 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.156-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:59924","uuid":"f8d80223-1101-4601-afc6-24fffa730f0d","connectionId":37,"connectionCount":2}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn6","msg":"Index build: done building","attr":{"buildUUID":null,"collectionUUID":{"uuid":{"$uuid":"3adb742e-51a9-4916-823a-fbfa4f8a41c5"}},"namespace":"test-retail-db.orders","index":"tenant_status_created_idx","ident":"index-113--7248284157939341064","collectionIdent":"collection-9--7248284157939341064","commitTimestamp":null}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"INDEX",    "id":20440,   "ctx":"conn6","msg":"Index build: waiting for index build to complete","attr":{"buildUUID":{"uuid":{"$uuid":"ea59061a-d83f-4aa8-8f51-241b1a570f19"}},"deadline":{"$date":{"$numberLong":"9223372036854775807"}}}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"INDEX",    "id":20447,   "ctx":"conn6","msg":"Index build: completed","attr":{"buildUUID":{"uuid":{"$uuid":"ea59061a-d83f-4aa8-8f51-241b1a570f19"}}}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"W",  "c":"COMMAND",  "id":20525,   "ctx":"conn6","msg":"Failed to gather storage statistics for slow operation","attr":{"opId":19,"error":"lock acquire timeout"}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.170-06:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn6","msg":"Slow query","attr":{"type":"command","ns":"test-retail-db.orders","command":{"createIndexes":"orders","indexes":[{"key":{"tenantId":1,"status":1,"createdAt":-1},"name":"tenant_status_created_idx"}],"$db":"test-retail-db","lsid":{"id":{"$uuid":"931e713b-41ce-44e9-b6d2-e6236865176b"}}},"writeConflicts":1,"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":7}},"FeatureCompatibilityVersion":{"acquireCount":{"r":5,"w":3}},"ReplicationStateTransition":{"acquireCount":{"w":8}},"Global":{"acquireCount":{"r":5,"w":3}},"Database":{"acquireCount":{"r":5,"w":2}},"Collection":{"acquireCount":{"r":5,"w":1,"W":1},"acquireWaitCount":{"W":1},"timeAcquiringMicros":{"W":30510}},"Mutex":{"acquireCount":{"r":8}}},"flowControl":{"acquireCount":2,"timeAcquiringMicros":4},"remote":"127.0.0.1:59893","protocol":"op_msg","durationMillis":2663}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.171-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:59893","uuid":"1b82c7f8-b317-4165-8a39-765359df7a1d","connectionId":6,"connectionCount":1}}
21:32:45.170 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.171-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.171-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.171-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.171-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
21:32:45.171 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.172-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
21:32:45.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
21:32:45.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
21:32:45.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
21:32:45.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
21:32:45.191 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
21:32:45.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
21:32:45.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
21:32:45.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.192-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
21:32:45.192 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.193-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
21:32:45.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.235-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":42}}
21:32:45.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.235-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
21:32:45.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.235-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
21:32:45.235 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.235-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
21:32:45.237 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.237-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
21:32:45.237 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:45.238-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
21:32:45.382 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
21:32:45.410 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.retail.domain.product.FacetedSearchService required a bean of type 'com.retail.infrastructure.search.ProductSearchRepository' that could not be found.


Action:

Consider defining a bean of type 'com.retail.infrastructure.search.ProductSearchRepository' in your configuration.




============================
CONDITIONS EVALUATION REPORT
============================


Positive matches:
-----------------

    None


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



21:32:45.418 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@52936640]
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.retail.infrastructure.search.ProductSearchRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 74 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.retail.infrastructure.search.ProductSearchRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 98 common frames omitted
21:32:45.422 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@53919446]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.424 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@66277dde]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.426 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@3e009dca]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.428 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@3fa3e19f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.430 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@4aa3088]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.432 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@7b811f09]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.434 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@60e890e7]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.437 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@3dd570c3]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.438 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@32e3d46e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.440 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@10777bee]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.443 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@6aea833f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.445 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest@554b5c15]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 4.165 s <<< FAILURE! -- in com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByCustomerEmail -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'facetedSearchService' defined in file [D:\code\retail-agentic\backend\target\classes\com\retail\domain\product\FacetedSearchService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.retail.infrastructure.search.ProductSearchRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1458)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:552)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.retail.infrastructure.search.ProductSearchRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1406)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 41 more

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testCountByStatus -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testDeleteOrder -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testUpdateOrderStatus -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByStatus -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByTenantId -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByOrderNumber -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindHighValueOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindRecentOrders -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testFindByDateRange -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testCountByTenantId -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testSaveAndFindById -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest.testTenantIsolation -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
21:32:45.451 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest]: ProductRepositoryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:45.453 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
21:32:45.456 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@53f7a390]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.459 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@2d6a3255]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.462 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@c95132f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.464 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@1cd97fca]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.466 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@5c3b8dfe]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.469 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@316a06f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.471 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@641b8e0a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.473 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@332f2b1b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.475 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@12f22145]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.477 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@3a119b75]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.479 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@1fe37814]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:32:45.481 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest@39af729d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
[ERROR] Tests run: 12, Failures: 0, Errors: 12, Skipped: 0, Time elapsed: 0.033 s <<< FAILURE! -- in com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest
[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindByCategoryMultipleResults -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindBySkuNotFound -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindLowStockProducts -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testCountActiveProducts -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testUpdateProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindActiveProducts -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindByCategory -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindBySku -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testDeleteProduct -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testFindWithPagination -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testSaveAndFindById -- Time elapsed: 0 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest.testTenantIsolation -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.RetailApplicationTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s -- in com.retail.RetailApplicationTest
[INFO] Running com.retail.security.AuthenticationSecurityTest
21:32:45.489 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthenticationSecurityTest]: AuthenticationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:45.504 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthenticationSecurityTest
21:32:45.517 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.522 DEBUG o.s.w.r.f.client.ExchangeFunctions - [29ed26bd] HTTP GET /api/v1/products
21:32:45.524 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6416e408] HTTP GET "/api/v1/products"
21:32:45.526 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:45.526 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6416e408] Completed 404 NOT_FOUND
21:32:45.529 DEBUG o.s.w.r.f.client.ExchangeFunctions - [29ed26bd] [1a8da42d] Response 404 NOT_FOUND
21:32:45.531 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [14]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:45.533 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.542 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.546 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2a33abcd] HTTP GET /api/v1/health
21:32:45.549 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5e373a8b] HTTP GET "/api/v1/health"
21:32:45.550 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:45.550 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5e373a8b] Completed 404 NOT_FOUND
21:32:45.551 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2a33abcd] [2016f615] Response 404 NOT_FOUND
21:32:45.553 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/health
> WebTestClient-Request-Id: [15]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:45.554 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.562 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.677 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:45.684 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "email" : "security@example.com", "tenantId" : "test-tenant-001"}, Fields: {}, Sort: {}
21:32:45.686 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "email" : "security@example.com", "tenantId" : "test-tenant-001"} fields: Document{{}} for class: class com.retail.domain.user.User in collection: users
21:32:45.803 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.819 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.824 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f2aede7] HTTP GET /api/v1/products
21:32:45.825 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4c7f3084] HTTP GET "/api/v1/products"
21:32:45.825 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:45.826 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4c7f3084] Completed 404 NOT_FOUND
21:32:45.826 DEBUG o.s.w.r.f.client.ExchangeFunctions - [f2aede7] [32cc3c19] Response 404 NOT_FOUND
21:32:45.827 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [16]
> Authorization: [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjJ9.invalidSignature]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:45.828 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.839 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.842 DEBUG o.s.w.r.f.client.ExchangeFunctions - [16972bc5] HTTP POST /api/v1/auth/login
21:32:45.843 DEBUG org.springframework.web.HttpLogging - [16972bc5] Writing "{<EOL>    "email": "admin@example.com' OR '1'='1",<EOL>    "password": "anything"<EOL>}<EOL>"
21:32:45.845 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1476d568] HTTP POST "/api/v1/auth/login"
21:32:45.845 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:45.846 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [1476d568] Completed 404 NOT_FOUND
21:32:45.846 DEBUG o.s.w.r.f.client.ExchangeFunctions - [16972bc5] [408c0fc2] Response 404 NOT_FOUND
21:32:45.847 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [17]
> Content-Type: [application/json]
> Content-Length: [76]

{
    "email": "admin@example.com' OR '1'='1",
    "password": "anything"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:45.849 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:45.860 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.041 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.048 DEBUG o.s.w.r.f.client.ExchangeFunctions - [28019d67] HTTP POST /api/v1/auth/login
21:32:46.049 DEBUG org.springframework.web.HttpLogging - [28019d67] Writing "{<EOL>    "email": "security@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
21:32:46.050 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [74bd55ee] HTTP POST "/api/v1/auth/login"
21:32:46.051 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.051 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [74bd55ee] Completed 404 NOT_FOUND
21:32:46.052 DEBUG o.s.w.r.f.client.ExchangeFunctions - [28019d67] [a36a4cc] Response 404 NOT_FOUND
21:32:46.052 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [18]
> Content-Type: [application/json]
> Content-Length: [78]

{
    "email": "security@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.054 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.070 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.078 DEBUG o.s.w.r.f.client.ExchangeFunctions - [706b2ff0] HTTP POST /api/v1/auth/login
21:32:46.079 DEBUG org.springframework.web.HttpLogging - [706b2ff0] Writing "{<EOL>    "email": "test@example.com",<EOL>    "password": "wrongpassword"<EOL>}<EOL>"
21:32:46.080 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2de3a068] HTTP POST "/api/v1/auth/login"
21:32:46.081 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.081 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [2de3a068] Completed 404 NOT_FOUND
21:32:46.082 DEBUG o.s.w.r.f.client.ExchangeFunctions - [706b2ff0] [6a70499f] Response 404 NOT_FOUND
21:32:46.084 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [19]
> Content-Type: [application/json]
> Content-Length: [69]

{
    "email": "test@example.com",
    "password": "wrongpassword"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.085 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.099 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.104 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5379a77a] HTTP GET /api/v1/products
21:32:46.105 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [629f4e64] HTTP GET "/api/v1/products"
21:32:46.106 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.107 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [629f4e64] Completed 404 NOT_FOUND
21:32:46.108 DEBUG o.s.w.r.f.client.ExchangeFunctions - [5379a77a] [33bb4ca4] Response 404 NOT_FOUND
21:32:46.109 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> GET /api/v1/products
> WebTestClient-Request-Id: [20]
> Authorization: [Bearer invalid-token-here]
> Accept: [application/json]

No content

< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.114 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.126 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.131 DEBUG o.s.w.r.f.client.ExchangeFunctions - [38ea499c] HTTP POST /api/v1/auth/login
21:32:46.132 DEBUG org.springframework.web.HttpLogging - [38ea499c] Writing "{<EOL>    "email": "test@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
21:32:46.133 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [49a7b5fe] HTTP POST "/api/v1/auth/login"
21:32:46.134 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.134 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [49a7b5fe] Completed 404 NOT_FOUND
21:32:46.136 DEBUG o.s.w.r.f.client.ExchangeFunctions - [38ea499c] [2b749913] Response 404 NOT_FOUND
21:32:46.137 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [21]
> Content-Type: [application/json]
> Content-Length: [74]

{
    "email": "test@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.138 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.158 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.164 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7efc8091] HTTP POST /api/v1/auth/register
21:32:46.165 DEBUG org.springframework.web.HttpLogging - [7efc8091] Writing "{<EOL>    "email": "weak@example.com",<EOL>    "password": "weak",<EOL>    "firstName": "Test",<EOL>    "lastName":  (truncated)..."
21:32:46.167 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3b8f85ea] HTTP POST "/api/v1/auth/register"
21:32:46.167 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.168 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [3b8f85ea] Completed 404 NOT_FOUND
21:32:46.169 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7efc8091] [390a5266] Response 404 NOT_FOUND
21:32:46.170 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/register
> WebTestClient-Request-Id: [22]
> Content-Type: [application/json]
> Content-Length: [109]

{
    "email": "weak@example.com",
    "password": "weak",
    "firstName": "Test",
    "lastName": "User"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.173 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.191 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.304 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.309 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3dc77ff4] HTTP POST /api/v1/auth/login
21:32:46.310 DEBUG org.springframework.web.HttpLogging - [3dc77ff4] Writing "{<EOL>    "email": "security@example.com",<EOL>    "password": "SecurePassword123!"<EOL>}<EOL>"
21:32:46.310 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4f5443df] HTTP POST "/api/v1/auth/login"
21:32:46.311 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.311 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4f5443df] Completed 404 NOT_FOUND
21:32:46.312 DEBUG o.s.w.r.f.client.ExchangeFunctions - [3dc77ff4] [60048dbe] Response 404 NOT_FOUND
21:32:46.313 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [23]
> Content-Type: [application/json]
> Content-Length: [78]

{
    "email": "security@example.com",
    "password": "SecurePassword123!"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.314 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.323 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.326 DEBUG o.s.w.r.f.client.ExchangeFunctions - [55149f6d] HTTP POST /api/v1/auth/login
21:32:46.327 DEBUG org.springframework.web.HttpLogging - [55149f6d] Writing "{<EOL>    "email": "nonexistent@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:46.327 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [54d778ec] HTTP POST "/api/v1/auth/login"
21:32:46.328 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.328 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [54d778ec] Completed 404 NOT_FOUND
21:32:46.329 DEBUG o.s.w.r.f.client.ExchangeFunctions - [55149f6d] [63076dd9] Response 404 NOT_FOUND
21:32:46.329 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [24]
> Content-Type: [application/json]
> Content-Length: [74]

{
    "email": "nonexistent@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.330 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.337 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.340 DEBUG o.s.w.r.f.client.ExchangeFunctions - [30c9d01c] HTTP POST /api/v1/auth/login
21:32:46.341 DEBUG org.springframework.web.HttpLogging - [30c9d01c] Writing "{<EOL>    "email": "{"$gt": ""}",<EOL>    "password": "test"<EOL>}<EOL>"
21:32:46.341 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [42d5ad01] HTTP POST "/api/v1/auth/login"
21:32:46.342 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.342 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [42d5ad01] Completed 404 NOT_FOUND
21:32:46.343 DEBUG o.s.w.r.f.client.ExchangeFunctions - [30c9d01c] [5a8519fc] Response 404 NOT_FOUND
21:32:46.344 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [25]
> Content-Type: [application/json]
> Content-Length: [55]

{
    "email": "{"$gt": ""}",
    "password": "test"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.345 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
[ERROR] Tests run: 13, Failures: 12, Errors: 0, Skipped: 0, Time elapsed: 0.863 s <<< FAILURE! -- in com.retail.security.AuthenticationSecurityTest
[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectUnauthenticatedRequests -- Time elapsed: 0.027 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectUnauthenticatedRequests(AuthenticationSecurityTest.java:63)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testHttpsRequirement -- Time elapsed: 0.019 s <<< FAILURE!
java.lang.AssertionError: Response header 'Strict-Transport-Security' does not exist
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)
	at org.springframework.test.web.reactive.server.HeaderAssertions.lambda$exists$9(HeaderAssertions.java:217)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.HeaderAssertions.exists(HeaderAssertions.java:217)
	at com.retail.security.AuthenticationSecurityTest.testHttpsRequirement(AuthenticationSecurityTest.java:264)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectExpiredJwtToken -- Time elapsed: 0.020 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectExpiredJwtToken(AuthenticationSecurityTest.java:88)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSqlInjectionPrevention -- Time elapsed: 0.019 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testSqlInjectionPrevention(AuthenticationSecurityTest.java:151)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testSecureCookieFlags -- Time elapsed: 0.205 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthenticationSecurityTest.testSecureCookieFlags(AuthenticationSecurityTest.java:288)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testLoginRateLimiting -- Time elapsed: 0.026 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testLoginRateLimiting(AuthenticationSecurityTest.java:199)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectInvalidJwtToken -- Time elapsed: 0.025 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testRejectInvalidJwtToken(AuthenticationSecurityTest.java:74)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testPasswordNotInErrorMessages -- Time elapsed: 0.026 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testPasswordNotInErrorMessages(AuthenticationSecurityTest.java:355)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testRejectWeakPasswords -- Time elapsed: 0.031 s <<< FAILURE!
java.lang.AssertionError: Status expected:<400 BAD_REQUEST> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isBadRequest(StatusAssertions.java:131)
	at com.retail.security.AuthenticationSecurityTest.testRejectWeakPasswords(AuthenticationSecurityTest.java:108)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testTokenInvalidationOnLogout -- Time elapsed: 0.131 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthenticationSecurityTest.testTokenInvalidationOnLogout(AuthenticationSecurityTest.java:315)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testUserEnumerationPrevention -- Time elapsed: 0.014 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testUserEnumerationPrevention(AuthenticationSecurityTest.java:231)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthenticationSecurityTest.testNoSqlInjectionPrevention -- Time elapsed: 0.013 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isUnauthorized(StatusAssertions.java:138)
	at com.retail.security.AuthenticationSecurityTest.testNoSqlInjectionPrevention(AuthenticationSecurityTest.java:178)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.AuthorizationSecurityTest
21:32:46.353 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.AuthorizationSecurityTest]: AuthorizationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:46.354 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.AuthorizationSecurityTest
21:32:46.360 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.572 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.575 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.579 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.582 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1360f246] HTTP POST /api/v1/auth/login
21:32:46.583 DEBUG org.springframework.web.HttpLogging - [1360f246] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:46.583 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5b61824f] HTTP POST "/api/v1/auth/login"
21:32:46.584 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.584 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5b61824f] Completed 404 NOT_FOUND
21:32:46.584 DEBUG o.s.w.r.f.client.ExchangeFunctions - [1360f246] [70660bfe] Response 404 NOT_FOUND
21:32:46.585 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [26]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.586 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.593 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.792 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.796 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.800 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:46.804 DEBUG o.s.w.r.f.client.ExchangeFunctions - [539f603f] HTTP POST /api/v1/auth/login
21:32:46.804 DEBUG org.springframework.web.HttpLogging - [539f603f] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:46.804 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [19c7fd0b] HTTP POST "/api/v1/auth/login"
21:32:46.805 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:46.805 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [19c7fd0b] Completed 404 NOT_FOUND
21:32:46.806 DEBUG o.s.w.r.f.client.ExchangeFunctions - [539f603f] [531e6075] Response 404 NOT_FOUND
21:32:46.807 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [27]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:46.808 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:46.818 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.016 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.020 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.023 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.025 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7bbcfc0f] HTTP POST /api/v1/auth/login
21:32:47.026 DEBUG org.springframework.web.HttpLogging - [7bbcfc0f] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:47.026 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [13d8c5d8] HTTP POST "/api/v1/auth/login"
21:32:47.027 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:47.027 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [13d8c5d8] Completed 404 NOT_FOUND
21:32:47.027 DEBUG o.s.w.r.f.client.ExchangeFunctions - [7bbcfc0f] [6afeddf] Response 404 NOT_FOUND
21:32:47.029 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [28]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:47.030 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.035 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.221 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.228 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.233 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.236 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6649b4a] HTTP POST /api/v1/auth/login
21:32:47.237 DEBUG org.springframework.web.HttpLogging - [6649b4a] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:47.237 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6c84b4ad] HTTP POST "/api/v1/auth/login"
21:32:47.238 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:47.238 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6c84b4ad] Completed 404 NOT_FOUND
21:32:47.238 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6649b4a] [54505104] Response 404 NOT_FOUND
21:32:47.239 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [29]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:47.239 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.245 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.426 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.430 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.433 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.436 DEBUG o.s.w.r.f.client.ExchangeFunctions - [257b60ef] HTTP POST /api/v1/auth/login
21:32:47.437 DEBUG org.springframework.web.HttpLogging - [257b60ef] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:47.437 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6971910b] HTTP POST "/api/v1/auth/login"
21:32:47.438 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:47.438 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6971910b] Completed 404 NOT_FOUND
21:32:47.438 DEBUG o.s.w.r.f.client.ExchangeFunctions - [257b60ef] [61004ce0] Response 404 NOT_FOUND
21:32:47.439 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [30]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:47.440 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.447 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.644 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.648 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.652 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.657 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2a19df5a] HTTP POST /api/v1/auth/login
21:32:47.658 DEBUG org.springframework.web.HttpLogging - [2a19df5a] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:47.658 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6d096b46] HTTP POST "/api/v1/auth/login"
21:32:47.659 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:47.659 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [6d096b46] Completed 404 NOT_FOUND
21:32:47.660 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2a19df5a] [4fe0e041] Response 404 NOT_FOUND
21:32:47.660 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [31]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:47.661 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.669 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.868 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.871 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.873 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:47.876 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6395cf5a] HTTP POST /api/v1/auth/login
21:32:47.877 DEBUG org.springframework.web.HttpLogging - [6395cf5a] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:47.877 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7932c8da] HTTP POST "/api/v1/auth/login"
21:32:47.878 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:47.878 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [7932c8da] Completed 404 NOT_FOUND
21:32:47.879 DEBUG o.s.w.r.f.client.ExchangeFunctions - [6395cf5a] [7342253] Response 404 NOT_FOUND
21:32:47.879 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [32]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:47.880 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:47.887 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.084 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.088 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.090 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.092 DEBUG o.s.w.r.f.client.ExchangeFunctions - [328defdf] HTTP POST /api/v1/auth/login
21:32:48.092 DEBUG org.springframework.web.HttpLogging - [328defdf] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:48.093 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [580aeeff] HTTP POST "/api/v1/auth/login"
21:32:48.093 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:48.094 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [580aeeff] Completed 404 NOT_FOUND
21:32:48.094 DEBUG o.s.w.r.f.client.ExchangeFunctions - [328defdf] [262d0157] Response 404 NOT_FOUND
21:32:48.094 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [33]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:48.095 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.101 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.297 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.300 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.302 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.305 DEBUG o.s.w.r.f.client.ExchangeFunctions - [dfd40bf] HTTP POST /api/v1/auth/login
21:32:48.305 DEBUG org.springframework.web.HttpLogging - [dfd40bf] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:48.305 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [26d4b] HTTP POST "/api/v1/auth/login"
21:32:48.306 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:48.306 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [26d4b] Completed 404 NOT_FOUND
21:32:48.306 DEBUG o.s.w.r.f.client.ExchangeFunctions - [dfd40bf] [4f8d4ce4] Response 404 NOT_FOUND
21:32:48.306 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [34]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:48.307 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.315 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.500 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.503 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.506 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.509 DEBUG o.s.w.r.f.client.ExchangeFunctions - [12710921] HTTP POST /api/v1/auth/login
21:32:48.509 DEBUG org.springframework.web.HttpLogging - [12710921] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:48.510 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ef83b65] HTTP POST "/api/v1/auth/login"
21:32:48.510 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:48.510 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [ef83b65] Completed 404 NOT_FOUND
21:32:48.511 DEBUG o.s.w.r.f.client.ExchangeFunctions - [12710921] [75ac271a] Response 404 NOT_FOUND
21:32:48.511 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [35]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:48.512 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.519 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.695 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.698 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.700 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.702 DEBUG o.s.w.r.f.client.ExchangeFunctions - [371d663a] HTTP POST /api/v1/auth/login
21:32:48.702 DEBUG org.springframework.web.HttpLogging - [371d663a] Writing "{<EOL>    "email": "admin@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:48.702 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4ee8894f] HTTP POST "/api/v1/auth/login"
21:32:48.703 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:48.703 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4ee8894f] Completed 404 NOT_FOUND
21:32:48.703 DEBUG o.s.w.r.f.client.ExchangeFunctions - [371d663a] [67e4bd0c] Response 404 NOT_FOUND
21:32:48.703 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [36]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "admin@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:48.704 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.709 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.879 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.882 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.884 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:48.887 DEBUG o.s.w.r.f.client.ExchangeFunctions - [54878611] HTTP POST /api/v1/auth/login
21:32:48.887 DEBUG org.springframework.web.HttpLogging - [54878611] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:48.888 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4dbbc4c9] HTTP POST "/api/v1/auth/login"
21:32:48.888 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:48.888 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [4dbbc4c9] Completed 404 NOT_FOUND
21:32:48.889 DEBUG o.s.w.r.f.client.ExchangeFunctions - [54878611] [3202cd1a] Response 404 NOT_FOUND
21:32:48.890 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [37]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:48.891 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:48.899 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.078 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.081 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.083 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.085 DEBUG o.s.w.r.f.client.ExchangeFunctions - [94c0d3c] HTTP POST /api/v1/auth/login
21:32:49.086 DEBUG org.springframework.web.HttpLogging - [94c0d3c] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:49.086 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5dd0cada] HTTP POST "/api/v1/auth/login"
21:32:49.086 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:49.087 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [5dd0cada] Completed 404 NOT_FOUND
21:32:49.087 DEBUG o.s.w.r.f.client.ExchangeFunctions - [94c0d3c] [5f26ffa4] Response 404 NOT_FOUND
21:32:49.087 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [38]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:49.088 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.093 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.258 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.261 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.263 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.265 DEBUG o.s.w.r.f.client.ExchangeFunctions - [443253eb] HTTP POST /api/v1/auth/login
21:32:49.265 DEBUG org.springframework.web.HttpLogging - [443253eb] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:49.265 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [71036466] HTTP POST "/api/v1/auth/login"
21:32:49.266 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:49.266 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [71036466] Completed 404 NOT_FOUND
21:32:49.266 DEBUG o.s.w.r.f.client.ExchangeFunctions - [443253eb] [7e85ca1f] Response 404 NOT_FOUND
21:32:49.266 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [39]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:49.267 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.272 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.441 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.445 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.448 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.451 DEBUG o.s.w.r.f.client.ExchangeFunctions - [475c43e4] HTTP POST /api/v1/auth/login
21:32:49.451 DEBUG org.springframework.web.HttpLogging - [475c43e4] Writing "{<EOL>    "email": "owner@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:49.451 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [262e4765] HTTP POST "/api/v1/auth/login"
21:32:49.452 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:49.452 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [262e4765] Completed 404 NOT_FOUND
21:32:49.452 DEBUG o.s.w.r.f.client.ExchangeFunctions - [475c43e4] [24ed4920] Response 404 NOT_FOUND
21:32:49.453 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [40]
> Content-Type: [application/json]
> Content-Length: [68]

{
    "email": "owner@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:49.453 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.460 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
21:32:49.624 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.627 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.629 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Inserting Document containing fields: [tenantId, email, passwordHash, firstName, lastName, role, status, addresses, createdAt, updatedAt, _class] in collection: users
21:32:49.631 DEBUG o.s.w.r.f.client.ExchangeFunctions - [77961b85] HTTP POST /api/v1/auth/login
21:32:49.631 DEBUG org.springframework.web.HttpLogging - [77961b85] Writing "{<EOL>    "email": "customer@example.com",<EOL>    "password": "password123"<EOL>}<EOL>"
21:32:49.631 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [619bdb6b] HTTP POST "/api/v1/auth/login"
21:32:49.632 WARN  c.r.s.tenant.TenantResolverFilter - Tenant not found: Host header is missing
21:32:49.632 DEBUG o.s.w.s.a.HttpWebHandlerAdapter - [619bdb6b] Completed 404 NOT_FOUND
21:32:49.632 DEBUG o.s.w.r.f.client.ExchangeFunctions - [77961b85] [3a3c1516] Response 404 NOT_FOUND
21:32:49.633 ERROR o.s.t.w.r.server.ExchangeResult - Request details for assertion failure:

> POST /api/v1/auth/login
> WebTestClient-Request-Id: [41]
> Content-Type: [application/json]
> Content-Length: [71]

{
    "email": "customer@example.com",
    "password": "password123"
}


< 404 NOT_FOUND Not Found
< 

0 bytes of content (unknown content-type).

21:32:49.633 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: users.
[ERROR] Tests run: 16, Failures: 16, Errors: 0, Skipped: 0, Time elapsed: 3.285 s <<< FAILURE! -- in com.retail.security.AuthorizationSecurityTest
[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanDeleteProducts -- Time elapsed: 0.232 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanDeleteProducts(AuthorizationSecurityTest.java:212)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders -- Time elapsed: 0.222 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders(AuthorizationSecurityTest.java:143)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testPreventPrivilegeEscalation -- Time elapsed: 0.219 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testPreventPrivilegeEscalation(AuthorizationSecurityTest.java:318)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotDeleteProducts -- Time elapsed: 0.209 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotDeleteProducts(AuthorizationSecurityTest.java:118)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testMethodLevelSecurity -- Time elapsed: 0.200 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testMethodLevelSecurity(AuthorizationSecurityTest.java:305)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessProducts -- Time elapsed: 0.221 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessProducts(AuthorizationSecurityTest.java:68)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints -- Time elapsed: 0.216 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints(AuthorizationSecurityTest.java:81)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanAccessAllEndpoints -- Time elapsed: 0.213 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanAccessAllEndpoints(AuthorizationSecurityTest.java:159)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanCreateProducts -- Time elapsed: 0.213 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanCreateProducts(AuthorizationSecurityTest.java:251)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanManageUserRoles -- Time elapsed: 0.203 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanManageUserRoles(AuthorizationSecurityTest.java:227)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testAdminCanCreateProducts -- Time elapsed: 0.189 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testAdminCanCreateProducts(AuthorizationSecurityTest.java:189)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData -- Time elapsed: 0.188 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData(AuthorizationSecurityTest.java:287)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testRoleChangeAuthorization -- Time elapsed: 0.195 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testRoleChangeAuthorization(AuthorizationSecurityTest.java:342)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCannotCreateProducts -- Time elapsed: 0.177 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCannotCreateProducts(AuthorizationSecurityTest.java:95)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders -- Time elapsed: 0.187 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders(AuthorizationSecurityTest.java:274)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[ERROR] com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessOwnOrders -- Time elapsed: 0.178 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200 OK> but was:<404 NOT_FOUND>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:222)
	at org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:236)
	at org.springframework.test.web.reactive.server.StatusAssertions.isOk(StatusAssertions.java:68)
	at com.retail.security.AuthorizationSecurityTest.loginAndGetToken(AuthorizationSecurityTest.java:389)
	at com.retail.security.AuthorizationSecurityTest.testCustomerCanAccessOwnOrders(AuthorizationSecurityTest.java:130)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)

[INFO] Running com.retail.security.TenantIsolationSecurityTest
21:32:49.638 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.retail.security.TenantIsolationSecurityTest]: TenantIsolationSecurityTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
21:32:49.639 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.retail.RetailApplication for test class com.retail.security.TenantIsolationSecurityTest
21:32:49.642 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.644 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.649 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.651 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.647Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.647Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.651 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.653 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.653 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.654 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.655 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.655 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.647Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.647Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.655 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.657 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.657 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.657 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.666 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.669 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.672 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-x-001', tenantId='tenant-a-001', name='Product X', sku='SKU-X-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.673 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-x-001', tenantId='tenant-a-001', name='Product X', sku='SKU-X-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-x-001", "tenantId" : "tenant-a-001", "name" : "Product X", "sku" : "SKU-X-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.672Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.672Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.673 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.675 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-x-001
21:32:49.675 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product X (prod-x-001)
21:32:49.675 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-x-001
21:32:49.676 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.678 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.682 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.684 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.686 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.687 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.687 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.688 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.688 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.689 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.689 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.690 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.690 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.691 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.691 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.691 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.692 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.695 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.713 DEBUG o.s.d.m.r.q.ReactiveStringBasedMongoQuery - Created query Document{{tenantId=tenant-a-001, status=ACTIVE}} for Document{{}} fields.
21:32:49.713 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001", "status" : "ACTIVE"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.716 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.717 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.685Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.718 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.720 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.725 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.728 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.730 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.731 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.73Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.73Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.731 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.733 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.733 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.733 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.734 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.735 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.73Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.73Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.735 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.737 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.737 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.737 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.738 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.743 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.747 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.750 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-a-001"} in collection: products
21:32:49.750 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-a-001"} in collection: products
21:32:49.761 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-002"}, Fields: {}, Sort: {}
21:32:49.762 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-b-002"} in collection: products
21:32:49.762 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Executing count: { "tenantId" : "tenant-b-002"} in collection: products
21:32:49.765 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.767 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.772 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.775 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.779 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.781 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.781 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.785 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.785 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.785 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.786 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.787 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.787 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.788 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.788 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.789 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.789 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.792 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.795 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.796 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeDelete({ "_id" : "prod-b-001", "tenantId" : "tenant-a-001"})
21:32:49.796 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} in collection: products.
21:32:49.798 DEBUG c.r.d.product.ProductEventListener - Product deleted event: prod-b-001
21:32:49.798 DEBUG c.r.i.search.ProductIndexingService - Removing product from index: prod-b-001
21:32:49.798 INFO  c.r.i.search.ProductIndexingService - Successfully removed product from index: prod-b-001
21:32:49.799 DEBUG o.s.d.m.core.ReactiveMongoTemplate - findOne using query: { "id" : "prod-b-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.807 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.807 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.778Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.809 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.813 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.818 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.822 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.825 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.827 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.827 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.829 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.829 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.830 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.830 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.831 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.831 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.832 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.832 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.833 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.834 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.837 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.841 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "sku" : "SKU-A-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.841 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "sku" : "SKU-A-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.844 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.845 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.824Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.845 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "sku" : "SKU-B-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.846 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "sku" : "SKU-B-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.848 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.850 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.854 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.857 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.859 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.860 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.860 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.862 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.862 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.862 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.863 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.864 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.864 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.866 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.866 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.866 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.867 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.870 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.874 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.874 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.876 DEBUG o.s.d.m.core.ReactiveMongoTemplate - findOne using query: { "id" : "prod-b-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.878 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.878 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.859Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.879 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.880 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.887 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.889 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.892 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.892 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.892 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.895 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.895 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.896 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.896 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.897 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.897 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.898 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.898 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.898 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.900 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.903 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.906 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-b-002"}, Fields: {}, Sort: {}
21:32:49.907 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-b-002"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.910 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.910 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.891Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.911 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.914 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.919 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.921 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.922 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.923 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.923 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.925 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.925 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.925 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.925 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.925 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.925 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.927 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.927 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.927 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.928 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.931 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.933 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.933 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:49.936 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.936 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.922Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.937 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.940 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.946 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.949 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.951 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.951 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.95Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.95Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.951 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.954 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.954 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.954 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.956 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.956 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.95Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.95Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.956 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.959 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.959 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.959 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.961 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.965 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.968 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "orderNumber" : "ORD-ORDER-B-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:49.969 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "orderNumber" : "ORD-ORDER-B-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
21:32:49.972 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.975 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.980 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:49.982 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:49.983 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.984 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.984 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.986 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:49.986 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:49.986 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:49.987 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:49.989 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:49.989 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:49.991 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:49.991 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:49.991 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:49.992 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:49.996 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.001 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:50.001 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:50.004 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterLoad({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.004 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onAfterConvert({ "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:49.983Z"}, "_class" : "com.retail.domain.product.Product"}, { "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.006 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.009 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.014 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.017 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.021 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.022 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.019Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.019Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.022 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.025 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:50.025 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:50.025 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:50.026 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.026 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.019Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.019Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.026 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.029 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:50.029 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:50.029 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:50.030 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.033 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.036 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:50.037 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
21:32:50.046 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.048 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.054 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.056 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.058 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.059 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.058Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.058Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.059 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.062 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:50.062 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:50.062 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:50.063 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.064 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.058Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.058Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.064 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.065 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:50.065 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:50.066 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:50.067 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.069 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.072 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "order-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:50.073 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "order-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.order.Order in collection: orders
21:32:50.077 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.079 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.084 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.086 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
21:32:50.088 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.088 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-a-001', tenantId='tenant-a-001', name='Product A', sku='SKU-A-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-a-001", "tenantId" : "tenant-a-001", "name" : "Product A", "sku" : "SKU-A-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.087Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.087Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.088 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.090 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-a-001
21:32:50.091 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product A (prod-a-001)
21:32:50.091 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-a-001
21:32:50.091 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeConvert({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} })
21:32:50.092 DEBUG o.s.d.m.c.m.e.AbstractMongoEventListener - onBeforeSave({ "$java" : Product{id='prod-b-001', tenantId='tenant-b-002', name='Product B', sku='SKU-B-001', price=99.99, currency='USD', stock=100, status=ACTIVE} }, { "_id" : "prod-b-001", "tenantId" : "tenant-b-002", "name" : "Product B", "sku" : "SKU-B-001", "description" : "Test product", "price" : "99.99", "currency" : "USD", "category" : ["Test"], "images" : [], "attributes" : {}, "stock" : 100, "status" : "ACTIVE", "createdAt" : { "$date" : "2025-12-04T03:32:50.087Z"}, "updatedAt" : { "$date" : "2025-12-04T03:32:50.087Z"}, "_class" : "com.retail.domain.product.Product"})
21:32:50.092 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, name, sku, description, price, currency, category, images, attributes, stock, status, createdAt, updatedAt, _class]
21:32:50.094 DEBUG c.r.d.product.ProductEventListener - Product saved event: prod-b-001
21:32:50.094 DEBUG c.r.i.search.ProductIndexingService - Indexing product: Product B (prod-b-001)
21:32:50.094 INFO  c.r.i.search.ProductIndexingService - Successfully indexed product: prod-b-001
21:32:50.095 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.098 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Saving Document containing fields: [_id, tenantId, orderNumber, customer, shippingAddress, items, pricing, payment, status, statusHistory, createdAt, updatedAt, _class]
21:32:50.101 DEBUG o.s.d.m.r.query.MongoQueryCreator - Created query Query: { "id" : "prod-b-001", "tenantId" : "tenant-a-001"}, Fields: {}, Sort: {}
21:32:50.101 DEBUG o.s.d.m.core.ReactiveMongoTemplate - find using query: { "_id" : "prod-b-001", "tenantId" : "tenant-a-001"} fields: Document{{}} for class: class com.retail.domain.product.Product in collection: products
21:32:50.104 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: products.
21:32:50.107 DEBUG o.s.d.m.core.ReactiveMongoTemplate - Remove using query: {} in collection: orders.
[ERROR] Tests run: 13, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.472 s <<< FAILURE! -- in com.retail.security.TenantIsolationSecurityTest
[ERROR] com.retail.security.TenantIsolationSecurityTest.testTenantContextCannotBeOverridden -- Time elapsed: 0.034 s <<< FAILURE!
org.opentest4j.AssertionFailedError: 

expected: "tenant-b-002"
 but was: "tenant-a-001"
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at com.retail.security.TenantIsolationSecurityTest.lambda$testTenantContextCannotBeOverridden$0(TenantIsolationSecurityTest.java:293)
	at reactor.test.DefaultStepVerifierBuilder.lambda$consumeNextWith$1(DefaultStepVerifierBuilder.java:279)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onNext(FluxUsingWhen.java:346)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:439)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:335)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:559)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onSubscribe(FluxOnAssembly.java:633)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:880)
	at reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:805)
	at reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:163)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:186)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:153)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:176)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:632)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$5(BatchCursorFlux.java:102)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$1(BatchCursor.java:50)
	at com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:178)
	at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$2(BatchCursor.java:42)
	at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:61)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4512)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4578)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4339)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:112)
	at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:61)
	at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:539)
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176)
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$33(MongoOperationPublisher.java:525)
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97)
	at com.mongodb.internal.operation.FindOperation.lambda$exceptionTransformingCallback$6(FindOperation.java:369)
	at com.mongodb.internal.operation.AsyncOperationHelper.lambda$transformingReadCallback$19(AsyncOperationHelper.java:442)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.lambda$executeAsync$0(DefaultServer.java:249)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.CommandProtocolImpl.lambda$executeAsync$0(CommandProtocolImpl.java:88)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.lambda$sendAndReceiveAsync$1(DefaultConnectionPool.java:802)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.lambda$sendAndReceiveAsync$1(UsageTrackingInternalConnection.java:155)
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:47)
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendCommandMessageAsync$0(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:849)
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:812)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:671)
	at com.mongodb.internal.connection.InternalStreamConnection$3.completed(InternalStreamConnection.java:668)
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:332)
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:359)
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:112)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:435)
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:432)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1474)

21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:59777","uuid":"693250b0-4055-4132-9035-a5fbad594be8","connectionId":20,"connectionCount":34}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:59778","uuid":"d6ad14fa-bdfa-40e4-8525-cf84bba85530","connectionId":21,"connectionCount":36}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:59766","uuid":"5414f27b-2084-434d-a7bf-3eb964cd5839","connectionId":10,"connectionCount":32}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:59774","uuid":"ab6350ff-ad71-43e3-a164-3bad288f1301","connectionId":17,"connectionCount":35}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:59759","uuid":"0848d361-21ff-49e1-8283-85c37b40e81f","connectionId":3,"connectionCount":31}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:59783","uuid":"5f10e0f7-cf88-465e-a2dc-98c3a648377d","connectionId":26,"connectionCount":30}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:59763","uuid":"40b195d1-6828-4d36-80a7-52eeee69ce05","connectionId":7,"connectionCount":29}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.164-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:59786","uuid":"8f7cdc10-464a-4216-b3d9-4e879020602e","connectionId":29,"connectionCount":33}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:59788","uuid":"12c44a68-271b-42bf-ac16-6fcf8f81cf82","connectionId":31,"connectionCount":28}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:59794","uuid":"5a1a9819-7043-4b5f-bb13-098df0a8949a","connectionId":37,"connectionCount":27}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:59765","uuid":"517df0b2-70c2-4b28-a57e-1f6457791783","connectionId":9,"connectionCount":26}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:59784","uuid":"8db265d8-4374-42de-8c0e-04a6fac7f697","connectionId":27,"connectionCount":25}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:59780","uuid":"c9b4c4d2-a9d1-45ed-b5ed-1ada426d084e","connectionId":23,"connectionCount":23}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:59760","uuid":"d05cca54-6246-478d-bf8d-7e42f0d5e408","connectionId":4,"connectionCount":24}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:59785","uuid":"c0812b19-8847-42f9-8402-bccdc9383700","connectionId":28,"connectionCount":22}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:59768","uuid":"afb2e18d-bfd3-4230-ada9-4e58544b6e43","connectionId":12,"connectionCount":21}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:59790","uuid":"c7e7442e-c134-4fa6-a263-8a38fd6867bb","connectionId":33,"connectionCount":20}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:59775","uuid":"172d3bd0-325e-4db3-ac13-ae21b67823a8","connectionId":18,"connectionCount":19}}
21:32:53.164 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:59779","uuid":"87c37aa5-f777-4f92-bb6b-dfa69cf68df1","connectionId":22,"connectionCount":18}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:59776","uuid":"1a84f2cd-5802-4a9d-a64b-cc570df55b42","connectionId":19,"connectionCount":17}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:59781","uuid":"7f6a9101-4a67-4fae-8a90-e6120ed858d0","connectionId":24,"connectionCount":16}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:59782","uuid":"2c14f7f1-ac45-459c-881a-61ec20fa5547","connectionId":25,"connectionCount":15}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:59787","uuid":"c97d40c2-28d8-484a-b6da-d0e4fdb66df8","connectionId":30,"connectionCount":14}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:59764","uuid":"620c1b8b-19f9-44fd-b80d-bb15f439e2ed","connectionId":8,"connectionCount":13}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:59762","uuid":"e4d16b81-9667-4d59-abcf-2b67f642ffe1","connectionId":6,"connectionCount":11}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:59761","uuid":"6c5d42a5-bccc-49c1-a9b1-c1c1401618e7","connectionId":5,"connectionCount":12}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:59792","uuid":"c59a2e52-8ae9-4440-909c-a9362226e26c","connectionId":35,"connectionCount":10}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:59791","uuid":"42b9ffc9-0194-4815-a659-1e44426de509","connectionId":34,"connectionCount":9}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:59772","uuid":"cb83cfc1-0858-4a84-88ee-5d28581e8c50","connectionId":15,"connectionCount":8}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.165-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:59789","uuid":"1d915db4-932c-4534-ac4c-8f3d62524890","connectionId":32,"connectionCount":7}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:59793","uuid":"0cfb38d0-c362-4525-8dab-62cf476a9d4d","connectionId":36,"connectionCount":6}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:59773","uuid":"88f2bc37-27c0-4148-8430-0012cb8c366b","connectionId":16,"connectionCount":5}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:59757","uuid":"bfc5eab3-0f3b-4717-9d4f-e3f356d23a03","connectionId":2,"connectionCount":4}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:59771","uuid":"69ba531c-2339-4dc8-8f9e-270501585974","connectionId":14,"connectionCount":3}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:59767","uuid":"190ca818-e22b-4b80-984b-677084ec3bb8","connectionId":11,"connectionCount":2}}
21:32:53.165 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.166-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:59769","uuid":"84e7826e-e488-4beb-ad72-c58e9abb8f46","connectionId":13,"connectionCount":1}}
21:32:53.412 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.412-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn1","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
21:32:53.412 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.412-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":133}}
21:32:53.412 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:53.413-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:59756","uuid":"c79b352f-7892-4f53-bf72-2ca41ed6e494","connectionId":1,"connectionCount":0}}
21:32:55.179 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.179-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59748","uuid":"624371bd-1be2-493a-82ca-b0e8380b77dd","connectionId":38,"connectionCount":1}}
21:32:55.179 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.180-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:59748"}}}
21:32:55.179 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
21:32:55.180 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.180-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:59748","uuid":"624371bd-1be2-493a-82ca-b0e8380b77dd","connectionId":38,"connectionCount":0}}
21:32:55.282 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.283-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59749","uuid":"9db12de0-7653-4d6d-acea-fd7cc9b8e9bf","connectionId":39,"connectionCount":1}}
21:32:55.283 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.283-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
21:32:55.283 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread74","msg":"Attempting to enter quiesce mode"}
21:32:55.283 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread74","msg":"Shutting down the FLE Crud thread pool"}
21:32:55.283 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread74","msg":"Shutting down the MirrorMaestro"}
21:32:55.283 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread74","msg":"Shutting down the WaitForMajorityService"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread74","msg":"Shutting down the LogicalSessionCache"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.284-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread74","msg":"Shutdown: going to close listening sockets"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread74","msg":"Shutting down the global connection pool"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread74","msg":"Shutting down the FlowControlTicketholder"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread74","msg":"Stopping further Flow Control ticket acquisitions."}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread74","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread74","msg":"Shutting down the ReplicationCoordinator"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread74","msg":"Shutting down the ShardingInitializationMongoD"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread74","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread74","msg":"Killing all operations for shutdown"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread74","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread74","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread74","msg":"Shutting down all open transactions"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread74","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
21:32:55.284 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread74","msg":"Shutting down the IndexBuildsCoordinator"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread74","msg":"Shutting down the ReplicaSetMonitor"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread74","msg":"Shutting down the MigrationUtilExecutor"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread74","msg":"Shutting down the ServiceEntryPoint"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread74","msg":"Shutting down free monitoring"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread74","msg":"Shutting down free monitoring"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread74","msg":"Shutting down the HealthLog"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.285-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread74","msg":"Shutting down the TTL monitor"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread74","msg":"Shutting down TTL collection monitor thread"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread74","msg":"Finished shutting down TTL collection monitor thread"}
21:32:55.285 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread74","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
21:32:55.286 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread74","msg":"Acquiring the global lock for shutdown"}
21:32:55.286 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread74","msg":"Shutting down the storage engine"}
21:32:55.286 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.286-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread74","msg":"Shutting down journal flusher thread"}
21:32:55.315 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread74","msg":"Finished shutting down journal flusher thread"}
21:32:55.315 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread74","msg":"Shutting down checkpoint thread"}
21:32:55.315 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread74","msg":"Finished shutting down checkpoint thread"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread74","msg":"Deregistering all the collections"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread74","msg":"Timestamp monitor shutting down"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread74","msg":"WiredTigerKVEngine shutting down"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread74","msg":"Shutting down session sweeper thread"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.316-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread74","msg":"Finished shutting down session sweeper thread"}
21:32:55.316 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.317-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread74","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
21:32:55.350 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.350-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread74","msg":"WiredTiger closed","attr":{"durationMillis":33}}
21:32:55.350 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.350-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread74","msg":"shutdown: removing fs lock..."}
21:32:55.350 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.350-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread74","msg":"Dropping the scope cache for shutdown"}
21:32:55.350 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.350-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread74","msg":"Shutting down full-time diagnostic data capture"}
21:32:55.353 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.354-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread74","msg":"Now exiting"}
21:32:55.353 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:55.354-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread74","msg":"Shutting down","attr":{"exitCode":0}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn20","msg":"Connection ended","attr":{"remote":"127.0.0.1:59818","uuid":"410bcc74-fc17-450a-8676-cc59a961b454","connectionId":20,"connectionCount":34}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:59808","uuid":"636e568c-0966-4429-bee0-9a8db9acca1f","connectionId":10,"connectionCount":36}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:59810","uuid":"bc728fbf-7b83-467a-ae1b-7f4206af4adb","connectionId":12,"connectionCount":35}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:59814","uuid":"f5d735c8-bdbf-4c46-823c-62dbc80a3012","connectionId":16,"connectionCount":31}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:59804","uuid":"535eddca-a61a-4ecd-9a7b-1f01a490e7a1","connectionId":6,"connectionCount":33}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:59822","uuid":"e19a8af7-8c64-4f60-907e-ebf189a0bf7b","connectionId":24,"connectionCount":32}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:59815","uuid":"07f402fc-f4a9-44aa-a2e8-6917e79e9508","connectionId":17,"connectionCount":30}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:59825","uuid":"b0e0d4ad-2900-4eb9-a0de-49fa3671a50a","connectionId":26,"connectionCount":29}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn33","msg":"Connection ended","attr":{"remote":"127.0.0.1:59835","uuid":"6a820604-f7cd-4253-ab1a-1846f77732cd","connectionId":33,"connectionCount":28}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn35","msg":"Connection ended","attr":{"remote":"127.0.0.1:59838","uuid":"bb620263-be29-42bc-bc53-5ca4c39e5a1f","connectionId":35,"connectionCount":27}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn37","msg":"Connection ended","attr":{"remote":"127.0.0.1:59839","uuid":"28c43a7e-80bd-4904-85f9-da7724b5b991","connectionId":37,"connectionCount":26}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:59803","uuid":"3122bdd5-15ae-4df9-873c-a6b29012f895","connectionId":5,"connectionCount":25}}
21:32:56.502 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.502-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:59802","uuid":"e6e36bcb-bd9b-4eaa-a5c5-de1ccba4593c","connectionId":3,"connectionCount":24}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn13","msg":"Connection ended","attr":{"remote":"127.0.0.1:59811","uuid":"38eb8c1d-6396-4458-8d9a-e91ace9be99f","connectionId":13,"connectionCount":22}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn11","msg":"Connection ended","attr":{"remote":"127.0.0.1:59809","uuid":"40685def-729f-4eee-959d-62114499461b","connectionId":11,"connectionCount":23}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn30","msg":"Connection ended","attr":{"remote":"127.0.0.1:59830","uuid":"af9dce6b-94b6-44ab-9f5a-d509c255ccd1","connectionId":30,"connectionCount":21}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:59801","uuid":"68a0aa49-8c25-4421-9679-9c7b9bfcc908","connectionId":4,"connectionCount":20}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:59813","uuid":"5cffaaa4-15b4-4a96-af3c-9411077e2d40","connectionId":15,"connectionCount":19}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:59816","uuid":"0c68da36-b34d-4c7d-b596-1fc9449479ef","connectionId":18,"connectionCount":18}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:59817","uuid":"7d949186-5227-437a-8129-dfa302bb7f3e","connectionId":19,"connectionCount":17}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:59812","uuid":"680dbb8a-b40f-47de-91cb-126939b7b228","connectionId":14,"connectionCount":16}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn21","msg":"Connection ended","attr":{"remote":"127.0.0.1:59819","uuid":"dfce9c47-8603-492f-b103-a08213a0bcf4","connectionId":21,"connectionCount":15}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn22","msg":"Connection ended","attr":{"remote":"127.0.0.1:59820","uuid":"d11ab9ba-08b1-45fa-ad89-18f475999fea","connectionId":22,"connectionCount":14}}
21:32:56.503 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.503-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn23","msg":"Connection ended","attr":{"remote":"127.0.0.1:59821","uuid":"c876e96f-944c-49a4-9260-ecc1543ed0bf","connectionId":23,"connectionCount":13}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:59836","uuid":"4db8937e-21de-464a-bc21-9d47f1bc311f","connectionId":34,"connectionCount":12}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:59806","uuid":"e80f1b8f-2fa9-412b-b8c5-282d149cb3d6","connectionId":8,"connectionCount":11}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn36","msg":"Connection ended","attr":{"remote":"127.0.0.1:59837","uuid":"21ef033c-1374-4212-a1dc-406dc1d82be6","connectionId":36,"connectionCount":10}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn25","msg":"Connection ended","attr":{"remote":"127.0.0.1:59824","uuid":"42a465e9-eee4-4990-9403-ceb4e0229897","connectionId":25,"connectionCount":9}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn31","msg":"Connection ended","attr":{"remote":"127.0.0.1:59834","uuid":"24e3f8cd-1565-4603-8db1-e9f63a248852","connectionId":31,"connectionCount":8}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:59805","uuid":"9a55f3fe-9a11-4621-a799-488a1ea1a8d5","connectionId":7,"connectionCount":7}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:59807","uuid":"1a4dc0ba-11cf-4987-b698-795cc3d78234","connectionId":9,"connectionCount":6}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn28","msg":"Connection ended","attr":{"remote":"127.0.0.1:59829","uuid":"b1bae6ac-e3b0-499d-a83c-593500c4d35e","connectionId":28,"connectionCount":5}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:59832","uuid":"227d9663-dce6-45ff-ab0f-615608d0a624","connectionId":29,"connectionCount":4}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn32","msg":"Connection ended","attr":{"remote":"127.0.0.1:59833","uuid":"ef2c401d-3cb7-4e50-929d-3b2db0fe3280","connectionId":32,"connectionCount":3}}
21:32:56.504 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.504-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn27","msg":"Connection ended","attr":{"remote":"127.0.0.1:59827","uuid":"42fec068-007d-4db8-b2b7-ae3c3e208e98","connectionId":27,"connectionCount":2}}
21:32:56.505 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.505-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:59799","uuid":"94ff1865-f5b8-43df-9141-80904f136675","connectionId":2,"connectionCount":1}}
21:32:56.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.588-06:00"},"s":"W",  "c":"NETWORK",  "id":4615610, "ctx":"conn1","msg":"Failed to check socket connectivity","attr":{"error":{"code":6,"codeName":"HostUnreachable","errmsg":"Connection closed by peer"}}}
21:32:56.588 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.588-06:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":276}}
21:32:56.589 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:56.589-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:59800","uuid":"88e1d668-c1d7-419f-8fcc-6b56955923cb","connectionId":1,"connectionCount":0}}
21:32:58.520 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.520-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59754","uuid":"381e935e-684a-42f0-9994-e3bf734cc03f","connectionId":38,"connectionCount":1}}
21:32:58.524 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.525-06:00"},"s":"W",  "c":"COMMAND",  "id":5578800, "ctx":"conn38","msg":"Received wire protocol op code or command that is no longer supported. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal","attr":{"op":"query","clientInfo":{"address":"127.0.0.1:59754"}}}
21:32:58.524 ERROR d.f.embed.mongo.runtime.Mongod - Got some response, should be an error message
21:32:58.525 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.525-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:59754","uuid":"381e935e-684a-42f0-9994-e3bf734cc03f","connectionId":38,"connectionCount":0}}
21:32:58.626 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.627-06:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:59756","uuid":"f56ff6e4-e0f5-4d19-bf85-a84b30313a3d","connectionId":39,"connectionCount":1}}
21:32:58.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.628-06:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn39","msg":"Terminating via shutdown command","attr":{"force":false,"timeoutMillis":15000}}
21:32:58.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.628-06:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"thread77","msg":"Attempting to enter quiesce mode"}
21:32:58.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.628-06:00"},"s":"I",  "c":"-",        "id":6371601, "ctx":"thread77","msg":"Shutting down the FLE Crud thread pool"}
21:32:58.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.628-06:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"thread77","msg":"Shutting down the MirrorMaestro"}
21:32:58.628 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.628-06:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"thread77","msg":"Shutting down the WaitForMajorityService"}
21:32:58.629 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.629-06:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"thread77","msg":"Shutting down the LogicalSessionCache"}
21:32:58.629 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.629-06:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"thread77","msg":"Shutdown: going to close listening sockets"}
21:32:58.629 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"thread77","msg":"Shutting down the global connection pool"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"thread77","msg":"Shutting down the FlowControlTicketholder"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"thread77","msg":"Stopping further Flow Control ticket acquisitions."}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"thread77","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"thread77","msg":"Shutting down the ReplicationCoordinator"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"thread77","msg":"Shutting down the ShardingInitializationMongoD"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"thread77","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"thread77","msg":"Killing all operations for shutdown"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"thread77","msg":"Interrupted all currently running operations","attr":{"opsKilled":3}}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"thread77","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"thread77","msg":"Shutting down all open transactions"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"thread77","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
21:32:58.630 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.630-06:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"thread77","msg":"Shutting down the IndexBuildsCoordinator"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"thread77","msg":"Shutting down the ReplicaSetMonitor"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"thread77","msg":"Shutting down the MigrationUtilExecutor"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"thread77","msg":"Shutting down the ServiceEntryPoint"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"thread77","msg":"Shutting down free monitoring"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"thread77","msg":"Shutting down free monitoring"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"thread77","msg":"Shutting down the HealthLog"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"thread77","msg":"Shutting down the TTL monitor"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"thread77","msg":"Shutting down TTL collection monitor thread"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.631-06:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"thread77","msg":"Finished shutting down TTL collection monitor thread"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.632-06:00"},"s":"I",  "c":"CONTROL",  "id":6278511, "ctx":"thread77","msg":"Shutting down the Change Stream Expired Pre-images Remover"}
21:32:58.631 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.632-06:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"thread77","msg":"Acquiring the global lock for shutdown"}
21:32:58.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.632-06:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"thread77","msg":"Shutting down the storage engine"}
21:32:58.632 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.632-06:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"thread77","msg":"Shutting down journal flusher thread"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.657-06:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"thread77","msg":"Finished shutting down journal flusher thread"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.657-06:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"thread77","msg":"Shutting down checkpoint thread"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.657-06:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"thread77","msg":"Finished shutting down checkpoint thread"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.657-06:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"thread77","msg":"Deregistering all the collections"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.658-06:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"thread77","msg":"Timestamp monitor shutting down"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.658-06:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"thread77","msg":"WiredTigerKVEngine shutting down"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.658-06:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"thread77","msg":"Shutting down session sweeper thread"}
21:32:58.657 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.658-06:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"thread77","msg":"Finished shutting down session sweeper thread"}
21:32:58.658 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.658-06:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"thread77","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
21:32:58.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.697-06:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"thread77","msg":"WiredTiger closed","attr":{"durationMillis":39}}
21:32:58.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.697-06:00"},"s":"I",  "c":"STORAGE",  "id":22281,   "ctx":"thread77","msg":"shutdown: removing fs lock..."}
21:32:58.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.698-06:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"thread77","msg":"Dropping the scope cache for shutdown"}
21:32:58.697 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.698-06:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"thread77","msg":"Shutting down full-time diagnostic data capture"}
21:32:58.700 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.701-06:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"thread77","msg":"Now exiting"}
21:32:58.701 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:58.701-06:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"thread77","msg":"Shutting down","attr":{"exitCode":0}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn9","msg":"Connection ended","attr":{"remote":"127.0.0.1:59853","uuid":"aca29d69-1c07-4bf2-a3fb-f098ceb638fc","connectionId":9,"connectionCount":34}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn7","msg":"Connection ended","attr":{"remote":"127.0.0.1:59851","uuid":"61f2fc7b-a291-475c-8528-ef1fbce71599","connectionId":7,"connectionCount":33}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn4","msg":"Connection ended","attr":{"remote":"127.0.0.1:59847","uuid":"f0e72793-694e-4f5f-9854-bf6c91d951ad","connectionId":4,"connectionCount":35}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn10","msg":"Connection ended","attr":{"remote":"127.0.0.1:59854","uuid":"6d8f3b75-4631-4b5e-9d19-f8bf5efecad5","connectionId":10,"connectionCount":36}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn5","msg":"Connection ended","attr":{"remote":"127.0.0.1:59849","uuid":"7bf9e3a1-7c72-4dc6-ac2a-ddd36d65b368","connectionId":5,"connectionCount":37}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn14","msg":"Connection ended","attr":{"remote":"127.0.0.1:59858","uuid":"8e70dd5b-51c6-4819-b95e-8942ddd63302","connectionId":14,"connectionCount":30}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn12","msg":"Connection ended","attr":{"remote":"127.0.0.1:59856","uuid":"0f381118-e050-4a89-ae5c-f98d0dcdc569","connectionId":12,"connectionCount":31}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn18","msg":"Connection ended","attr":{"remote":"127.0.0.1:59862","uuid":"56d987bf-bf01-4429-9522-776cc112b8ca","connectionId":18,"connectionCount":32}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn24","msg":"Connection ended","attr":{"remote":"127.0.0.1:59868","uuid":"85f16f29-3011-45a7-abea-fe44fe8e1acf","connectionId":24,"connectionCount":29}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn26","msg":"Connection ended","attr":{"remote":"127.0.0.1:59870","uuid":"0f00e862-ad54-4849-88b0-8b780b3b200e","connectionId":26,"connectionCount":28}}
21:32:59.846 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn29","msg":"Connection ended","attr":{"remote":"127.0.0.1:59874","uuid":"6333a71f-1b84-4601-98e3-b771356a3404","connectionId":29,"connectionCount":27}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn34","msg":"Connection ended","attr":{"remote":"127.0.0.1:59879","uuid":"5d3f10b0-8f3d-4c47-be4e-20340ccacb53","connectionId":34,"connectionCount":25}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn38","msg":"Connection ended","attr":{"remote":"127.0.0.1:59883","uuid":"fea36413-18de-47e4-916d-79b47361cc78","connectionId":38,"connectionCount":24}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn8","msg":"Connection ended","attr":{"remote":"127.0.0.1:59852","uuid":"cef4fac6-60c9-48cd-aa93-1666f36d10cb","connectionId":8,"connectionCount":26}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn15","msg":"Connection ended","attr":{"remote":"127.0.0.1:59859","uuid":"addfca04-9678-4779-875f-6820a4442899","connectionId":15,"connectionCount":22}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn19","msg":"Connection ended","attr":{"remote":"127.0.0.1:59863","uuid":"5cc42427-8269-41d0-bd0f-69ee0f5b022c","connectionId":19,"connectionCount":21}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn17","msg":"Connection ended","attr":{"remote":"127.0.0.1:59861","uuid":"b6251bda-0221-4e44-bf63-862f8539c963","connectionId":17,"connectionCount":23}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn16","msg":"Connection ended","attr":{"remote":"127.0.0.1:59860","uuid":"d9466959-3aed-48de-972a-3961e8399d69","connectionId":16,"connectionCount":19}}
21:32:59.847 INFO  d.f.e.m.s.a.EmbeddedMongo - {"t":{"$date":"2025-12-03T21:32:59.847-06:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn6","msg":"Connection ended","attr":{"remote":"127.0.0.1:59850","uuid":"250d4265-457a-4085-8bcf-4e38bed6cf79","connectionId":6,"connectionCount":20}}
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   HealthControllerTest.health_ShouldReturnStatusUp:33 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testCreateProduct:147 Status expected:<201 CREATED> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testDeleteProduct:203 Status expected:<204 NO_CONTENT> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testGetLowStockProducts:234 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testGetProductById:110 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProducts:68 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProductsWithCategoryFilter:86 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testListProductsWithStatusFilter:98 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testPagination:289 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   ProductControllerIntegrationTest.testUpdateProduct:169 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate:249 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.090586500Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.089586Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_shouldCalculateConversionRate(AdminDashboardServiceTest.java:234)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully:273 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantIdAndCreatedAtAfter' method:
    orderRepository.countByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.190056100Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getConversionMetrics$0(AdminDashboardService.java:290)
 - has following stubbing(s) with different arguments:
    1. orderRepository.countByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.189054800Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getConversionMetrics_withZeroVisitors_shouldHandleGracefully(AdminDashboardServiceTest.java:258)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics:225 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndCreatedAtAfter' method:
    userRepository.findByTenantIdAndCreatedAtAfter(
    "test-tenant",
    2025-11-04T03:32:35.186056600Z
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getCustomerGrowth$0(AdminDashboardService.java:252)
 - has following stubbing(s) with different arguments:
    1. userRepository.findByTenantIdAndCreatedAtAfter(
    "tenant-123",
    2025-11-04T03:32:35.185051500Z
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getCustomerGrowth_shouldReturnGrowthMetrics(AdminDashboardServiceTest.java:210)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview:99 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'countByTenantId' method:
    productRepository.countByTenantId(
    "test-tenant"
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getDashboardOverview$0(AdminDashboardService.java:65)
 - has following stubbing(s) with different arguments:
    1. productRepository.countByTenantId(
    "tenant-123"
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getDashboardOverview_shouldReturnCompleteOverview(AdminDashboardServiceTest.java:73)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold:177 expectation "assertNext" failed (expected: onNext(); actual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: 
Strict stubbing argument mismatch. Please check:
 - this invocation of 'findByTenantIdAndActiveTrueAndStockQuantityLessThan' method:
    productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "test-tenant",
    10
);
    -> at com.retail.domain.analytics.AdminDashboardService.lambda$getLowStockProducts$0(AdminDashboardService.java:197)
 - has following stubbing(s) with different arguments:
    1. productRepository.findByTenantIdAndActiveTrueAndStockQuantityLessThan(
    "tenant-123",
    10
);
      -> at com.retail.domain.analytics.AdminDashboardServiceTest.getLowStockProducts_shouldReturnProductsBelowThreshold(AdminDashboardServiceTest.java:162)
Typically, stubbing argument mismatch indicates user mistake when writing tests.
Mockito fails early so that you can debug potential problem easily.
However, there are legit scenarios when this exception generates false negative signal:
  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API
    Please use 'will().given()' or 'doReturn().when()' API for stubbing.
  - stubbed method is intentionally invoked with different arguments by code under test
    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).
For more information see javadoc for PotentialStubbingProblem class.))
[ERROR]   AuthenticationSecurityTest.testHttpsRequirement:264 Response header 'Strict-Transport-Security' does not exist
[ERROR]   AuthenticationSecurityTest.testLoginRateLimiting:199 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testNoSqlInjectionPrevention:178 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testPasswordNotInErrorMessages:355 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectExpiredJwtToken:88 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectInvalidJwtToken:74 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectUnauthenticatedRequests:63 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testRejectWeakPasswords:108 Status expected:<400 BAD_REQUEST> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testSecureCookieFlags:288 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testSqlInjectionPrevention:151 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testTokenInvalidationOnLogout:315 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthenticationSecurityTest.testUserEnumerationPrevention:231 Status expected:<401 UNAUTHORIZED> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanAccessAllEndpoints:159->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanCreateProducts:189->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanDeleteProducts:212->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testAdminCanManageUserRoles:227->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessOwnOrders:130->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCanAccessProducts:68->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessAdminEndpoints:81->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotAccessOtherCustomerOrders:143->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotCreateProducts:95->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testCustomerCannotDeleteProducts:118->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testMethodLevelSecurity:305->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testPreventPrivilegeEscalation:318->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testRoleChangeAuthorization:342->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanCreateProducts:251->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCanManageOwnStoreOrders:274->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   AuthorizationSecurityTest.testStoreOwnerCannotAccessOtherTenantData:287->loginAndGetToken:389 Status expected:<200 OK> but was:<404 NOT_FOUND>
[ERROR]   TenantIsolationSecurityTest.lambda$testTenantContextCannotBeOverridden$0:293 
expected: "tenant-b-002"
 but was: "tenant-a-001"
[ERROR] Errors: 
[ERROR]   OrderRepositoryIntegrationTest.testCountByStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testCountByTenantId  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testDeleteOrder  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByCustomerEmail  IllegalState Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByDateRange  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByOrderNumber  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindByTenantId  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindHighValueOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testFindRecentOrders  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testSaveAndFindById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   OrderRepositoryIntegrationTest.testUpdateOrderStatus  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@408be22c testClass = com.retail.infrastructure.persistence.OrderRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@35b120bf key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testCountActiveProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testDeleteProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindActiveProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindByCategory  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindByCategoryMultipleResults  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindBySku  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindBySkuNotFound  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindLowStockProducts  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testFindWithPagination  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testSaveAndFindById  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testTenantIsolation  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[ERROR]   ProductRepositoryIntegrationTest.testUpdateProduct  IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [ReactiveWebMergedContextConfiguration@73ce275a testClass = com.retail.infrastructure.persistence.ProductRepositoryIntegrationTest, locations = [], classes = [com.retail.RetailApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@51af9a89 key = [com.retail.TestRedisConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@10c72a6f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d5c2745, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4cb2918c, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2fcd7d3f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4e49ce2b, org.springframework.boot.test.context.SpringBootTestAnnotation@9d1476c8], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
[INFO] 
[ERROR] Tests run: 270, Failures: 44, Errors: 25, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  44.783 s
[INFO] Finished at: 2025-12-03T21:33:02-06:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project retail-backend: There are test failures.
[ERROR] 
[ERROR] See D:\code\retail-agentic\backend\target\surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
